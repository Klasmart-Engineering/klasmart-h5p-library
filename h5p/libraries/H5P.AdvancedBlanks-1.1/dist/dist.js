!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankLoader=void 0;var i=n(2),r=n(13),o=n(4),s=function(){function e(e,t,n,i){this.settings=e,this.localization=t,this.jquery=n,this.messageService=i}return e.initialize=function(t,n,i,r){return this._instance=new e(t,n,i,r),this._instance},Object.defineProperty(e,"instance",{get:function(){if(this._instance)return this._instance;throw"BlankLoader must be initialized before use."},enumerable:!1,configurable:!0}),e.prototype.decodeHtml=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},e.prototype.createBlank=function(e,t,n,s){var a=new r.Blank(this.settings,this.localization,this.jquery,this.messageService,e);if(t&&(t=this.decodeHtml(t),a.addCorrectAnswer(new i.Answer(t,"",!1,0,this.settings))),a.setHint(new o.Message(n||"",!1,0)),s)for(var l=0,c=s;l<c.length;l++){var h=c[l];a.addIncorrectAnswer(this.decodeHtml(h.incorrectAnswerText),h.incorrectAnswerFeedback,h.showHighlight,h.highlight)}return a},e.prototype.replaceSnippets=function(e,t){var n=this;e.correctAnswers.concat(e.incorrectAnswers).forEach((function(e){return e.message.text=n.getStringWithSnippets(e.message.text,t)})),e.hint.text=this.getStringWithSnippets(e.hint.text,t)},e.prototype.getStringWithSnippets=function(e,t){if(!e||void 0===e)return"";if(!t)return e;for(var n=0,i=t;n<i.length;n++){var r=i[n];void 0!==r.name&&""!==r.name&&void 0!==r.text&&""!==r.text&&(e=e.replace("@"+r.name,r.text))}return e},e.prototype.linkHighlightIdToObject=function(e,t,n){for(var i=0,r=e.correctAnswers;i<r.length;i++){r[i].linkHighlightIdToObject(t,n)}for(var o=0,s=e.incorrectAnswers;o<s.length;o++){s[o].linkHighlightIdToObject(t,n)}e.hint.linkHighlight(t,n)},e}();t.BlankLoader=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectAlternatives=t.ClozeType=t.MessageType=void 0,function(e){e[e.Error=0]="Error",e[e.Correct=1]="Correct",e[e.Retry=2]="Retry",e[e.ShowSolution=3]="ShowSolution",e[e.None=4]="None"}(t.MessageType||(t.MessageType={})),function(e){e[e.Type=0]="Type",e[e.Select=1]="Select"}(t.ClozeType||(t.ClozeType={})),function(e){e[e.Alternatives=0]="Alternatives",e[e.All=1]="All"}(t.SelectAlternatives||(t.SelectAlternatives={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Answer=t.Evaluation=t.Correctness=void 0;var i,r=n(4),o=n(5);!function(e){e[e.ExactMatch=0]="ExactMatch",e[e.CloseMatch=1]="CloseMatch",e[e.NoMatch=2]="NoMatch"}(i=t.Correctness||(t.Correctness={}));var s=function(e){this.usedAnswer=e,this.correctness=i.NoMatch,this.characterDifferenceCount=0,this.usedAlternative=""};t.Evaluation=s;var a=function(){function e(e,t,n,i,o){this.settings=o,this.alternatives=e.split(/\//).map((function(e){return e.trim()})),this.message=new r.Message(t,n,i),""===e.trim()?this.appliesAlways=!0:this.appliesAlways=!1}return e.prototype.linkHighlightIdToObject=function(e,t){this.message.linkHighlight(e,t)},e.prototype.activateHighlight=function(){this.message.highlightedElement&&(this.message.highlightedElement.isHighlighted=!0)},e.prototype.cleanString=function(e){return(e=e.trim()).replace(/\s{2,}/g," ")},e.prototype.getChangesCountFromDiff=function(e){for(var t=0,n="",i=0,r=0,o=e;r<o.length;r++){var s=o[r];s.removed?(t+=s.value.length,n="removed"):s.added?("removed"===n?i<s.value.length&&(t+=s.value.length-i):t+=s.value.length,n="added"):n="same",i=s.value.length}return t},e.prototype.getAcceptableSpellingMistakes=function(e){return this.settings.warnSpellingErrors||this.settings.acceptSpellingErrors?Math.floor(e.length/10)+1:0},e.prototype.evaluateAttempt=function(e){for(var t=this.cleanString(e),n=new s(this),r=0,a=this.alternatives;r<a.length;r++){var l=a[r],c=this.cleanString(l),h=o.diffChars(c,t,{ignoreCase:!this.settings.caseSensitive}),u=this.getChangesCountFromDiff(h);if(0===u)return n.usedAlternative=c,n.correctness=i.ExactMatch,n;u<=this.getAcceptableSpellingMistakes(l)&&(0===n.characterDifferenceCount||u<n.characterDifferenceCount)&&(n.usedAlternative=c,n.correctness=i.CloseMatch,n.characterDifferenceCount=u)}return n},e}();t.Answer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClozeElement=t.ClozeElementType=void 0,function(e){e[e.Blank=0]="Blank",e[e.Highlight=1]="Highlight"}(t.ClozeElementType||(t.ClozeElementType={}));var i=function(){};t.ClozeElement=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var i=function(e,t,n){var i=this;this.text=e,this.relativeHighlightPosition=n,this.linkHighlight=function(e,t){i.relativeHighlightPosition&&(i.relativeHighlightPosition<0&&0-i.relativeHighlightPosition-1<e.length?i.highlightedElement=e[0-i.relativeHighlightPosition-1]:i.relativeHighlightPosition>0&&i.relativeHighlightPosition-1<t.length&&(i.highlightedElement=t[i.relativeHighlightPosition-1]))},t||(this.relativeHighlightPosition=void 0)};t.Message=i},function(e,t,n){!function(e){"use strict";function t(){}function n(e,t,n,i,r){for(var o=0,s=t.length,a=0,l=0;o<s;o++){var c=t[o];if(c.removed){if(c.value=e.join(i.slice(l,l+c.count)),l+=c.count,o&&t[o-1].added){var h=t[o-1];t[o-1]=t[o],t[o]=h}}else{if(!c.added&&r){var u=n.slice(a,a+c.count);u=u.map((function(e,t){var n=i[l+t];return n.length>e.length?n:e})),c.value=e.join(u)}else c.value=e.join(n.slice(a,a+c.count));a+=c.count,c.added||(l+=c.count)}}var p=t[s-1];return s>1&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[s-2].value+=p.value,t.pop()),t}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={}),this.options=r;var s=this;function a(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var l=(t=this.removeEmpty(this.tokenize(t))).length,c=e.length,h=1,u=l+c,p=[{newPos:-1,components:[]}],d=this.extractCommon(p[0],t,e,0);if(p[0].newPos+1>=l&&d+1>=c)return a([{value:this.join(t),count:t.length}]);function f(){for(var r=-1*h;r<=h;r+=2){var o=void 0,u=p[r-1],d=p[r+1],f=(d?d.newPos:0)-r;u&&(p[r-1]=void 0);var g=u&&u.newPos+1<l,v=d&&0<=f&&f<c;if(g||v){if(!g||v&&u.newPos<d.newPos?(o=i(d),s.pushComponent(o.components,void 0,!0)):((o=u).newPos++,s.pushComponent(o.components,!0,void 0)),f=s.extractCommon(o,t,e,r),o.newPos+1>=l&&f+1>=c)return a(n(s,o.components,t,e,s.useLongestToken));p[r]=o}else p[r]=void 0}h++}if(o)!function e(){setTimeout((function(){if(h>u)return o();f()||e()}),0)}();else for(;h<=u;){var g=f();if(g)return g}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,o=n.length,s=e.newPos,a=s-i,l=0;s+1<r&&a+1<o&&this.equals(t[s+1],n[a+1]);)s++,a++,l++;return l&&e.components.push({count:l}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var r=new t;function o(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,l=new t;l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!a.test(e)&&!a.test(t)},l.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&s.test(t[n])&&s.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var c=new t;function h(e,t,n){return c.diff(e,t,n)}c.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t};var u=new t;u.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var p=new t;function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}p.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var v=Object.prototype.toString,b=new t;function m(e,t,n,i,r){var o,s;for(t=t||[],n=n||[],i&&(e=i(r,e)),o=0;o<t.length;o+=1)if(t[o]===e)return n[o];if("[object Array]"===v.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),o=0;o<e.length;o+=1)s[o]=m(e[o],t,n,i,r);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===d(e)&&null!==e){t.push(e),s={},n.push(s);var a,l=[];for(a in e)e.hasOwnProperty(a)&&l.push(a);for(l.sort(),o=0;o<l.length;o+=1)s[a=l[o]]=m(e[a],t,n,i,a);t.pop(),n.pop()}else s=e;return s}b.useLongestToken=!0,b.tokenize=c.tokenize,b.castInput=function(e){var t=this.options,n=t.undefinedReplacement,i=t.stringifyReplacer,r=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(m(e,null,null,r),r,"  ")},b.equals=function(e,n){return t.prototype.equals.call(b,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var y=new t;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],o=0;function s(){var e={};for(r.push(e);o<n.length;){var i=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);s&&(e.index=s[1]),o++}for(a(e),a(e),e.hunks=[];o<n.length;){var c=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(c))break;if(/^@@/.test(c))e.hunks.push(l());else{if(c&&t.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(c));o++}}}function a(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(t){var i="---"===t[1]?"old":"new",r=t[2].split("\t",2),s=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),e[i+"FileName"]=s,e[i+"Header"]=(r[1]||"").trim(),o++}}function l(){var e=o,r=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+r[1],oldLines:void 0===r[2]?1:+r[2],newStart:+r[3],newLines:void 0===r[4]?1:+r[4],lines:[],linedelimiters:[]};0===s.oldLines&&(s.oldStart+=1),0===s.newLines&&(s.newStart+=1);for(var a=0,l=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var c=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==c&&"-"!==c&&" "!==c&&"\\"!==c)break;s.lines.push(n[o]),s.linedelimiters.push(i[o]||"\n"),"+"===c?a++:"-"===c?l++:" "===c&&(a++,l++)}if(a||1!==s.newLines||(s.newLines=0),l||1!==s.oldLines||(s.oldLines=0),t.strict){if(a!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;o<n.length;)s();return r}function w(e,t,n){var i=!0,r=!1,o=!1,s=1;return function a(){if(i&&!o){if(r?s++:i=!1,e+s<=n)return s;o=!0}if(!r)return o||(i=!0),t<=e-s?-s++:(r=!0,a())}}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=k(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var i,r,o=e.split(/\r\n|[\n\v\f\r\x85]/),s=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,l=n.compareLine||function(e,t,n,i){return t===i},c=0,h=n.fuzzFactor||0,u=0,p=0;function d(e,t){for(var n=0;n<e.lines.length;n++){var i=e.lines[n],r=i.length>0?i[0]:" ",s=i.length>0?i.substr(1):i;if(" "===r||"-"===r){if(!l(t+1,o[t],r,s)&&++c>h)return!1;t++}}return!0}for(var f=0;f<a.length;f++){for(var g=a[f],v=o.length-g.oldLines,b=0,m=p+g.oldStart-1,y=w(m,u,v);void 0!==b;b=y())if(d(g,m+b)){g.offset=p+=b;break}if(void 0===b)return!1;u=g.offset+g.oldStart+g.oldLines}for(var S=0,x=0;x<a.length;x++){var C=a[x],A=C.oldStart+C.offset+S-1;S+=C.newLines-C.oldLines;for(var z=0;z<C.lines.length;z++){var T=C.lines[z],L=T.length>0?T[0]:" ",P=T.length>0?T.substr(1):T,j=C.linedelimiters[z];if(" "===L)A++;else if("-"===L)o.splice(A,1),s.splice(A,1);else if("+"===L)o.splice(A,0,P),s.splice(A,0,j),A++;else if("\\"===L){var M=C.lines[z-1]?C.lines[z-1][0]:null;"+"===M?i=!0:"-"===M&&(r=!0)}}}if(i)for(;!o[o.length-1];)o.pop(),s.pop();else r&&(o.push(""),s.push("\n"));for(var H=0;H<o.length-1;H++)o[H]=o[H]+s[H];return o.join("")}function x(e,t,n,i,r,o,s){s||(s={}),void 0===s.context&&(s.context=4);var a=h(n,i,s);function l(e){return e.map((function(e){return" "+e}))}a.push({value:"",lines:[]});for(var c=[],u=0,p=0,d=[],g=1,v=1,b=function(e){var t=a[e],r=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=r,t.added||t.removed){var o;if(!u){var h=a[e-1];u=g,p=v,h&&(d=s.context>0?l(h.lines.slice(-s.context)):[],u-=d.length,p-=d.length)}(o=d).push.apply(o,f(r.map((function(e){return(t.added?"+":"-")+e})))),t.added?v+=r.length:g+=r.length}else{if(u)if(r.length<=2*s.context&&e<a.length-2){var b;(b=d).push.apply(b,f(l(r)))}else{var m,y=Math.min(r.length,s.context);(m=d).push.apply(m,f(l(r.slice(0,y))));var k={oldStart:u,oldLines:g-u+y,newStart:p,newLines:v-p+y,lines:d};if(e>=a.length-2&&r.length<=s.context){var w=/\n$/.test(n),S=/\n$/.test(i),x=0==r.length&&d.length>k.oldLines;!w&&x&&n.length>0&&d.splice(k.oldLines,0,"\\ No newline at end of file"),(w||x)&&S||d.push("\\ No newline at end of file")}c.push(k),u=0,p=0,d=[]}g+=r.length,v+=r.length}},m=0;m<a.length;m++)b(m);return{oldFileName:e,newFileName:t,oldHeader:r,newHeader:o,hunks:c}}function C(e,t,n,i,r,o,s){return function(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),t.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var i=e.hunks[n];0===i.oldLines&&(i.oldStart-=1),0===i.newLines&&(i.newStart-=1),t.push("@@ -"+i.oldStart+","+i.oldLines+" +"+i.newStart+","+i.newLines+" @@"),t.push.apply(t,i.lines)}return t.join("\n")+"\n"}(x(e,t,n,i,r,o,s))}function A(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function z(e){var t=function e(t){var n=0,i=0;return t.forEach((function(t){if("string"!=typeof t){var r=e(t.mine),o=e(t.theirs);void 0!==n&&(r.oldLines===o.oldLines?n+=r.oldLines:n=void 0),void 0!==i&&(r.newLines===o.newLines?i+=r.newLines:i=void 0)}else void 0===i||"+"!==t[0]&&" "!==t[0]||i++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:i}}(e.lines),n=t.oldLines,i=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==i?e.newLines=i:delete e.newLines}function T(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return k(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return x(void 0,void 0,t,e)}return e}function L(e){return e.newFileName&&e.newFileName!==e.oldFileName}function P(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function j(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function M(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function H(e,t,n,i,r){var o={offset:t,lines:n,index:0},s={offset:i,lines:r,index:0};for(O(e,o,s),O(e,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var a=o.lines[o.index],l=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==l[0]&&"+"!==l[0])if("+"===a[0]&&" "===l[0]){var c;(c=e.lines).push.apply(c,f(I(o)))}else if("+"===l[0]&&" "===a[0]){var h;(h=e.lines).push.apply(h,f(I(s)))}else"-"===a[0]&&" "===l[0]?F(e,o,s):"-"===l[0]&&" "===a[0]?F(e,s,o,!0):a===l?(e.lines.push(a),o.index++,s.index++):B(e,I(o),I(s));else _(e,o,s)}E(e,o),E(e,s),z(e)}function _(e,t,n){var i,r,o=I(t),s=I(n);if(R(o)&&R(s)){var a,l;if(A(o,s)&&N(n,o,o.length-s.length))return void(a=e.lines).push.apply(a,f(o));if(A(s,o)&&N(t,s,s.length-o.length))return void(l=e.lines).push.apply(l,f(s))}else if(r=s,(i=o).length===r.length&&A(i,r)){var c;return void(c=e.lines).push.apply(c,f(o))}B(e,o,s)}function F(e,t,n,i){var r,o=I(t),s=function(e,t){for(var n=[],i=[],r=0,o=!1,s=!1;r<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],l=t[r];if("+"===l[0])break;if(o=o||" "!==a[0],i.push(l),r++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=e.lines[++e.index];l.substr(1)===a.substr(1)?(n.push(a),e.index++):s=!0}if("+"===(t[r]||"")[0]&&o&&(s=!0),s)return n;for(;r<t.length;)i.push(t[r++]);return{merged:i,changes:n}}(n,o);s.merged?(r=e.lines).push.apply(r,f(s.merged)):B(e,i?s:o,i?o:s)}function B(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function O(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function E(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function I(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;t.push(i),e.index++}return t}function R(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function N(e,t,n){for(var i=0;i<n;i++){var r=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+r)return!1}return e.index+=n,!0}y.tokenize=function(e){return e.slice()},y.join=y.removeEmpty=function(e){return e},e.Diff=t,e.applyPatch=S,e.applyPatches=function(e,t){"string"==typeof e&&(e=k(e));var n=0;!function i(){var r=e[n++];if(!r)return t.complete();t.loadFile(r,(function(e,n){if(e)return t.complete(e);var o=S(n,r,t);t.patched(r,o,(function(e){if(e)return t.complete(e);i()}))}))}()},e.canonicalize=m,e.convertChangesToDMP=function(e){for(var t,n,i=[],r=0;r<e.length;r++)n=(t=e[r]).added?1:t.removed?-1:0,i.push([n,t.value]);return i},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push((r=i.value,void 0,r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}var r;return t.join("")},e.createPatch=function(e,t,n,i,r,o){return C(e,e,t,n,i,r,o)},e.createTwoFilesPatch=C,e.diffArrays=function(e,t,n){return y.diff(e,t,n)},e.diffChars=function(e,t,n){return r.diff(e,t,n)},e.diffCss=function(e,t,n){return p.diff(e,t,n)},e.diffJson=function(e,t,n){return b.diff(e,t,n)},e.diffLines=h,e.diffSentences=function(e,t,n){return u.diff(e,t,n)},e.diffTrimmedLines=function(e,t,n){var i=o(n,{ignoreWhitespace:!0});return c.diff(e,t,i)},e.diffWords=function(e,t,n){return n=o(n,{ignoreWhitespace:!0}),l.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return l.diff(e,t,n)},e.merge=function(e,t,n){e=T(e,n),t=T(t,n);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(L(e)?L(t)?(i.oldFileName=P(i,e.oldFileName,t.oldFileName),i.newFileName=P(i,e.newFileName,t.newFileName),i.oldHeader=P(i,e.oldHeader,t.oldHeader),i.newHeader=P(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var r=0,o=0,s=0,a=0;r<e.hunks.length||o<t.hunks.length;){var l=e.hunks[r]||{oldStart:1/0},c=t.hunks[o]||{oldStart:1/0};if(j(l,c))i.hunks.push(M(l,s)),r++,a+=l.newLines-l.oldLines;else if(j(c,l))i.hunks.push(M(c,a)),o++,s+=c.newLines-c.oldLines;else{var h={oldStart:Math.min(l.oldStart,c.oldStart),oldLines:0,newStart:Math.min(l.newStart+s,c.oldStart+a),newLines:0,lines:[]};H(h,l.oldStart,l.lines,c.oldStart,c.lines),o++,r++,i.hunks.push(h)}}return i},e.parsePatch=k,e.structuredPatch=x,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.H5PLocalization=t.LocalizationStructures=t.LocalizationLabels=void 0,function(e){e.showSolutionButton="showSolutions",e.retryButton="tryAgain",e.checkAllButton="checkAnswer",e.notFilledOutWarning="notFilledOut",e.tipButton="tipLabel",e.typoMessage="spellingMistakeWarning",e.scoreBarLabel="scoreBarLabel"}(t.LocalizationLabels||(t.LocalizationLabels={})),function(e){e.confirmCheck="confirmCheck",e.confirmRetry="confirmRetry",e.overallFeedback="overallFeedback"}(t.LocalizationStructures||(t.LocalizationStructures={}));var i=function(){function e(e){this.h5pConfiguration=e}return e.prototype.getText=function(e){return this.h5pConfiguration[e]},e.prototype.labelToString=function(e){return e.toString()},e.prototype.getTextFromLabel=function(e){return this.getText(this.labelToString(e))},e.prototype.getObjectForStructure=function(e){return this.h5pConfiguration[e.toString()]},e}();t.H5PLocalization=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(8);var i=n(12);H5P=H5P||{},H5P.AdvancedBlanks=i.default},function(e,t,n){var i=n(9),r=n(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],c=n[l]||0,h="".concat(l," ").concat(c);n[l]=c+1;var u=a(h),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(s[u].references++,s[u].updater(p)):s.push({identifier:h,updater:v(p,t),references:1}),i.push(h)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var h,u=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function p(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function d(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,g=0;function v(e,t){var n,i,r;if(t.singleton){var o=g++;n=f||(f=c(t)),i=p.bind(null,n,o,!1),r=p.bind(null,n,o,!0)}else n=c(t),i=d.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var o=l(e,t),c=0;c<n.length;c++){var h=a(n[c]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}n=o}}}},function(e,t,n){(t=n(11)(!1)).push([e.i,".h5p-advanced-blanks {\n    position: relative;\n}\n\n\n/* Text */\n\n.h5p-advanced-blanks #h5p-cloze-container p,\n.h5p-advanced-blanks #h5p-cloze-container div {\n    line-height: 1.8em;\n    margin: 0 0 1em;\n    text-align: justify;\n}\n\n@media only screen and (min-width: 480px) {\n    .h5p-advanced-blanks #h5p-cloze-container p,\n    .h5p-advanced-blanks #h5p-cloze-container div {\n        text-align: unset;\n    }\n}\n\n\n/* Input */\n\n.h5p-advanced-blanks .h5p-input-wrapper {\n    display: inline-block;\n    position: relative;\n}\n\n.h5p-advanced-blanks .blank .h5p-text-input {\n    font-family: H5PDroidSans, sans-serif;\n    font-size: 1em;\n    border-radius: 0.25em;\n    border: 1px solid #a0a0a0;\n    padding: 0.1875em 1.5em 0.1875em 0.5em;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n\n.h5p-advanced-blanks .blank input.h5p-text-input {\n  max-width: calc(100vw - 64px);\n}\n\n.h5p-advanced-blanks .blank select.h5p-text-input {\n  max-width: calc(100vw - 36px);\n}\n\n/* IE + Chrome specific fixes */\n\n.h5p-text-input::-ms-clear {\n    display: none;\n}\n\n:not(.correct).blank.has-tip button {\n    cursor: pointer;\n}\n\n\n/* Select mode */\n\nselect.h5p-text-input {\n    appearance: button;\n    -moz-appearance: none;\n    -webkit-appearance: button;\n}\n\n\n/* Showing solution input */\n\n.h5p-advanced-blanks .blank.showing-solution .h5p-text-input {\n    border: 1px dashed #9dd8bb;\n    color: #255c41;\n    background: #FFFFFF;\n}\n\n\n/* Focussed input */\n\n.h5p-advanced-blanks .blank .h5p-text-input:focus {\n    outline: none;\n    box-shadow: 0 0 0.5em 0 #7fb8ff;\n    border-color: #7fb8ff;\n}\n\n\n/* Correctly answered input */\n\n.h5p-advanced-blanks .blank.correct .h5p-text-input {\n    background: #9dd8bb;\n    border: 1px solid #9dd8bb;\n    color: #255c41;\n}\n\n.h5p-advanced-blanks .blank.correct .h5p-input-wrapper:after {\n    position: absolute;\n    right: 0.5em;    \n    top: 50%;\n    transform: translateY(-50%);\n    text-decoration: none;\n    content: \"\\f00c\";\n    font-family: 'H5PFontAwesome4';\n    color: #255c41;\n}\n\n\n/* Incorrect answers */\n\n.h5p-advanced-blanks .blank.error .h5p-text-input {\n    background-color: #f7d0d0;\n    border: 1px solid #f7d0d0;\n    color: #b71c1c;\n    text-decoration: line-through;\n}\n\n.h5p-advanced-blanks .blank.error .h5p-input-wrapper:after {\n    position: absolute;\n    right: 0.5em;\n    top: 50%;\n    transform: translateY(-50%);\n    font-family: 'H5PFontAwesome4';\n    text-decoration: none;\n    content: \"\\f00d\";\n    color: #b71c1c;\n}\n\n\n/* Spelling errors */\n\n.h5p-advanced-blanks .blank.retry .h5p-text-input {\n    background-color: #ffff99;\n    border: 1px solid #ffff99;\n    color: black;\n}\n\n.h5p-advanced-blanks .blank.retry .h5p-input-wrapper:after {\n    position: absolute;\n    right: 0.5em;\n    top: 50%;\n    transform: translateY(-50%);\n    font-family: 'H5PFontAwesome4';\n    text-decoration: none;\n    content: \"\\f00d\";\n    color: #b71c1c;\n}\n\n\n/* Buttons */\n\n.h5p-advanced-blanks .blank button {\n    padding-left: 5px;\n    padding-right: 5px;\n    border: none;\n    background: none;\n}\n\n\n/* Highlight in spelling mistake marker */\n\n.spelling-mistake .missing-character,\n.spelling-mistake .mistaken-character {\n    color: red;\n    font-weight: bold;\n    -webkit-animation-duration: 500ms;\n            animation-duration: 500ms;\n    -webkit-animation-name: blink-color;\n            animation-name: blink-color;\n    -webkit-animation-iteration-count: 13;\n            animation-iteration-count: 13;\n    -webkit-animation-direction: alternate;\n            animation-direction: alternate;\n}\n\n@-webkit-keyframes blink-color {\n    from {\n        color: initial;\n    }\n    to {\n        color: red;\n    }\n}\n\n@keyframes blink-color {\n    from {\n        color: initial;\n    }\n    to {\n        color: red;\n    }\n}\n\n.spelling-mistake .mistaken-character {\n    text-decoration: line-through;\n}\n\n\n/* Highlights in text */\n\n.h5p-advanced-blanks .highlighted {\n    background-color: rgba(255, 0, 0, 0.2);\n    padding: 0.4em;\n    margin: -0.4em;\n    -webkit-animation-duration: 1000ms;\n            animation-duration: 1000ms;\n    -webkit-animation-name: blink-background-color;\n            animation-name: blink-background-color;\n    -webkit-animation-iteration-count: 3;\n            animation-iteration-count: 3;\n    -webkit-animation-direction: alternate;\n            animation-direction: alternate;\n}\n\n@-webkit-keyframes blink-background-color {\n    from {\n        background-color: initial;\n    }\n    to {\n        background-color: rgba(255, 0, 0, 0.2);\n    }\n}\n\n@keyframes blink-background-color {\n    from {\n        background-color: initial;\n    }\n    to {\n        background-color: rgba(255, 0, 0, 0.2);\n    }\n}\n\n\n/* Others */\n\n.h5p-advanced-blanks .invisible {\n    visibility: collapse;\n}\n\n\n/* Tips */\n\n.h5p-advanced-blanks .h5p-tip-container {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 0.4em;\n  font-size: 1em;\n}\n\n.h5p-advanced-blanks .blank.has-tip:not(.correct):not(.error):not(.retry) .h5p-text-input {\n    padding-right: 2.25em;\n}\n\n.h5p-advanced-blanks .blank.has-tip.correct .h5p-input-wrapper:after,\n.h5p-advanced-blanks .blank.has-tip.error .h5p-input-wrapper:after,\n.h5p-advanced-blanks .blank.has-tip.retry .h5p-input-wrapper:after {\n    right: 2.25em;\n}\n\n.h5p-advanced-blanks .blank.correct.has-tip .h5p-text-input,\n.h5p-advanced-blanks .blank.error.has-tip .h5p-text-input,\n.h5p-advanced-blanks .blank.retry.has-tip .h5p-text-input {\n    padding-right: 3.5em;\n}\n\n/* improves appearance of h5p tip shadows */\n.h5p-advanced-blanks .joubel-icon-tip-normal .h5p-icon-shadow:before {\n  color: black;\n  opacity: 0.13;\n}\n\n/* pending feedback marker */\n\n.h5p-advanced-blanks .h5p-advanced-blanks-select-mode .blank:not(.has-pending-feedback) button.h5p-notification {\n    display: none;\n}\n\n.h5p-advanced-blanks .h5p-advanced-blanks-select-mode .blank.has-pending-feedback button.h5p-notification {\n    font-size: large;    \n}\n\n.h5p-advanced-blanks .h5p-advanced-blanks-select-mode .blank.has-pending-feedback button.h5p-notification,\n.h5p-advanced-blanks .h5p-advanced-blanks-type-mode .blank.has-pending-feedback .h5p-input-wrapper:before {\n    font-family: 'H5PFontAwesome4';\n    text-decoration: none;\n    animation: shake 3s cubic-bezier(.36, .07, .19, .97) reverse;\n    -webkit-animation-iteration-count: 2;\n            animation-iteration-count: 2;\n    transform: translate3d(0, 0, 0);\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden;\n    perspective: 1000px;\n}\n\n.h5p-advanced-blanks .h5p-advanced-blanks-type-mode .blank.has-pending-feedback .h5p-input-wrapper:before {\n    position: absolute;\n    left: -0.4em;\n    top: -0.7em;\n    content: \"\\f05a\";\n}\n\n.h5p-advanced-blanks .h5p-advanced-blanks-select-mode .blank.error.has-pending-feedback button.h5p-notification,\n.h5p-advanced-blanks .h5p-advanced-blanks-type-mode .blank.error.has-pending-feedback .h5p-input-wrapper:before {\n    color: #b71c1c;\n}\n\n.h5p-advanced-blanks .h5p-advanced-blanks-select-mode .blank.retry.has-pending-feedback button.h5p-notification,\n.h5p-advanced-blanks .h5p-advanced-blanks-type-mode .blank.retry.has-pending-feedback .h5p-input-wrapper:before {\n    color: #ffff00;\n    text-shadow: 0px 0px 0.5em black;\n}\n\n@-webkit-keyframes shake {\n    2%,\n    20% {\n        transform: translate3d(-0.5px, 0, 0);\n    }\n    4%,\n    17% {\n        transform: translate3d(1px, 0, 0);\n    }\n    6%,\n    10%,\n    15% {\n        transform: translate3d(-2px, 0, 0);\n    }\n    9%,\n    13% {\n        transform: translate3d(2px, 0, 0);\n    }\n}\n\n@keyframes shake {\n    2%,\n    20% {\n        transform: translate3d(-0.5px, 0, 0);\n    }\n    4%,\n    17% {\n        transform: translate3d(1px, 0, 0);\n    }\n    6%,\n    10%,\n    15% {\n        transform: translate3d(-2px, 0, 0);\n    }\n    9%,\n    13% {\n        transform: translate3d(2px, 0, 0);\n    }\n}",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var s,a,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(0),a=n(15),l=n(17),c=n(6),h=n(24),u=n(25),p=n(26),d=n(27),f=n(28);!function(e){e.ongoing="ongoing",e.checking="checking",e.showingSolutions="showing-solution",e.finished="finished",e.showingSolutionsEmbedded="showing-solution-embedded"}(o||(o={}));var g=function(e){function t(t,n,i){void 0===i&&(i={});var r=e.call(this)||this;r.answered=!1,r.onScoreChanged=function(e,t){r.clozeController.isFullyFilledOut?(r.transitionState(),r.state!==o.finished&&(r.state=o.checking),r.showFeedback(),setTimeout((function(){H5P&&H5P.KLScreenshot&&H5P.KLScreenshot.takeScreenshot(r,r.getH5pContainer().get(0))}),250)):r.setFeedback("",e,t),r.transitionState(),r.toggleButtonVisibility(r.state)},r.onTyped=function(){r.state===o.checking&&(r.state=o.ongoing,r.toggleButtonVisibility(r.state)),r.triggerXAPI("interacted"),r.answered=!0},r.onAutoChecked=function(){r.triggerXAPI("interacted"),r.triggerXAPIAnswered()},r.registerDomElements=function(){this.registerMedia(),this.setIntroduction(this.repository.getTaskDescription()),this.container=this.jQuery("<div/>",{class:"h5p-advanced-blanks"}),this.setContent(this.container),this.registerButtons(),this.moveToState(o.ongoing)},r.onCheckAnswer=function(){r.clozeController.checkAll(),r.triggerXAPI("interacted"),r.triggerXAPIAnswered(),r.transitionState(),r.state!==o.finished&&(r.state=o.checking),r.showFeedback(),r.toggleButtonVisibility(r.state)},r.transitionState=function(){r.clozeController.isSolved&&r.moveToState(o.finished)},r.onShowSolution=function(){r.moveToState(o.showingSolutions),r.clozeController.showSolutions(),r.showFeedback()},r.onRetry=function(){r.removeFeedback(),r.clozeController.reset(),r.answered=!1,r.moveToState(o.ongoing)},r.getCurrentState=function(){return r.clozeController.serializeCloze()},r.getAnswerGiven=function(){return r.answered||0===r.clozeController.maxScore},r.getScore=function(){return r.clozeController.currentScore},r.getMaxScore=function(){return r.clozeController.maxScore},r.showSolutions=function(){r.onShowSolution(),r.moveToState(o.showingSolutionsEmbedded)},r.resetTask=function(){r.onRetry()},r.triggerXAPIAnswered=function(){r.answered=!0;var e=r.createXAPIEventTemplate("answered");r.addQuestionToXAPI(e),r.addResponseToXAPI(e),r.trigger(e)},r.getXAPIData=function(){var e=r.createXAPIEventTemplate("answered");return r.addQuestionToXAPI(e),r.addResponseToXAPI(e),{statement:e.data.statement}},r.getxAPIDefinition=function(){var e=new d.XAPIActivityDefinition;e.description={"en-US":"<p>"+r.repository.getTaskDescription()+"</p>"+r.repository.getClozeText().replace(/__(_)+/g,"__________")},e.type="http://adlnet.gov/expapi/activities/cmi.interaction",e.interactionType="fill-in";var t="{case_matters="+r.settings.caseSensitive+"}",n=r.clozeController.getCorrectAnswerList(),i=n.reduce((function(e,t){return e.push(t[0]),e}),[]).join("[,]");return e.correctResponsesPattern=[""+t+i],e.extensions=e.extensions||{},e.extensions["https://h5p.org/x-api/case-sensitivity"]=r.settings.caseSensitive,e.extensions["https://h5p.org/x-api/alternatives"]=n,e},r.addQuestionToXAPI=function(e){var t=e.getVerifiedStatementValue(["object","definition"]);if(r.jQuery.extend(!0,t,r.getxAPIDefinition()),r.clozeController.hasAlternatives){var n=e.getVerifiedStatementValue(["context"]);n.extensions=n.extensions||{},n.extensions["https://h5p.org/x-api/h5p-reporting-version"]="1.0.0"}},r.addResponseToXAPI=function(e){e.setScoredResult(r.clozeController.currentScore,r.clozeController.maxScore,r),e.data.statement.result.response=r.getxAPIResponse()},r.getxAPIResponse=function(){return r.getCurrentState().join("[,]")},t=f.extend({content:{blanksText:""},behaviour:{mode:"typing",selectAlternatives:"alternatives"}},t),r.jQuery=H5P.jQuery,r.contentId=n;var g,v=new p.Unrwapper(r.jQuery);return r.settings=new h.H5PSettings(t),r.localization=new c.H5PLocalization(t),r.repository=new a.H5PDataRepository(t,r.settings,r.localization,r.jQuery,v),r.messageService=new u.MessageService(r.jQuery),s.BlankLoader.initialize(r.settings,r.localization,r.jQuery,r.messageService),r.clozeController=new l.ClozeController(r.repository,r.settings,r.localization,r.messageService),r.clozeController.onScoreChanged=r.onScoreChanged,r.clozeController.onSolved=r.onSolved,r.clozeController.onAutoChecked=r.onAutoChecked,r.clozeController.onTyped=r.onTyped,i&&i.previousState&&(r.previousState=i.previousState),r.attach=(g=r.attach,function(e){g(e),r.clozeController.initialize(r.container.get(0),e),r.clozeController.deserializeCloze(r.previousState)&&(r.answered=r.clozeController.isFilledOut,r.settings.autoCheck&&r.onCheckAnswer(),r.toggleButtonVisibility(r.state))}),r}return r(t,e),t.prototype.onSolved=function(){},t.prototype.getH5pContainer=function(){var e=this.jQuery('[data-content-id="'+this.contentId+'"].h5p-content'),t=e.parents(".h5p-container");return 0!==t.length?t.last():0!==e.length?e:this.jQuery(document.body)},t.prototype.registerMedia=function(){var e=this.repository.getMedia();if(e&&e.library){var t=e.library.split(" ")[0];"H5P.Image"===t?e.params.file&&this.setImage(e.params.file.path,{disableImageZooming:this.settings.disableImageZooming,alt:e.params.alt}):"H5P.Video"===t&&e.params.sources&&this.setVideo(e)}},t.prototype.registerButtons=function(){var e=this.getH5pContainer();this.settings.autoCheck||this.addButton("check-answer",this.localization.getTextFromLabel(c.LocalizationLabels.checkAllButton),this.onCheckAnswer,!0,{},{confirmationDialog:{enable:this.settings.confirmCheckDialog,l10n:this.localization.getObjectForStructure(c.LocalizationStructures.confirmCheck),instance:this,$parentElement:e}}),this.addButton("show-solution",this.localization.getTextFromLabel(c.LocalizationLabels.showSolutionButton),this.onShowSolution,this.settings.enableSolutionsButton),!0===this.settings.enableRetry&&this.addButton("try-again",this.localization.getTextFromLabel(c.LocalizationLabels.retryButton),this.onRetry,!0,{},{confirmationDialog:{enable:this.settings.confirmRetryDialog,l10n:this.localization.getObjectForStructure(c.LocalizationStructures.confirmRetry),instance:this,$parentElement:e}})},t.prototype.showFeedback=function(){var e=H5P.Question.determineOverallFeedback(this.localization.getObjectForStructure(c.LocalizationStructures.overallFeedback),this.clozeController.currentScore/this.clozeController.maxScore).replace("@score",this.clozeController.currentScore).replace("@total",this.clozeController.maxScore);this.setFeedback(e,this.clozeController.currentScore,this.clozeController.maxScore,this.localization.getTextFromLabel(c.LocalizationLabels.scoreBarLabel))},t.prototype.moveToState=function(e){this.state=e,this.toggleButtonVisibility(e)},t.prototype.toggleButtonVisibility=function(e){this.settings.enableSolutionsButton&&(!(e===o.checking||this.settings.autoCheck&&e===o.ongoing)||this.settings.showSolutionsRequiresInput&&!this.clozeController.allBlanksEntered?this.hideButton("show-solution"):this.showButton("show-solution")),!this.settings.enableRetry||e!==o.checking&&e!==o.finished&&e!==o.showingSolutions?this.hideButton("try-again"):this.showButton("try-again"),e===o.ongoing&&this.settings.enableCheckButton?this.showButton("check-answer"):this.hideButton("check-answer"),e===o.showingSolutionsEmbedded&&(this.hideButton("check-answer"),this.hideButton("try-again"),this.hideButton("show-solution")),this.trigger("resize")},t}(H5P.Question);t.default=g},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Blank=void 0;var o=n(3),s=n(2),a=n(1),l=n(6),c=n(14),h=n(5),u=function(e){function t(t,n,i,r,s){var a=e.call(this)||this;return a.settings=t,a.localization=n,a.jquery=i,a.messageService=r,a.enteredText="",a.correctAnswers=new Array,a.incorrectAnswers=new Array,a.choices=new Array,a.type=o.ClozeElementType.Blank,a.id=s,a}return r(t,e),t.prototype.finishInitialization=function(){this.settings.clozeType===a.ClozeType.Select&&this.settings.selectAlternatives===a.SelectAlternatives.Alternatives&&this.loadChoicesFromOwnAlternatives(),this.calculateMinTextLength()},t.prototype.addCorrectAnswer=function(e){this.correctAnswers.push(e)},t.prototype.getCorrectAnswers=function(){for(var e=[],t=0,n=this.correctAnswers;t<n.length;t++){var i=n[t];e=e.concat(i.alternatives)}return e},t.prototype.setHint=function(e){this.hint=e,this.hasHint=""!==this.hint.text},t.prototype.addIncorrectAnswer=function(e,t,n,i){this.incorrectAnswers.push(new s.Answer(e,t,n,i,this.settings))},t.prototype.calculateMinTextLength=function(){for(var e=new Array,t=0,n=this.correctAnswers;t<n.length;t++){var i=n[t];e.push(c.getLongestString(i.alternatives))}if(this.settings.clozeType===a.ClozeType.Select)for(var r=0,o=this.incorrectAnswers;r<o.length;r++){var s=o[r];e.push(c.getLongestString(s.alternatives))}var l=c.getLongestString(e).length;this.minTextLength=Math.max(10,l-l%10+10)},t.prototype.loadChoicesFromOwnAlternatives=function(){this.choices=new Array;for(var e=0,t=this.correctAnswers;e<t.length;e++)for(var n=0,i=t[e].alternatives;n<i.length;n++){var r=i[n];this.choices.push(r)}for(var o=0,s=this.incorrectAnswers;o<s.length;o++)for(var a=0,l=s[o].alternatives;a<l.length;a++){r=l[a];this.choices.push(r)}return this.choices=c.shuffleArray(this.choices),this.choices.unshift(""),this.choices},t.prototype.loadChoicesFromOtherBlanks=function(e){for(var t=new Array,n=0,i=this.correctAnswers;n<i.length;n++)for(var r=0,o=i[n].alternatives;r<o.length;r++){var s=o[r];t.push(s)}for(var a=new Array,l=0,h=e;l<h.length;l++)for(var u=0,p=h[l].correctAnswers;u<p.length;u++)for(var d=0,f=p[u].alternatives;d<f.length;d++){s=f[d];a.push(s)}a=c.shuffleArray(a);var g=this.settings.selectAlternativeRestriction;void 0!==g&&0!==g||(g=t.length+a.length);for(var v=g-t.length,b=0;b<v&&b<a.length;b++)t.indexOf(a[b])>=0?v++:t.push(a[b]);return this.choices=c.shuffleArray(t),this.choices.unshift(""),this.choices},t.prototype.reset=function(){this.enteredText="",this.lastCheckedText="",this.removeTooltip(),this.setAnswerState(a.MessageType.None),this.hasPendingFeedback=!1},t.prototype.showSolution=function(){this.evaluateAttempt(!0),this.removeTooltip(),this.isCorrect||(this.enteredText=this.correctAnswers[0].alternatives[0],this.setAnswerState(a.MessageType.ShowSolution))},t.prototype.onFocussed=function(){this.hasPendingFeedback&&this.evaluateAttempt(!1),this.settings.clozeType===a.ClozeType.Select&&(this.setAnswerState(a.MessageType.None),this.lastCheckedText="")},t.prototype.onDisplayFeedback=function(){this.hasPendingFeedback&&this.evaluateAttempt(!1)},t.prototype.displayTooltip=function(e,t,n,i){n?this.hasPendingFeedback=!0:this.messageService.show(i||this.id,e,this,t)},t.prototype.removeTooltip=function(){this.messageService.hide()},t.prototype.setTooltipErrorText=function(e,t){e.highlightedElement?this.displayTooltip(e.text,a.MessageType.Error,t,e.highlightedElement.id):this.displayTooltip(e.text,a.MessageType.Error,t)},t.prototype.getSpellingMistakeMessage=function(e,t){for(var n=this.localization.getTextFromLabel(l.LocalizationLabels.typoMessage),i=h.diffChars(e,t,{ignoreCase:!this.settings.caseSensitive}),r=this.jquery("<span/>",{class:"spelling-mistake"}),o=0;o<i.length;o++){var s=i[o],a="";if(s.removed){if(o!==i.length-1&&i[o+1].added)continue;s.value=s.value.replace(/./g,"_"),a="missing-character"}s.added&&(a="mistaken-character");var c=this.jquery("<span/>",{class:a,html:s.value.replace(" ","&nbsp;")});r.append(c)}return n=n.replace("@mistake",this.jquery("<span/>").append(r).html())},t.prototype.evaluateAttempt=function(e,t){var n=this;if(this.hasPendingFeedback||this.lastCheckedText!==this.enteredText||t){this.lastCheckedText=this.enteredText.toString(),this.hasPendingFeedback=!1,this.removeTooltip();var i=this.correctAnswers.map((function(e){return e.evaluateAttempt(n.enteredText)})).filter((function(e){return e.correctness===s.Correctness.ExactMatch})).sort((function(e){return e.characterDifferenceCount})),r=this.correctAnswers.map((function(e){return e.evaluateAttempt(n.enteredText)})).filter((function(e){return e.correctness===s.Correctness.CloseMatch})).sort((function(e){return e.characterDifferenceCount})),o=this.incorrectAnswers.map((function(e){return e.evaluateAttempt(n.enteredText)})).filter((function(e){return e.correctness===s.Correctness.ExactMatch})).sort((function(e){return e.characterDifferenceCount})),l=this.incorrectAnswers.map((function(e){return e.evaluateAttempt(n.enteredText)})).filter((function(e){return e.correctness===s.Correctness.CloseMatch})).sort((function(e){return e.characterDifferenceCount}));if(i.length>0)return this.setAnswerState(a.MessageType.Correct),void(this.settings.caseSensitive||(this.enteredText=i[0].usedAlternative));if(o.length>0)return this.setAnswerState(a.MessageType.Error),void this.showErrorTooltip(o[0].usedAnswer,e);if(r.length>0){if(this.settings.warnSpellingErrors)return this.displayTooltip(this.getSpellingMistakeMessage(r[0].usedAlternative,this.enteredText),a.MessageType.Retry,e),void this.setAnswerState(a.MessageType.Retry);if(this.settings.acceptSpellingErrors)return this.setAnswerState(a.MessageType.Correct),void(this.enteredText=r[0].usedAlternative)}if(l.length>0)return this.setAnswerState(a.MessageType.Error),void this.showErrorTooltip(l[0].usedAnswer,e);var c=this.incorrectAnswers.filter((function(e){return e.appliesAlways}));c&&c.length>0&&this.showErrorTooltip(c[0],e),this.setAnswerState(a.MessageType.Error)}},t.prototype.onTyped=function(){this.setAnswerState(a.MessageType.None),this.lastCheckedText="",this.removeTooltip()},t.prototype.lostFocus=function(){this.messageService.isActive(this)&&this.messageService.hide()},t.prototype.setAnswerState=function(e){switch(this.isCorrect=!1,this.isError=!1,this.isRetry=!1,this.isShowingSolution=!1,e){case a.MessageType.Correct:this.isCorrect=!0;break;case a.MessageType.Error:this.isError=!0;break;case a.MessageType.Retry:this.isRetry=!0;break;case a.MessageType.ShowSolution:this.isShowingSolution=!0}},t.prototype.showErrorTooltip=function(e,t){e.message&&e.message.text&&this.setTooltipErrorText(e.message,t),t||e.activateHighlight()},t.prototype.showHint=function(){this.isShowingSolution||this.isCorrect||(this.removeTooltip(),this.hint&&""!==this.hint.text&&(this.displayTooltip(this.hint.text,a.MessageType.Retry,!1),this.hint.highlightedElement&&(this.hint.highlightedElement.isHighlighted=!0)))},t.prototype.serialize=function(){return this.enteredText},t.prototype.deserialize=function(e){this.enteredText=e},t}(o.ClozeElement);t.Blank=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=t.getLongestString=void 0,t.getLongestString=function(e){return e.reduce((function(e,t){return t.length>e.length?t:e}),"")},t.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.H5PDataRepository=void 0;var i=n(0),r=n(16),o=function(){function e(e,t,n,i,r){this.h5pConfigData=e,this.settings=t,this.localization=n,this.jquery=i,this.unwrapper=r}return e.prototype.getClozeText=function(){return this.h5pConfigData.content.blanksText},e.prototype.getFeedbackText=function(){return""},e.prototype.getMedia=function(){return this.h5pConfigData.media.type},e.prototype.getTaskDescription=function(){return this.h5pConfigData.content.task},e.prototype.getBlanks=function(){var e=new Array;if(!this.h5pConfigData.content.blanksList)return e;for(var t=0;t<this.h5pConfigData.content.blanksList.length;t++){var n=this.h5pConfigData.content.blanksList[t],r=n.correctAnswerText;if(""!==r&&void 0!==r){var o=i.BlankLoader.instance.createBlank("cloze"+t,r,n.hint,n.incorrectAnswersList);o.finishInitialization(),e.push(o)}}return e},e.prototype.getSnippets=function(){var e=new Array;if(!this.h5pConfigData.snippets)return e;for(var t=0;t<this.h5pConfigData.snippets.length;t++){var n=this.h5pConfigData.snippets[t],i=new r.Snippet(n.snippetName,this.unwrapper.unwrap(n.snippetText));e.push(i)}return e},e}();t.H5PDataRepository=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Snippet=void 0;var i=function(e,t){this.name=e,this.text=t};t.Snippet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClozeController=void 0;var i=n(0),r=n(18),o=n(1),s=n(2),a=n(21),l=function(){function e(e,t,n,i){var r=this;this.repository=e,this.settings=t,this.localization=n,this.MessageService=i,this.highlightRactives={},this.blankRactives={},this.checkAll=function(){r.cloze.hideAllHighlights();for(var e=0,t=r.cloze.blanks;e<t.length;e++){var n=t[e];n.isCorrect||""===n.enteredText||n.evaluateAttempt(!0,!0)}r.refreshCloze(),r.checkAndNotifyCompleteness()},this.textTyped=function(e){e.onTyped(),r.onTyped&&r.onTyped(),r.refreshCloze()},this.focus=function(e){e.onFocussed(),r.refreshCloze()},this.displayFeedback=function(e){e.onDisplayFeedback(),r.refreshCloze()},this.showHint=function(e){r.cloze.hideAllHighlights(),e.showHint(),r.refreshCloze()},this.requestCloseTooltip=function(e){e.removeTooltip(),r.refreshCloze(),r.jquery.find("#"+e.id).focus()},this.checkBlank=function(e,t){if("blur"!==t&&"change"!==t||e.lostFocus(),"change"===t&&r.onTyped&&r.onTyped(),r.settings.autoCheck){if(!e.enteredText||""===e.enteredText)return;r.cloze.hideAllHighlights(),e.evaluateAttempt(!1),r.checkAndNotifyCompleteness(),r.refreshCloze(),r.onAutoChecked()}if("enter"===t&&(r.settings.autoCheck&&e.isCorrect&&!r.isSolved||!r.settings.autoCheck)){for(var n,i=r.cloze.blanks.indexOf(e);i<r.cloze.blanks.length-1&&!n;)i++,r.cloze.blanks[i].isCorrect||(n=r.cloze.blanks[i].id);n&&r.jquery.find("#"+n).focus()}},this.reset=function(){r.cloze.reset(),r.refreshCloze()},this.showSolutions=function(){r.cloze.showSolutions(),r.refreshCloze()},this.checkAndNotifyCompleteness=function(){return r.onScoreChanged&&r.onScoreChanged(r.currentScore,r.maxScore),!!r.cloze.isSolved&&(r.onSolved&&r.onSolved(),!0)}}return Object.defineProperty(e.prototype,"maxScore",{get:function(){return this.cloze.blanks.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAlternatives",{get:function(){return this.cloze.blanks.some((function(e){return e.correctAnswers[0].alternatives.length>1}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentScore",{get:function(){var e=this,t=this.cloze.blanks.reduce((function(t,n){var i=!n.isShowingSolution,r=-1!==n.correctAnswers[0].alternatives.indexOf(n.enteredText||""),o=n.correctAnswers.map((function(e){return e.evaluateAttempt(n.enteredText)})).filter((function(e){return e.correctness===s.Correctness.CloseMatch})),a=e.settings.acceptSpellingErrors&&o.length>0;return t+(i&&(r||a)?1:0)}),0);return Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allBlanksEntered",{get:function(){return!!this.cloze&&this.cloze.blanks.every((function(e){return e.isError||e.isCorrect||e.isRetry}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSolved",{get:function(){return this.cloze.isSolved},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFilledOut",{get:function(){return!this.cloze||0===this.cloze.blanks.length||this.cloze.blanks.some((function(e){return""!==e.enteredText}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullyFilledOut",{get:function(){return!this.cloze||0===this.cloze.blanks.length||this.cloze.blanks.every((function(e){return""!==e.enteredText}))},enumerable:!1,configurable:!0}),e.prototype.initialize=function(e,t){this.jquery=t,this.isSelectCloze=this.settings.clozeType===o.ClozeType.Select;var n=this.repository.getBlanks();if(this.isSelectCloze&&this.settings.selectAlternatives===o.SelectAlternatives.All)for(var s=0,a=n;s<a.length;s++){var l=a[s],c=n.filter((function(e){return e!==l}));l.loadChoicesFromOtherBlanks(c)}var h=this.repository.getSnippets();n.forEach((function(e){return i.BlankLoader.instance.replaceSnippets(e,h)})),this.cloze=r.ClozeLoader.createCloze(this.repository.getClozeText(),n),this.createAndAddContainers(e).cloze.innerHTML=this.cloze.html,this.createRactiveBindings()},e.prototype.createAndAddContainers=function(e){var t=document.createElement("div");return t.id="h5p-cloze-container",this.settings.clozeType===o.ClozeType.Select?t.className="h5p-advanced-blanks-select-mode":t.className="h5p-advanced-blanks-type-mode",e.appendChild(t),{cloze:t}},e.prototype.createHighlightBinding=function(e){this.highlightRactives[e.id]=new Ractive({el:"#container_"+e.id,template:n(22),data:{object:e}})},e.prototype.createBlankBinding=function(e){var t=new Ractive({el:"#container_"+e.id,template:n(23),data:{isSelectCloze:this.isSelectCloze,blank:e},events:{enter:a.enter,escape:a.escape,anykey:a.anykey}});t.on("checkBlank",this.checkBlank),t.on("showHint",this.showHint),t.on("textTyped",this.textTyped),t.on("closeMessage",this.requestCloseTooltip),t.on("focus",this.focus),t.on("displayFeedback",this.displayFeedback),this.blankRactives[e.id]=t},e.prototype.createRactiveBindings=function(){for(var e=0,t=this.cloze.highlights;e<t.length;e++){var n=t[e];this.createHighlightBinding(n)}for(var i=0,r=this.cloze.blanks;i<r.length;i++){var o=r[i];this.createBlankBinding(o)}},e.prototype.refreshCloze=function(){for(var e=0,t=this.cloze.highlights;e<t.length;e++){var n=t[e];this.highlightRactives[n.id].set("object",n)}for(var i=0,r=this.cloze.blanks;i<r.length;i++){var o=r[i];this.blankRactives[o.id].set("blank",o)}},e.prototype.serializeCloze=function(){return this.cloze.serialize()},e.prototype.deserializeCloze=function(e){return!(!this.cloze||!e)&&(this.cloze.deserialize(e),this.refreshCloze(),!0)},e.prototype.getCorrectAnswerList=function(){if(!this.cloze||0===this.cloze.blanks.length)return[[]];for(var e=[],t=0,n=this.cloze.blanks;t<n.length;t++){var i=n[t];e.push(i.getCorrectAnswers())}return e},e}();t.ClozeController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClozeLoader=void 0;var i=n(0),r=n(3),o=n(19),s=n(20),a=function(){function e(){}return e.createCloze=function(t,n){var i=new Array,r=new Array,o=new Array;t=e.normalizeBlankMarkings(t);var a=e.convertMarkupToSpans(t,n);t=a.html,i=a.orderedAllElementsList,r=a.highlightInstances,o=a.blanksInstances,e.linkHighlightsObjects(i,r,o);var l=new s.Cloze;return l.html=t,l.blanks=o,l.highlights=r,l},e.convertMarkupToSpans=function(t,n){var i=new Array,r=new Array,s=new Array,a=/!!(.{1,40}?)!!/i,l=0,c=0;do{var h=t.match(a),u=t.indexOf(e.normalizedBlankMarker);if(h&&(h.index<u||u<0)){var p=new o.Highlight(h[1],"highlight_"+l);r.push(p),i.push(p),t=t.replace(a,"<span id='container_highlight_"+l+"'></span>"),l++}else if(u>=0)if(c>=n.length)t=t.replace(e.normalizedBlankMarker,"<span></span>");else{var d=n[c];s.push(d),i.push(d),t=t.replace(e.normalizedBlankMarker,"<span id='container_"+d.id+"'></span>"),c++}}while(h||u>=0);return{html:t,orderedAllElementsList:i,highlightInstances:r,blanksInstances:s}},e.normalizeBlankMarkings=function(t){return t=t.replace(/_{3,}/g,e.normalizedBlankMarker)},e.linkHighlightsObjects=function(e,t,n){for(var o=0,s=n;o<s.length;o++){var a=s[o],l=e.indexOf(a),c=e.slice(0,l).filter((function(e){return e.type===r.ClozeElementType.Highlight})).map((function(e){return e})).reverse(),h=e.slice(l+1).filter((function(e){return e.type===r.ClozeElementType.Highlight})).map((function(e){return e}));i.BlankLoader.instance.linkHighlightIdToObject(a,c,h)}},e.normalizedBlankMarker="___",e}();t.ClozeLoader=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Highlight=void 0;var o=n(3),s=function(e){function t(t,n){var i=e.call(this)||this;return i.type=o.ClozeElementType.Highlight,i.text=t,i.id=n,i.isHighlighted=!1,i}return r(t,e),t}(o.ClozeElement);t.Highlight=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cloze=void 0;var i=function(){function e(){}return Object.defineProperty(e.prototype,"isSolved",{get:function(){return this.blanks.every((function(e){return!0===e.isCorrect}))},enumerable:!1,configurable:!0}),e.prototype.hideAllHighlights=function(){for(var e=0,t=this.highlights;e<t.length;e++){t[e].isHighlighted=!1}},e.prototype.reset=function(){this.hideAllHighlights();for(var e=0,t=this.blanks;e<t.length;e++){t[e].reset()}},e.prototype.showSolutions=function(){for(var e=0,t=this.blanks;e<t.length;e++){t[e].showSolution()}this.hideAllHighlights()},e.prototype.serialize=function(){for(var e=[],t=0,n=this.blanks;t<n.length;t++){var i=n[t];e.push(i.serialize())}return e},e.prototype.deserialize=function(e){for(var t=0;t<e.length;t++){if(t>=this.blanks.length)return;this.blanks[t].deserialize(e[t])}},e}();t.Cloze=i},function(e,t,n){"use strict";function i(e){return function(t,n){function i(i){var r=i.which||i.keyCode;e&&r===e?(i.preventDefault(),n({node:t,original:i})):e||0!==[16,17,18,35,36,13,9,27,32,37,39,40,38].filter((function(e){return e===r})).length||n({node:t,original:i})}return t.addEventListener("keydown",i,!1),{teardown:function(){t.removeEventListener("keydown",i,!1)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.anykey=t.uparrow=t.downarrow=t.rightarrow=t.leftarrow=t.space=t.escape=t.tab=t.enter=void 0,t.enter=i(13),t.tab=i(9),t.escape=i(27),t.space=i(32),t.leftarrow=i(37),t.rightarrow=i(39),t.downarrow=i(40),t.uparrow=i(38),t.anykey=i()},function(e,t){e.exports='<span {{#object.isHighlighted}}class="highlighted"{{/if}} id="{{object.id}}">{{{object.text}}}</span>'},function(e,t){e.exports='<span id="container{{id}}" class="blank {{#blank.hasPendingFeedback}}has-pending-feedback{{/if}} {{#blank.hasHint}}has-tip{{/if}} {{#blank.isCorrect}}correct{{/if}} {{#blank.isError}}error{{/if}} {{#blank.isRetry}}retry{{/if}} {{#blank.isShowingSolution}}showing-solution{{/if}}">\n  {{#unless isSelectCloze}}\n    <span class="h5p-input-wrapper">\n      <input id="{{blank.id}}" type="text" value="{{blank.enteredText}}" \n             size="{{blank.minTextLength}}" on-escape="@this.fire(\'closeMessage\', blank)" \n             on-enter="@this.fire(\'checkBlank\', blank, \'enter\')" \n             on-blur="@this.fire(\'checkBlank\', blank, \'blur\')" \n             on-focus="@this.fire(\'focus\', blank)"\n             on-anykey="@this.fire(\'textTyped\', blank)"\n             {{#(blank.isCorrect || blank.isShowingSolution)}}disabled="disabled"{{/if}}\n             class="h5p-text-input"\n             autocomplete="off"\n             autocapitalize="off"/>\n      {{#blank.hasHint}}\n        <span class="h5p-tip-container">\n          <button on-click="@this.fire(\'showHint\', blank)" {{#(blank.isCorrect || blank.isShowingSolution)}}disabled="disabled" {{/if}}>\n            <span class="joubel-tip-container" title="Tip" aria-label="Tip" aria-expanded="true" role="button" tabindex="0"><span class="joubel-icon-tip-normal "><span class="h5p-icon-shadow"></span><span class="h5p-icon-speech-bubble"></span><span class="h5p-icon-info"></span></span></span>\n          </button>\n        </span>\n        {{/if}}\n    </span>    \n  {{/unless}}\n  {{#if isSelectCloze}}\n      <button class="h5p-notification" on-click="@this.fire(\'displayFeedback\', blank)">\n        &#xf05a;\n      </button>\n      <span class="h5p-input-wrapper">      \n      <select id="{{blank.id}}" type="text" value="{{blank.enteredText}}"\n              on-enter="@this.fire(\'checkBlank\', blank, \'enter\')" \n              on-change="@this.fire(\'checkBlank\', blank, \'change\')"\n              on-focus="@this.fire(\'focus\', blank)"              \n              {{#(blank.isCorrect || blank.isShowingSolution)}}disabled="disabled"{{/if}} \n              size="1"\n              class="h5p-text-input">\n        {{#each blank.choices}}\n          <option>{{this}}</option>\n        {{/each}}\n      </select>                     \n      {{#blank.hasHint}}\n        <span class="h5p-tip-container">\n          <button on-click="@this.fire(\'showHint\', blank)" {{#(blank.isCorrect || blank.isShowingSolution)}}disabled="disabled"{{/if}}>\n            <span class="joubel-tip-container" title="Tip" aria-label="Tip" aria-expanded="true" role="button" tabindex="0"><span class="joubel-icon-tip-normal "><span class="h5p-icon-shadow"></span><span class="h5p-icon-speech-bubble"></span><span class="h5p-icon-info"></span></span></span>\n          </button>\n        </span>\n      {{/if}}     \n    </span>\n  {{/if}}\n</span>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.H5PSettings=void 0;var i=n(1),r=function(){function e(e){this.clozeType=i.ClozeType.Type,this.selectAlternatives=i.SelectAlternatives.Alternatives,this.selectAlternativeRestriction=5,this.enableRetry=!0,this.enableSolutionsButton=!0,this.enableCheckButton=!0,this.autoCheck=!1,this.caseSensitive=!1,this.warnSpellingErrors=!0,this.acceptSpellingErrors=!1,this.showSolutionsRequiresInput=!0,this.confirmCheckDialog=!1,this.confirmRetryDialog=!1,this.disableImageZooming=!1,"selection"===e.behaviour.mode?this.clozeType=i.ClozeType.Select:this.clozeType=i.ClozeType.Type,"all"===e.behaviour.selectAlternatives?this.selectAlternatives=i.SelectAlternatives.All:"alternatives"===e.behaviour.selectAlternatives?this.selectAlternatives=i.SelectAlternatives.Alternatives:this.selectAlternatives=i.SelectAlternatives.All,this.selectAlternativeRestriction=e.behaviour.selectAlternativeRestriction,this.enableRetry=e.behaviour.enableRetry,this.enableSolutionsButton=e.behaviour.enableSolutionsButton,this.enableCheckButton=e.behaviour.enableCheckButton,this.autoCheck=e.behaviour.autoCheck,this.caseSensitive=e.behaviour.caseSensitive,this.warnSpellingErrors="warn"===e.behaviour.spellingErrorBehaviour,this.acceptSpellingErrors="accept"===e.behaviour.spellingErrorBehaviour,this.showSolutionsRequiresInput=e.behaviour.showSolutionsRequiresInput,this.confirmCheckDialog=e.behaviour.confirmCheckDialog,this.confirmRetryDialog=e.behaviour.confirmRetryDialog,this.disableImageZooming=e.media.disableImageZooming,this.enforceLogic()}return e.prototype.enforceLogic=function(){this.clozeType===i.ClozeType.Type?(this.selectAlternatives=i.SelectAlternatives.All,this.selectAlternativeRestriction=0):(this.selectAlternativeRestriction===i.SelectAlternatives.Alternatives&&(this.selectAlternativeRestriction=0),this.warnSpellingErrors=!1,this.acceptSpellingErrors=!1,this.caseSensitive=!1)},e}();t.H5PSettings=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageService=void 0;var i=n(1),r=function(){function e(e){this.jQuery=e}return e.prototype.show=function(e,t,n,r){r||(r=i.MessageType.None);var o=this.jQuery("#"+e);o.length>0&&(this.speechBubble=new H5P.JoubelSpeechBubble(o,t),this.associatedBlank=n)},e.prototype.hide=function(){if(this.speechBubble)try{this.speechBubble.remove()}catch(e){}this.speechBubble=void 0,this.associatedBlank=void 0},e.prototype.isActive=function(e){return this.associatedBlank===e},e}();t.MessageService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Unrwapper=void 0;var i=function(){function e(e){this.jquery=e}return e.prototype.unwrap=function(e){var t=this.jquery(e);return 1!==t.length?e:t.unwrap().html()},e}();t.Unrwapper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XAPIActivityDefinition=void 0;var i=function(){};t.XAPIActivityDefinition=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extend=void 0,t.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n++)for(var i in e[n])e[n].hasOwnProperty(i)&&("object"==typeof e[0][i]&&"object"==typeof e[n][i]?this.extend(e[0][i],e[n][i]):e[0][i]=e[n][i]);return e[0]}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29udGVudC1sb2FkZXJzL2JsYW5rLWxvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tb2RlbHMvZW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbW9kZWxzL2Fuc3dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tb2RlbHMvY2xvemUtZWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tb2RlbHMvbWVzc2FnZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGlmZi9kaXN0L2RpZmYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvc2VydmljZXMvbG9jYWxpemF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbnRyaWVzL2Rpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9zdHlsZS5jc3M/MTQwOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbW9kZWxzL2JsYW5rLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvaGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9kYXRhLXJlcG9zaXRvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbW9kZWxzL3NuaXBwZXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29udHJvbGxlcnMvY2xvemUtY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb250ZW50LWxvYWRlcnMvY2xvemUtbG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL21vZGVscy9oaWdobGlnaHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbW9kZWxzL2Nsb3plLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvcmFjdGl2ZS1ldmVudHMta2V5cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3cy9oaWdobGlnaHQucmFjdGl2ZS5odG1sIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3ZpZXdzL2JsYW5rLnJhY3RpdmUuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9tZXNzYWdlLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvaGVscGVycy91bndyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbW9kZWxzL3hhcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvaGVscGVycy9leHRlbmQudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJzZXR0aW5ncyIsImxvY2FsaXphdGlvbiIsImpxdWVyeSIsIm1lc3NhZ2VTZXJ2aWNlIiwiaW5pdGlhbGl6ZSIsInRoaXMiLCJfaW5zdGFuY2UiLCJCbGFua0xvYWRlciIsImRlY29kZUh0bWwiLCJodG1sIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImNyZWF0ZUJsYW5rIiwiaWQiLCJjb3JyZWN0VGV4dCIsImhpbnRUZXh0IiwiaW5jb3JyZWN0QW5zd2VycyIsImJsYW5rIiwiQmxhbmsiLCJhZGRDb3JyZWN0QW5zd2VyIiwiQW5zd2VyIiwic2V0SGludCIsIk1lc3NhZ2UiLCJoNXBJbmNvcnJlY3RBbnN3ZXIiLCJhZGRJbmNvcnJlY3RBbnN3ZXIiLCJpbmNvcnJlY3RBbnN3ZXJUZXh0IiwiaW5jb3JyZWN0QW5zd2VyRmVlZGJhY2siLCJzaG93SGlnaGxpZ2h0IiwiaGlnaGxpZ2h0IiwicmVwbGFjZVNuaXBwZXRzIiwic25pcHBldHMiLCJjb3JyZWN0QW5zd2VycyIsImNvbmNhdCIsImZvckVhY2giLCJhbnN3ZXIiLCJtZXNzYWdlIiwidGV4dCIsImdldFN0cmluZ1dpdGhTbmlwcGV0cyIsImhpbnQiLCJ1bmRlZmluZWQiLCJzbmlwcGV0IiwicmVwbGFjZSIsImxpbmtIaWdobGlnaHRJZFRvT2JqZWN0IiwiaGlnaGxpZ2h0c0JlZm9yZSIsImhpZ2hsaWdodHNBZnRlciIsImxpbmtIaWdobGlnaHQiLCJNZXNzYWdlVHlwZSIsIkNsb3plVHlwZSIsIlNlbGVjdEFsdGVybmF0aXZlcyIsIkNvcnJlY3RuZXNzIiwidXNlZEFuc3dlciIsImNvcnJlY3RuZXNzIiwiTm9NYXRjaCIsImNoYXJhY3RlckRpZmZlcmVuY2VDb3VudCIsInVzZWRBbHRlcm5hdGl2ZSIsIkV2YWx1YXRpb24iLCJhbnN3ZXJUZXh0IiwicmVhY3Rpb24iLCJhbHRlcm5hdGl2ZXMiLCJzcGxpdCIsIm1hcCIsInRyaW0iLCJhcHBsaWVzQWx3YXlzIiwiYWN0aXZhdGVIaWdobGlnaHQiLCJoaWdobGlnaHRlZEVsZW1lbnQiLCJpc0hpZ2hsaWdodGVkIiwiY2xlYW5TdHJpbmciLCJnZXRDaGFuZ2VzQ291bnRGcm9tRGlmZiIsImRpZmYiLCJ0b3RhbENoYW5nZXNDb3VudCIsImxhc3RUeXBlIiwibGFzdENvdW50IiwiZWxlbWVudCIsInJlbW92ZWQiLCJsZW5ndGgiLCJhZGRlZCIsImdldEFjY2VwdGFibGVTcGVsbGluZ01pc3Rha2VzIiwid2FyblNwZWxsaW5nRXJyb3JzIiwiYWNjZXB0U3BlbGxpbmdFcnJvcnMiLCJNYXRoIiwiZmxvb3IiLCJldmFsdWF0ZUF0dGVtcHQiLCJhdHRlbXB0IiwiY2xlYW5lZEF0dGVtcHQiLCJldmFsdWF0aW9uIiwiYWx0ZXJuYXRpdmUiLCJjbGVhbmVkQWx0ZXJuYXRpdmUiLCJqc2RpZmYiLCJkaWZmQ2hhcnMiLCJpZ25vcmVDYXNlIiwiY2FzZVNlbnNpdGl2ZSIsImNoYW5nZUNvdW50IiwiRXhhY3RNYXRjaCIsIkNsb3NlTWF0Y2giLCJDbG96ZUVsZW1lbnRUeXBlIiwiQ2xvemVFbGVtZW50IiwicmVsYXRpdmVIaWdobGlnaHRQb3NpdGlvbiIsIkRpZmYiLCJidWlsZFZhbHVlcyIsImNvbXBvbmVudHMiLCJuZXdTdHJpbmciLCJvbGRTdHJpbmciLCJ1c2VMb25nZXN0VG9rZW4iLCJjb21wb25lbnRQb3MiLCJjb21wb25lbnRMZW4iLCJuZXdQb3MiLCJvbGRQb3MiLCJjb21wb25lbnQiLCJqb2luIiwic2xpY2UiLCJjb3VudCIsInRtcCIsIm9sZFZhbHVlIiwibGFzdENvbXBvbmVudCIsImVxdWFscyIsInBvcCIsImNsb25lUGF0aCIsInBhdGgiLCJvcHRpb25zIiwiYXJndW1lbnRzIiwiY2FsbGJhY2siLCJzZWxmIiwiZG9uZSIsInNldFRpbWVvdXQiLCJjYXN0SW5wdXQiLCJyZW1vdmVFbXB0eSIsInRva2VuaXplIiwibmV3TGVuIiwib2xkTGVuIiwiZWRpdExlbmd0aCIsIm1heEVkaXRMZW5ndGgiLCJiZXN0UGF0aCIsImV4dHJhY3RDb21tb24iLCJleGVjRWRpdExlbmd0aCIsImRpYWdvbmFsUGF0aCIsImJhc2VQYXRoIiwiYWRkUGF0aCIsInJlbW92ZVBhdGgiLCJfb2xkUG9zIiwiY2FuQWRkIiwiY2FuUmVtb3ZlIiwicHVzaENvbXBvbmVudCIsImV4ZWMiLCJyZXQiLCJsYXN0IiwicHVzaCIsImNvbW1vbkNvdW50IiwibGVmdCIsInJpZ2h0IiwiY29tcGFyYXRvciIsInRvTG93ZXJDYXNlIiwiYXJyYXkiLCJjaGFycyIsImNoYXJhY3RlckRpZmYiLCJnZW5lcmF0ZU9wdGlvbnMiLCJkZWZhdWx0cyIsImV4dGVuZGVkV29yZENoYXJzIiwicmVXaGl0ZXNwYWNlIiwid29yZERpZmYiLCJpZ25vcmVXaGl0ZXNwYWNlIiwidGVzdCIsInRva2VucyIsInNwbGljZSIsImxpbmVEaWZmIiwiZGlmZkxpbmVzIiwib2xkU3RyIiwibmV3U3RyIiwicmV0TGluZXMiLCJsaW5lc0FuZE5ld2xpbmVzIiwibGluZSIsIm5ld2xpbmVJc1Rva2VuIiwic2VudGVuY2VEaWZmIiwiY3NzRGlmZiIsIl90eXBlb2YiLCJvYmoiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiZnJvbSIsIl9pdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJ0b1N0cmluZyIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVNwcmVhZCIsImxlbiIsImFycjIiLCJvYmplY3RQcm90b3R5cGVUb1N0cmluZyIsImpzb25EaWZmIiwiY2Fub25pY2FsaXplIiwic3RhY2siLCJyZXBsYWNlbWVudFN0YWNrIiwicmVwbGFjZXIiLCJjYW5vbmljYWxpemVkT2JqIiwidG9KU09OIiwiX2tleSIsInNvcnRlZEtleXMiLCJzb3J0IiwiX3RoaXMkb3B0aW9ucyIsInVuZGVmaW5lZFJlcGxhY2VtZW50IiwiX3RoaXMkb3B0aW9ucyRzdHJpbmdpIiwic3RyaW5naWZ5UmVwbGFjZXIiLCJrIiwidiIsIkpTT04iLCJzdHJpbmdpZnkiLCJhcnJheURpZmYiLCJwYXJzZVBhdGNoIiwidW5pRGlmZiIsImRpZmZzdHIiLCJkZWxpbWl0ZXJzIiwibWF0Y2giLCJsaXN0IiwicGFyc2VJbmRleCIsImluZGV4IiwiaGVhZGVyIiwicGFyc2VGaWxlSGVhZGVyIiwiaHVua3MiLCJfbGluZSIsInBhcnNlSHVuayIsInN0cmljdCIsIkVycm9yIiwiZmlsZUhlYWRlciIsImtleVByZWZpeCIsImRhdGEiLCJmaWxlTmFtZSIsInN1YnN0ciIsImNodW5rSGVhZGVySW5kZXgiLCJjaHVua0hlYWRlciIsImh1bmsiLCJvbGRTdGFydCIsIm9sZExpbmVzIiwibmV3U3RhcnQiLCJuZXdMaW5lcyIsImxpbmVzIiwibGluZWRlbGltaXRlcnMiLCJhZGRDb3VudCIsInJlbW92ZUNvdW50IiwiaW5kZXhPZiIsIm9wZXJhdGlvbiIsImRpc3RhbmNlSXRlcmF0b3IiLCJzdGFydCIsIm1pbkxpbmUiLCJtYXhMaW5lIiwid2FudEZvcndhcmQiLCJiYWNrd2FyZEV4aGF1c3RlZCIsImZvcndhcmRFeGhhdXN0ZWQiLCJsb2NhbE9mZnNldCIsImFwcGx5UGF0Y2giLCJzb3VyY2UiLCJyZW1vdmVFT0ZOTCIsImFkZEVPRk5MIiwiY29tcGFyZUxpbmUiLCJsaW5lTnVtYmVyIiwicGF0Y2hDb250ZW50IiwiZXJyb3JDb3VudCIsImZ1enpGYWN0b3IiLCJvZmZzZXQiLCJodW5rRml0cyIsInRvUG9zIiwiaiIsImNvbnRlbnQiLCJkaWZmT2Zmc2V0IiwiX2kiLCJfaHVuayIsIl90b1BvcyIsImRlbGltaXRlciIsInByZXZpb3VzT3BlcmF0aW9uIiwiX2siLCJzdHJ1Y3R1cmVkUGF0Y2giLCJvbGRGaWxlTmFtZSIsIm5ld0ZpbGVOYW1lIiwib2xkSGVhZGVyIiwibmV3SGVhZGVyIiwiY29udGV4dCIsImNvbnRleHRMaW5lcyIsImVudHJ5Iiwib2xkUmFuZ2VTdGFydCIsIm5ld1JhbmdlU3RhcnQiLCJjdXJSYW5nZSIsIm9sZExpbmUiLCJuZXdMaW5lIiwiX2xvb3AiLCJjdXJyZW50IiwiX2N1clJhbmdlIiwicHJldiIsImFwcGx5IiwiX2N1clJhbmdlMiIsIl9jdXJSYW5nZTMiLCJjb250ZXh0U2l6ZSIsIm1pbiIsIm9sZEVPRk5ld2xpbmUiLCJuZXdFT0ZOZXdsaW5lIiwibm9ObEJlZm9yZUFkZHMiLCJjcmVhdGVUd29GaWxlc1BhdGNoIiwiZm9ybWF0UGF0Y2giLCJhcnJheVN0YXJ0c1dpdGgiLCJjYWxjTGluZUNvdW50IiwiX2NhbGNPbGROZXdMaW5lQ291bnQiLCJjYWxjT2xkTmV3TGluZUNvdW50IiwibXlDb3VudCIsIm1pbmUiLCJ0aGVpckNvdW50IiwidGhlaXJzIiwibG9hZFBhdGNoIiwicGFyYW0iLCJiYXNlIiwiZmlsZU5hbWVDaGFuZ2VkIiwicGF0Y2giLCJzZWxlY3RGaWVsZCIsImNvbmZsaWN0IiwiaHVua0JlZm9yZSIsImNoZWNrIiwiY2xvbmVIdW5rIiwibWVyZ2VMaW5lcyIsIm1pbmVPZmZzZXQiLCJtaW5lTGluZXMiLCJ0aGVpck9mZnNldCIsInRoZWlyTGluZXMiLCJ0aGVpciIsImluc2VydExlYWRpbmciLCJtaW5lQ3VycmVudCIsInRoZWlyQ3VycmVudCIsIl9odW5rJGxpbmVzIiwiY29sbGVjdENoYW5nZSIsIl9odW5rJGxpbmVzMiIsInJlbW92YWwiLCJtdXR1YWxDaGFuZ2UiLCJpbnNlcnRUcmFpbGluZyIsImEiLCJiIiwibXlDaGFuZ2VzIiwidGhlaXJDaGFuZ2VzIiwiYWxsUmVtb3ZlcyIsIl9odW5rJGxpbmVzMyIsIl9odW5rJGxpbmVzNCIsInNraXBSZW1vdmVTdXBlcnNldCIsIl9odW5rJGxpbmVzNSIsInN3YXAiLCJfaHVuayRsaW5lczYiLCJzdGF0ZSIsIm1hdGNoQ2hhbmdlcyIsImNoYW5nZXMiLCJtZXJnZWQiLCJtYXRjaEluZGV4IiwiY29udGV4dENoYW5nZXMiLCJjb25mbGljdGVkIiwiY2hhbmdlIiwiY29sbGVjdENvbnRleHQiLCJpbnNlcnQiLCJyZWR1Y2UiLCJyZW1vdmVDaGFuZ2VzIiwiZGVsdGEiLCJjaGFuZ2VDb250ZW50IiwiYXBwbHlQYXRjaGVzIiwiY3VycmVudEluZGV4IiwicHJvY2Vzc0luZGV4IiwiY29tcGxldGUiLCJsb2FkRmlsZSIsImVyciIsInVwZGF0ZWRDb250ZW50IiwicGF0Y2hlZCIsImNvbnZlcnRDaGFuZ2VzVG9ETVAiLCJjb252ZXJ0Q2hhbmdlc1RvWE1MIiwiY3JlYXRlUGF0Y2giLCJkaWZmQXJyYXlzIiwib2xkQXJyIiwibmV3QXJyIiwiZGlmZkNzcyIsImRpZmZKc29uIiwib2xkT2JqIiwibmV3T2JqIiwiZGlmZlNlbnRlbmNlcyIsImRpZmZUcmltbWVkTGluZXMiLCJkaWZmV29yZHMiLCJkaWZmV29yZHNXaXRoU3BhY2UiLCJtZXJnZSIsIm1pbmVJbmRleCIsInRoZWlyc0luZGV4IiwidGhlaXJzT2Zmc2V0IiwiSW5maW5pdHkiLCJ0aGVpcnNDdXJyZW50IiwibWVyZ2VkSHVuayIsImZhY3RvcnkiLCJMb2NhbGl6YXRpb25MYWJlbHMiLCJMb2NhbGl6YXRpb25TdHJ1Y3R1cmVzIiwiaDVwQ29uZmlndXJhdGlvbiIsImdldFRleHQiLCJsb2NhbGl6YWJsZVN0cmluZ0lkZW50aWZpZXIiLCJsYWJlbFRvU3RyaW5nIiwibGFiZWwiLCJnZXRUZXh0RnJvbUxhYmVsIiwiZ2V0T2JqZWN0Rm9yU3RydWN0dXJlIiwic3RydWN0dXJlIiwiSDVQTG9jYWxpemF0aW9uIiwiSDVQIiwiQWR2YW5jZWRCbGFua3MiLCJhcGkiLCJkZWZhdWx0IiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJ1c2VTb3VyY2VNYXAiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIlN0YXRlcyIsImNvbmZpZyIsImNvbnRlbnRJZCIsImNvbnRlbnREYXRhIiwiYW5zd2VyZWQiLCJvblNjb3JlQ2hhbmdlZCIsInNjb3JlIiwibWF4U2NvcmUiLCJjbG96ZUNvbnRyb2xsZXIiLCJpc0Z1bGx5RmlsbGVkT3V0IiwidHJhbnNpdGlvblN0YXRlIiwiZmluaXNoZWQiLCJjaGVja2luZyIsInNob3dGZWVkYmFjayIsIktMU2NyZWVuc2hvdCIsInRha2VTY3JlZW5zaG90IiwiZ2V0SDVwQ29udGFpbmVyIiwic2V0RmVlZGJhY2siLCJ0b2dnbGVCdXR0b25WaXNpYmlsaXR5Iiwib25UeXBlZCIsIm9uZ29pbmciLCJ0cmlnZ2VyWEFQSSIsIm9uQXV0b0NoZWNrZWQiLCJ0cmlnZ2VyWEFQSUFuc3dlcmVkIiwicmVnaXN0ZXJEb21FbGVtZW50cyIsInJlZ2lzdGVyTWVkaWEiLCJzZXRJbnRyb2R1Y3Rpb24iLCJyZXBvc2l0b3J5IiwiZ2V0VGFza0Rlc2NyaXB0aW9uIiwiY29udGFpbmVyIiwialF1ZXJ5Iiwic2V0Q29udGVudCIsInJlZ2lzdGVyQnV0dG9ucyIsIm1vdmVUb1N0YXRlIiwib25DaGVja0Fuc3dlciIsImNoZWNrQWxsIiwiaXNTb2x2ZWQiLCJvblNob3dTb2x1dGlvbiIsInNob3dpbmdTb2x1dGlvbnMiLCJzaG93U29sdXRpb25zIiwib25SZXRyeSIsInJlbW92ZUZlZWRiYWNrIiwicmVzZXQiLCJnZXRDdXJyZW50U3RhdGUiLCJzZXJpYWxpemVDbG96ZSIsImdldEFuc3dlckdpdmVuIiwiZ2V0U2NvcmUiLCJjdXJyZW50U2NvcmUiLCJnZXRNYXhTY29yZSIsInNob3dpbmdTb2x1dGlvbnNFbWJlZGRlZCIsInJlc2V0VGFzayIsInhBUElFdmVudCIsImNyZWF0ZVhBUElFdmVudFRlbXBsYXRlIiwiYWRkUXVlc3Rpb25Ub1hBUEkiLCJhZGRSZXNwb25zZVRvWEFQSSIsInRyaWdnZXIiLCJnZXRYQVBJRGF0YSIsInN0YXRlbWVudCIsImdldHhBUElEZWZpbml0aW9uIiwiZGVmaW5pdGlvbiIsIlhBUElBY3Rpdml0eURlZmluaXRpb24iLCJkZXNjcmlwdGlvbiIsImdldENsb3plVGV4dCIsInR5cGUiLCJpbnRlcmFjdGlvblR5cGUiLCJjb3JyZWN0UmVzcG9uc2VzUGF0dGVyblByZWZpeCIsImNvcnJlY3RBbnN3ZXJMaXN0IiwiZ2V0Q29ycmVjdEFuc3dlckxpc3QiLCJmaXJzdEFsdGVybmF0aXZlcyIsImNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuIiwiZXh0ZW5zaW9ucyIsImdldFZlcmlmaWVkU3RhdGVtZW50VmFsdWUiLCJleHRlbmQiLCJoYXNBbHRlcm5hdGl2ZXMiLCJzZXRTY29yZWRSZXN1bHQiLCJyZXNwb25zZSIsImdldHhBUElSZXNwb25zZSIsImJsYW5rc1RleHQiLCJiZWhhdmlvdXIiLCJzZWxlY3RBbHRlcm5hdGl2ZXMiLCJvcmlnaW5hbCIsInVud3JhcHBlciIsIlVucndhcHBlciIsIkg1UFNldHRpbmdzIiwiSDVQRGF0YVJlcG9zaXRvcnkiLCJNZXNzYWdlU2VydmljZSIsIkNsb3plQ29udHJvbGxlciIsIm9uU29sdmVkIiwicHJldmlvdXNTdGF0ZSIsImF0dGFjaCIsIiRjb250YWluZXIiLCJkZXNlcmlhbGl6ZUNsb3plIiwiaXNGaWxsZWRPdXQiLCJhdXRvQ2hlY2siLCIkY29udGVudCIsIiRjb250YWluZXJQYXJlbnRzIiwicGFyZW50cyIsImJvZHkiLCJnZXRNZWRpYSIsImxpYnJhcnkiLCJwYXJhbXMiLCJmaWxlIiwic2V0SW1hZ2UiLCJkaXNhYmxlSW1hZ2Vab29taW5nIiwiYWx0Iiwic2V0VmlkZW8iLCJhZGRCdXR0b24iLCJjaGVja0FsbEJ1dHRvbiIsImNvbmZpcm1hdGlvbkRpYWxvZyIsImVuYWJsZSIsImNvbmZpcm1DaGVja0RpYWxvZyIsImwxMG4iLCJjb25maXJtQ2hlY2siLCJpbnN0YW5jZSIsIiRwYXJlbnRFbGVtZW50Iiwic2hvd1NvbHV0aW9uQnV0dG9uIiwiZW5hYmxlU29sdXRpb25zQnV0dG9uIiwiZW5hYmxlUmV0cnkiLCJyZXRyeUJ1dHRvbiIsImNvbmZpcm1SZXRyeURpYWxvZyIsImNvbmZpcm1SZXRyeSIsInNjb3JlVGV4dCIsIlF1ZXN0aW9uIiwiZGV0ZXJtaW5lT3ZlcmFsbEZlZWRiYWNrIiwib3ZlcmFsbEZlZWRiYWNrIiwic2NvcmVCYXJMYWJlbCIsInNob3dTb2x1dGlvbnNSZXF1aXJlc0lucHV0IiwiYWxsQmxhbmtzRW50ZXJlZCIsImhpZGVCdXR0b24iLCJzaG93QnV0dG9uIiwiZW5hYmxlQ2hlY2tCdXR0b24iLCJlbnRlcmVkVGV4dCIsImNob2ljZXMiLCJmaW5pc2hJbml0aWFsaXphdGlvbiIsImNsb3plVHlwZSIsIlNlbGVjdCIsIkFsdGVybmF0aXZlcyIsImxvYWRDaG9pY2VzRnJvbU93bkFsdGVybmF0aXZlcyIsImNhbGN1bGF0ZU1pblRleHRMZW5ndGgiLCJnZXRDb3JyZWN0QW5zd2VycyIsImhhc0hpbnQiLCJhbnN3ZXJzIiwiY29ycmVjdEFuc3dlciIsImdldExvbmdlc3RTdHJpbmciLCJpbmNvcnJlY3RBbnN3ZXIiLCJtaW5UZXh0TGVuZ3RoIiwibWF4Iiwic2h1ZmZsZUFycmF5IiwidW5zaGlmdCIsImxvYWRDaG9pY2VzRnJvbU90aGVyQmxhbmtzIiwib3RoZXJCbGFua3MiLCJvd25DaG9pY2VzIiwib3RoZXJDaG9pY2VzIiwibWF4Q2hvaWNlcyIsInNlbGVjdEFsdGVybmF0aXZlUmVzdHJpY3Rpb24iLCJsZWZ0T3ZlckNob2ljZXMiLCJ4IiwibGFzdENoZWNrZWRUZXh0IiwicmVtb3ZlVG9vbHRpcCIsInNldEFuc3dlclN0YXRlIiwiTm9uZSIsImhhc1BlbmRpbmdGZWVkYmFjayIsInNob3dTb2x1dGlvbiIsImlzQ29ycmVjdCIsIlNob3dTb2x1dGlvbiIsIm9uRm9jdXNzZWQiLCJvbkRpc3BsYXlGZWVkYmFjayIsImRpc3BsYXlUb29sdGlwIiwic3VycHJlc3NUb29sdGlwIiwic2hvdyIsImhpZGUiLCJzZXRUb29sdGlwRXJyb3JUZXh0IiwiZ2V0U3BlbGxpbmdNaXN0YWtlTWVzc2FnZSIsImV4cGVjdGVkVGV4dCIsInR5cG9NZXNzYWdlIiwibWlzdGFrZVNwYW4iLCJwYXJ0Iiwic3BhbkNsYXNzIiwic3BhbiIsImFwcGVuZCIsInN1cnByZXNzVG9vbHRpcHMiLCJmb3JjZUNoZWNrIiwiZXhhY3RDb3JyZWN0TWF0Y2hlcyIsImNsb3NlQ29ycmVjdE1hdGNoZXMiLCJleGFjdEluY29ycmVjdE1hdGNoZXMiLCJjbG9zZUluY29ycmVjdE1hdGNoZXMiLCJDb3JyZWN0Iiwic2hvd0Vycm9yVG9vbHRpcCIsIlJldHJ5IiwiYWx3YXlzQXBwbHlpbmdBbnN3ZXJzIiwibG9zdEZvY3VzIiwiaXNBY3RpdmUiLCJtZXNzYWdlVHlwZSIsImlzRXJyb3IiLCJpc1JldHJ5IiwiaXNTaG93aW5nU29sdXRpb24iLCJzaG93SGludCIsInNlcmlhbGl6ZSIsImRlc2VyaWFsaXplIiwic3RyaW5ncyIsInJhbmRvbSIsInRlbXAiLCJoNXBDb25maWdEYXRhIiwiZ2V0RmVlZGJhY2tUZXh0IiwidGFzayIsImdldEJsYW5rcyIsImJsYW5rcyIsImJsYW5rc0xpc3QiLCJoNXBCbGFuayIsImNvcnJlY3RBbnN3ZXJUZXh0IiwiaW5jb3JyZWN0QW5zd2Vyc0xpc3QiLCJnZXRTbmlwcGV0cyIsInJhd19zbmlwcGV0IiwiU25pcHBldCIsInNuaXBwZXROYW1lIiwidW53cmFwIiwic25pcHBldFRleHQiLCJoaWdobGlnaHRSYWN0aXZlcyIsImJsYW5rUmFjdGl2ZXMiLCJjbG96ZSIsImhpZGVBbGxIaWdobGlnaHRzIiwicmVmcmVzaENsb3plIiwiY2hlY2tBbmROb3RpZnlDb21wbGV0ZW5lc3MiLCJ0ZXh0VHlwZWQiLCJmb2N1cyIsImRpc3BsYXlGZWVkYmFjayIsInJlcXVlc3RDbG9zZVRvb2x0aXAiLCJmaW5kIiwiY2hlY2tCbGFuayIsImNhdXNlIiwibmV4dElkIiwic29tZSIsIm5vdFNob3dpbmdTb2x1dGlvbiIsImNvcnJlY3RBbnN3ZXJHaXZlbiIsInNpbWlsYXJBbnN3ZXJHaXZlbiIsImV2ZXJ5Iiwicm9vdCIsImlzU2VsZWN0Q2xvemUiLCJBbGwiLCJDbG96ZUxvYWRlciIsImNyZWF0ZUNsb3plIiwiY3JlYXRlQW5kQWRkQ29udGFpbmVycyIsImNyZWF0ZVJhY3RpdmVCaW5kaW5ncyIsImFkZFRvIiwiY2xvemVDb250YWluZXJFbGVtZW50IiwiY2xhc3NOYW1lIiwiY3JlYXRlSGlnaGxpZ2h0QmluZGluZyIsIlJhY3RpdmUiLCJlbCIsInRlbXBsYXRlIiwiY3JlYXRlQmxhbmtCaW5kaW5nIiwicmFjdGl2ZSIsImV2ZW50cyIsImVudGVyIiwiUmFjdGl2ZUV2ZW50c0tleXMiLCJlc2NhcGUiLCJhbnlrZXkiLCJvbiIsImhpZ2hsaWdodHMiLCJzZXQiLCJvcmRlcmVkQWxsRWxlbWVudHNMaXN0IiwiaGlnaGxpZ2h0SW5zdGFuY2VzIiwiYmxhbmtzSW5zdGFuY2VzIiwibm9ybWFsaXplQmxhbmtNYXJraW5ncyIsImNvbnZlcnNpb25SZXN1bHQiLCJjb252ZXJ0TWFya3VwVG9TcGFucyIsImxpbmtIaWdobGlnaHRzT2JqZWN0cyIsIkNsb3plIiwiZXhjbGFtYXRpb25NYXJrUmVnRXhwIiwiaGlnaGxpZ2h0Q291bnRlciIsImJsYW5rQ291bnRlciIsIm5leHRIaWdobGlnaHRNYXRjaCIsIm5leHRCbGFua0luZGV4Iiwibm9ybWFsaXplZEJsYW5rTWFya2VyIiwiSGlnaGxpZ2h0IiwibmV4dEJsYW5rSW5kZXhJbkFycmF5IiwiaGlnaGxpZ2h0c0JlZm9yZUJsYW5rIiwicmV2ZXJzZSIsImhpZ2hsaWdodHNBZnRlckJsYW5rIiwibWFrZUtleURlZmluaXRpb24iLCJjb2RlIiwibm9kZSIsImZpcmUiLCJrZXlkb3duSGFuZGxlciIsImV2ZW50Iiwid2hpY2giLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwidGVhcmRvd24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFiIiwic3BhY2UiLCJsZWZ0YXJyb3ciLCJyaWdodGFycm93IiwiZG93bmFycm93IiwidXBhcnJvdyIsIlR5cGUiLCJzcGVsbGluZ0Vycm9yQmVoYXZpb3VyIiwiZW5mb3JjZUxvZ2ljIiwiZWxlbWVudElkIiwiZWxlbWVudHMiLCJzcGVlY2hCdWJibGUiLCJKb3ViZWxTcGVlY2hCdWJibGUiLCJhc3NvY2lhdGVkQmxhbmsiLCJleGNl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T0FDRm5FLEVBRU82d0IsRUFBTzNGLFNBQVNsckIsUUFHcEMsRUFyQkEsR0FBYSxFQUFBNmlCLGEsOEdDSGIsbUJBQWEsRUFBQXRCLDBCLDhGQ0tiLG9CLElBQXVCLHNEQUNyQixJQUFLLElBQUloa0IsRUFBSSxFQUFHQSxFQUFJdXpCLEVBQUszc0IsT0FBUTVHLElBQy9CLElBQUssSUFBSXVCLEtBQU9neUIsRUFBS3Z6QixHQUNmdXpCLEVBQUt2ekIsR0FBRzZCLGVBQWVOLEtBQ0csaUJBQWpCZ3lCLEVBQUssR0FBR2h5QixJQUE2QyxpQkFBakJneUIsRUFBS3Z6QixHQUFHdUIsR0FDckRjLEtBQUt1aUIsT0FBTzJPLEVBQUssR0FBR2h5QixHQUFNZ3lCLEVBQUt2ekIsR0FBR3VCLElBR2xDZ3lCLEVBQUssR0FBR2h5QixHQUFPZ3lCLEVBQUt2ekIsR0FBR3VCLElBSy9CLE9BQU9neUIsRUFBSyIsImZpbGUiOiJkaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiaW1wb3J0IHsgTWVzc2FnZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9tZXNzYWdlLXNlcnZpY2UnO1xuaW1wb3J0IHsgSGlnaGxpZ2h0IH0gZnJvbSAnLi4vbW9kZWxzL2hpZ2hsaWdodCc7XG5pbXBvcnQgeyBBbnN3ZXIgfSBmcm9tICcuLi9tb2RlbHMvYW5zd2VyJztcbmltcG9ydCB7IEJsYW5rIH0gZnJvbSAnLi4vbW9kZWxzL2JsYW5rJztcbmltcG9ydCB7IEg1UExvY2FsaXphdGlvbiB9IGZyb20gJy4uL3NlcnZpY2VzL2xvY2FsaXphdGlvbic7XG5pbXBvcnQgeyBJU2V0dGluZ3MgfSBmcm9tICcuLi9zZXJ2aWNlcy9zZXR0aW5ncyc7XG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSBcIi4uL21vZGVscy9tZXNzYWdlXCI7XG5pbXBvcnQgeyBTbmlwcGV0IH0gZnJvbSAnLi4vbW9kZWxzL3NuaXBwZXQnO1xuXG5leHBvcnQgY2xhc3MgQmxhbmtMb2FkZXIge1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IocHJpdmF0ZSBzZXR0aW5nczogSVNldHRpbmdzLCBwcml2YXRlIGxvY2FsaXphdGlvbjogSDVQTG9jYWxpemF0aW9uLCBwcml2YXRlIGpxdWVyeTogSlF1ZXJ5U3RhdGljLCBwcml2YXRlIG1lc3NhZ2VTZXJ2aWNlOiBNZXNzYWdlU2VydmljZSkgeyB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBCbGFua0xvYWRlcjtcbiAgcHVibGljIHN0YXRpYyBpbml0aWFsaXplKHNldHRpbmdzOiBJU2V0dGluZ3MsIGxvY2FsaXphdGlvbjogSDVQTG9jYWxpemF0aW9uLCBqcXVlcnk6IEpRdWVyeVN0YXRpYywgbWVzc2FnZVNlcnZpY2U6IE1lc3NhZ2VTZXJ2aWNlKTogQmxhbmtMb2FkZXIge1xuICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IEJsYW5rTG9hZGVyKHNldHRpbmdzLCBsb2NhbGl6YXRpb24sIGpxdWVyeSwgbWVzc2FnZVNlcnZpY2UpO1xuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IEJsYW5rTG9hZGVyIHtcbiAgICBpZiAodGhpcy5faW5zdGFuY2UpXG4gICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG5cbiAgICB0aHJvdyBcIkJsYW5rTG9hZGVyIG11c3QgYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIHVzZS5cIjtcbiAgfVxuXG4gIHByaXZhdGUgZGVjb2RlSHRtbChodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICBlbGVtLmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIGVsZW0udmFsdWU7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlQmxhbmsoaWQ6IHN0cmluZywgY29ycmVjdFRleHQ6IHN0cmluZywgaGludFRleHQ6IHN0cmluZywgaW5jb3JyZWN0QW5zd2VyczogYW55W10pOiBCbGFuayB7XG4gICAgdmFyIGJsYW5rID0gbmV3IEJsYW5rKHRoaXMuc2V0dGluZ3MsIHRoaXMubG9jYWxpemF0aW9uLCB0aGlzLmpxdWVyeSwgdGhpcy5tZXNzYWdlU2VydmljZSwgaWQpXG4gICAgaWYgKGNvcnJlY3RUZXh0KSB7XG4gICAgICBjb3JyZWN0VGV4dCA9IHRoaXMuZGVjb2RlSHRtbChjb3JyZWN0VGV4dCk7XG4gICAgICBibGFuay5hZGRDb3JyZWN0QW5zd2VyKG5ldyBBbnN3ZXIoY29ycmVjdFRleHQsIFwiXCIsIGZhbHNlLCAwLCB0aGlzLnNldHRpbmdzKSk7XG4gICAgfVxuICAgIGJsYW5rLnNldEhpbnQobmV3IE1lc3NhZ2UoaGludFRleHQgPyBoaW50VGV4dCA6IFwiXCIsIGZhbHNlLCAwKSk7XG5cbiAgICBpZiAoaW5jb3JyZWN0QW5zd2Vycykge1xuICAgICAgZm9yICh2YXIgaDVwSW5jb3JyZWN0QW5zd2VyIG9mIGluY29ycmVjdEFuc3dlcnMpIHtcbiAgICAgICAgYmxhbmsuYWRkSW5jb3JyZWN0QW5zd2VyKHRoaXMuZGVjb2RlSHRtbChoNXBJbmNvcnJlY3RBbnN3ZXIuaW5jb3JyZWN0QW5zd2VyVGV4dCksIGg1cEluY29ycmVjdEFuc3dlci5pbmNvcnJlY3RBbnN3ZXJGZWVkYmFjaywgaDVwSW5jb3JyZWN0QW5zd2VyLnNob3dIaWdobGlnaHQsIGg1cEluY29ycmVjdEFuc3dlci5oaWdobGlnaHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBibGFuaztcbiAgfVxuXG4gIHB1YmxpYyByZXBsYWNlU25pcHBldHMoYmxhbms6IEJsYW5rLCBzbmlwcGV0czogU25pcHBldFtdKSB7XG4gICAgYmxhbmsuY29ycmVjdEFuc3dlcnMuY29uY2F0KGJsYW5rLmluY29ycmVjdEFuc3dlcnMpXG4gICAgICAuZm9yRWFjaChhbnN3ZXIgPT4gYW5zd2VyLm1lc3NhZ2UudGV4dCA9IHRoaXMuZ2V0U3RyaW5nV2l0aFNuaXBwZXRzKGFuc3dlci5tZXNzYWdlLnRleHQsIHNuaXBwZXRzKSk7XG4gICAgYmxhbmsuaGludC50ZXh0ID0gdGhpcy5nZXRTdHJpbmdXaXRoU25pcHBldHMoYmxhbmsuaGludC50ZXh0LCBzbmlwcGV0cyk7XG4gIH1cblxuICBwcml2YXRlIGdldFN0cmluZ1dpdGhTbmlwcGV0cyh0ZXh0OiBzdHJpbmcsIHNuaXBwZXRzOiBTbmlwcGV0W10pOiBzdHJpbmcge1xuICAgIGlmICghdGV4dCB8fCB0ZXh0ID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gXCJcIjtcblxuICAgIGlmKCFzbmlwcGV0cylcbiAgICAgIHJldHVybiB0ZXh0OyAgICBcblxuICAgIGZvciAodmFyIHNuaXBwZXQgb2Ygc25pcHBldHMpIHtcbiAgICAgIGlmIChzbmlwcGV0Lm5hbWUgPT09IHVuZGVmaW5lZCB8fCBzbmlwcGV0Lm5hbWUgPT09IFwiXCIgfHwgc25pcHBldC50ZXh0ID09PSB1bmRlZmluZWQgfHwgc25pcHBldC50ZXh0ID09PSBcIlwiKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoXCJAXCIgKyBzbmlwcGV0Lm5hbWUsIHNuaXBwZXQudGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgaGlnaGxpZ2h0IG9iamVjdHMgdG8gdGhlIGFuc3dlcnMgaW4gdGhlIGNvcnJlY3QgYW5kIGluY29ycmVjdCBhbnN3ZXIgbGlzdC5cbiAgICogQHBhcmFtICB7SGlnaGxpZ2h0W119IGhpZ2hsaWdodHNCZWZvcmUgLSBBbGwgaGlnaGxpZ2h0cyBjb21pbmcgYmVmb3JlIHRoZSBibGFuay5cbiAgICogQHBhcmFtICB7SGlnaGxpZ2h0W119IGhpZ2hsaWdodHNBZnRlciAtIEFsbCBoaWdobGlnaHRzIGNvbWluZyBhZnRlciB0aGUgYmxhbmsuXG4gICAqL1xuICBwdWJsaWMgbGlua0hpZ2hsaWdodElkVG9PYmplY3QoYmxhbms6IEJsYW5rLCBoaWdobGlnaHRzQmVmb3JlOiBIaWdobGlnaHRbXSwgaGlnaGxpZ2h0c0FmdGVyOiBIaWdobGlnaHRbXSkge1xuICAgIGZvciAobGV0IGFuc3dlciBvZiBibGFuay5jb3JyZWN0QW5zd2Vycykge1xuICAgICAgYW5zd2VyLmxpbmtIaWdobGlnaHRJZFRvT2JqZWN0KGhpZ2hsaWdodHNCZWZvcmUsIGhpZ2hsaWdodHNBZnRlcik7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgYW5zd2VyIG9mIGJsYW5rLmluY29ycmVjdEFuc3dlcnMpIHtcbiAgICAgIGFuc3dlci5saW5rSGlnaGxpZ2h0SWRUb09iamVjdChoaWdobGlnaHRzQmVmb3JlLCBoaWdobGlnaHRzQWZ0ZXIpO1xuICAgIH1cblxuICAgIGJsYW5rLmhpbnQubGlua0hpZ2hsaWdodChoaWdobGlnaHRzQmVmb3JlLCBoaWdobGlnaHRzQWZ0ZXIpO1xuICB9XG5cbn0iLCJleHBvcnQgZW51bSBNZXNzYWdlVHlwZSB7XG4gIEVycm9yLFxuICBDb3JyZWN0LFxuICBSZXRyeSxcbiAgU2hvd1NvbHV0aW9uLFxuICBOb25lXG59XG5cbmV4cG9ydCBlbnVtIENsb3plVHlwZSB7XG4gIFR5cGUsXG4gIFNlbGVjdFxufVxuXG5leHBvcnQgZW51bSBTZWxlY3RBbHRlcm5hdGl2ZXMge1xuICBBbHRlcm5hdGl2ZXMsXG4gIEFsbFxufSIsImltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgSGlnaGxpZ2h0IH0gZnJvbSAnLi9oaWdobGlnaHQnO1xuaW1wb3J0IHsgSVNldHRpbmdzIH0gZnJvbSAnLi4vc2VydmljZXMvc2V0dGluZ3MnO1xuaW1wb3J0ICogYXMganNkaWZmIGZyb20gJ2RpZmYnO1xuXG5leHBvcnQgZW51bSBDb3JyZWN0bmVzcyB7XG4gIEV4YWN0TWF0Y2gsXG4gIENsb3NlTWF0Y2gsXG4gIE5vTWF0Y2hcbn1cblxuZXhwb3J0IGNsYXNzIEV2YWx1YXRpb24ge1xuICBwdWJsaWMgY29ycmVjdG5lc3M6IENvcnJlY3RuZXNzO1xuICBwdWJsaWMgY2hhcmFjdGVyRGlmZmVyZW5jZUNvdW50OiBudW1iZXI7XG4gIHB1YmxpYyB1c2VkQWx0ZXJuYXRpdmU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdXNlZEFuc3dlcjogQW5zd2VyKSB7XG4gICAgdGhpcy5jb3JyZWN0bmVzcyA9IENvcnJlY3RuZXNzLk5vTWF0Y2g7XG4gICAgdGhpcy5jaGFyYWN0ZXJEaWZmZXJlbmNlQ291bnQgPSAwO1xuICAgIHRoaXMudXNlZEFsdGVybmF0aXZlID0gXCJcIjtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwb3NzaWJsZSBhbnN3ZXIgdGhlIGNvbnRlbnQgYXV0aG9yIGVudGVycyBmb3IgYSBibGFuaywgZS5nLiB0aGUgY29ycmVjdCBvciBhbiBpbmNvcnJlY3QgYW5zd2VyLlxuICovXG5leHBvcnQgY2xhc3MgQW5zd2VyIHtcbiAgLyoqXG4gICAqIFRoZSBhbHRlcm5hdGl2ZXMgYXJlIGVxdWl2YWxlbnQgc3RyaW5ncyB0aGF0IHRoZSBsaWJyYXJ5IHNob3VsZCB0cmVhdCB0aGUgc2FtZSB3YXksIGUuZy4gc2hvdyB0aGUgc2FtZSBmZWVkYmFjay4gXG4gICAqL1xuICBhbHRlcm5hdGl2ZXM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBtZXNzYWdlIHRoYXQgaXMgZGlzcGxheWVkIHdoZW4gdGhlIGFuc3dlciB3YXMgZW50ZXJlZCBieSB0aGUgdXNlci5cbiAgICovXG4gIG1lc3NhZ2U6IE1lc3NhZ2U7XG5cbiAgLyoqXG4gICAqIElzIHRydWUgaWYgdGhlIGV4cGVjdGVkIHRleHQgZm9yIHRoaXMgYW5zd2VyIGlzIGVtcHR5LlxuICAgKi9cbiAgYXBwbGllc0Fsd2F5czogYm9vbGVhbjtcblxuICAvKipcbiAgICogQHBhcmFtICB7c3RyaW5nfSBhbnN3ZXJUZXh0IC0gVGhlIGV4cGVjdGVkIGFuc3dlci4gQWx0ZXJuYXRpdmVzIGFyZSBzZXBhcmF0ZWQgYnkgfCBvciA7IC4gKGUuZy4gXCJBbHRlcm5hdGl2ZSAxfEFsdGVybmF0aXZlIDJ8QWx0ZXJuYXRpdmUgM3wuLi5cIiAgLW9yLSBcIkFsdGVybmF0aXZlIDE7QWx0ZXJuYXRpdmUgMjtBbHRlcm5hdGl2ZSAzXCIpXG4gICAqIEBwYXJhbSAge3N0cmluZ30gcmVhY3Rpb24gLSBUaGUgdG9vbHRpcCB0aGF0IHNob3VsZCBiZSBkaXNwbGF5ZWQuIEZvcm1hdDogVG9vbHRpcCBUZXh0OyEhLTEhISAhISsxISFcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFuc3dlclRleHQ6IHN0cmluZywgcmVhY3Rpb246IHN0cmluZywgc2hvd0hpZ2hsaWdodDogYm9vbGVhbiwgaGlnaGxpZ2h0OiBudW1iZXIsIHByaXZhdGUgc2V0dGluZ3M6IElTZXR0aW5ncykge1xuICAgIHRoaXMuYWx0ZXJuYXRpdmVzID0gYW5zd2VyVGV4dC5zcGxpdCgvXFwvLykubWFwKHMgPT4gcy50cmltKCkpO1xuICAgIHRoaXMubWVzc2FnZSA9IG5ldyBNZXNzYWdlKHJlYWN0aW9uLCBzaG93SGlnaGxpZ2h0LCBoaWdobGlnaHQpO1xuICAgIGlmIChhbnN3ZXJUZXh0LnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgdGhpcy5hcHBsaWVzQWx3YXlzID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcHBsaWVzQWx3YXlzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvb2tzIHRocm91Z2ggdGhlIG9iamVjdCdzIG1lc3NhZ2UgaWRzIGFuZCBzdG9yZXMgdGhlIHJlZmVyZW5jZXMgdG8gdGhlIGhpZ2hsaWdodCBvYmplY3QgZm9yIHRoZXNlIGlkcy5cbiAgICogQHBhcmFtICB7SGlnaGxpZ2h0W119IGhpZ2hsaWdodHNCZWZvcmVcbiAgICogQHBhcmFtICB7SGlnaGxpZ2h0W119IGhpZ2hsaWdodHNBZnRlclxuICAgKi9cbiAgcHVibGljIGxpbmtIaWdobGlnaHRJZFRvT2JqZWN0KGhpZ2hsaWdodHNCZWZvcmU6IEhpZ2hsaWdodFtdLCBoaWdobGlnaHRzQWZ0ZXI6IEhpZ2hsaWdodFtdKSB7XG4gICAgdGhpcy5tZXNzYWdlLmxpbmtIaWdobGlnaHQoaGlnaGxpZ2h0c0JlZm9yZSwgaGlnaGxpZ2h0c0FmdGVyKTtcbiAgfVxuICAvKipcbiAgICogVHVybnMgb24gdGhlIGhpZ2hsaWdodHMgc2V0IGJ5IHRoZSBjb250ZW50IGF1dGhvciBmb3IgdGhpcyBhbnN3ZXIuXG4gICAqL1xuICBwdWJsaWMgYWN0aXZhdGVIaWdobGlnaHQoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZS5oaWdobGlnaHRlZEVsZW1lbnQpXG4gICAgICB0aGlzLm1lc3NhZ2UuaGlnaGxpZ2h0ZWRFbGVtZW50LmlzSGlnaGxpZ2h0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhblN0cmluZyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHRleHQgPSB0ZXh0LnRyaW0oKTtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHN7Mix9L2csIFwiIFwiKTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgdGhyb3VnaCB0aGUgZGlmZiBhbmQgY2hlY2tzIGhvdyBtYW55IGNoYXJhY3RlciBjaGFuZ2Ugb3BlcmF0aW9ucyBhcmUgbmVlZGVkIHRvIHR1cm4gb25lIHN0cmluZyBpbnRvIHRoZSBvdGhlci4gU2hvdWxkIHJldHVybiB0aGUgc2FtZSByZXN1bHRzIGFzIHRoZSBMZXZlbnN0aGVpbiBkaXN0YW5jZS4gXG4gICAqIEBwYXJhbSAge1t7YWRkZWQ/OmJvb2xlYW4sIGJvb2xlYW46IHJlbW92ZWQ/LCBzdHJpbmc6IHZhbHVlfV19IGRpZmYgLSBhcyByZXR1cm5lZCBieSBqc2RpZmZcbiAgICogQHJldHVybnMgbnVtYmVyIC0gdGhlIGNvdW50IG9mIGNoYW5nZXMgKHJlcGxhY2UsIGFkZCwgZGVsZXRlKSBuZWVkZWQgdG8gY2hhbmdlIHRoZSB0ZXh0IGZyb20gb25lIHN0cmluZyB0byB0aGUgb3RoZXIgXG4gICAqL1xuICBwcml2YXRlIGdldENoYW5nZXNDb3VudEZyb21EaWZmKGRpZmY6IGpzZGlmZi5DaGFuZ2VbXSk6IG51bWJlciB7XG4gICAgdmFyIHRvdGFsQ2hhbmdlc0NvdW50ID0gMDtcbiAgICB2YXIgbGFzdFR5cGUgPSBcIlwiO1xuICAgIHZhciBsYXN0Q291bnQgPSAwO1xuXG4gICAgZm9yICh2YXIgZWxlbWVudCBvZiBkaWZmKSB7XG4gICAgICBpZiAoZWxlbWVudC5yZW1vdmVkKSB7XG4gICAgICAgIHRvdGFsQ2hhbmdlc0NvdW50ICs9IGVsZW1lbnQudmFsdWUubGVuZ3RoO1xuICAgICAgICBsYXN0VHlwZSA9IFwicmVtb3ZlZFwiO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZWxlbWVudC5hZGRlZCkge1xuICAgICAgICBpZiAobGFzdFR5cGUgPT09IFwicmVtb3ZlZFwiKSB7XG4gICAgICAgICAgaWYgKGxhc3RDb3VudCA8IGVsZW1lbnQudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0b3RhbENoYW5nZXNDb3VudCArPSBlbGVtZW50LnZhbHVlLmxlbmd0aCAtIGxhc3RDb3VudDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG90YWxDaGFuZ2VzQ291bnQgKz0gZWxlbWVudC52YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFR5cGUgPSBcImFkZGVkXCI7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGFzdFR5cGUgPSBcInNhbWVcIjtcbiAgICAgIH1cbiAgICAgIGxhc3RDb3VudCA9IGVsZW1lbnQudmFsdWUubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiB0b3RhbENoYW5nZXNDb3VudDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBob3cgbWFueSBjaGFyYWN0ZXJzIGNhbiBiZSB3cm9uZyB0byBzdGlsbCBiZSBjb3VudGVkIGFzIGEgc3BlbGxpbmcgbWlzdGFrZS5cbiAgICogSWYgc3BlbGxpbmcgbWlzdGFrZXMgYXJlIHR1cm5lZCBvZmYgdGhyb3VnaCB0aGUgc2V0dGluZ3MsIGl0IHdpbGwgcmV0dXJuIDAuXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGV4dFxuICAgKiBAcmV0dXJucyBudW1iZXJcbiAgICovXG5cbiAgcHJpdmF0ZSBnZXRBY2NlcHRhYmxlU3BlbGxpbmdNaXN0YWtlcyh0ZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIHZhciBhY2NlcHRhYmxlVHlwb0NvdW50OiBudW1iZXI7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3Mud2FyblNwZWxsaW5nRXJyb3JzIHx8IHRoaXMuc2V0dGluZ3MuYWNjZXB0U3BlbGxpbmdFcnJvcnMpIC8vIFRPRE86IGNvbnNpZGVyIHJlbW92YWxcbiAgICAgIGFjY2VwdGFibGVUeXBvQ291bnQgPSBNYXRoLmZsb29yKHRleHQubGVuZ3RoIC8gMTApICsgMTtcbiAgICBlbHNlXG4gICAgICBhY2NlcHRhYmxlVHlwb0NvdW50ID0gMDtcblxuICAgIHJldHVybiBhY2NlcHRhYmxlVHlwb0NvdW50O1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHRleHQgZW50ZXJlZCBieSB0aGUgdXNlciBpbiBhbiBldHRlbXB0IGlzIG1hdGNoZWQgYnkgdGhlIGFuc3dlcixcbiAgICogQHBhcmFtICB7c3RyaW5nfSBhdHRlbXB0IFRoZSB0ZXh0IGVudGVyZWQgYnkgdGhlIHVzZXIuXG4gICAqIEByZXR1cm5zIEV2YWx1YXRpb24gaW5kaWNhdGVzIGlmIHRoZSBlbnRlcmVkIHRleHQgaXMgbWF0Y2hlZCBieSB0aGUgYW5zd2VyLlxuICAgKi9cbiAgcHVibGljIGV2YWx1YXRlQXR0ZW1wdChhdHRlbXB0OiBzdHJpbmcpOiBFdmFsdWF0aW9uIHtcbiAgICB2YXIgY2xlYW5lZEF0dGVtcHQgPSB0aGlzLmNsZWFuU3RyaW5nKGF0dGVtcHQpO1xuICAgIHZhciBldmFsdWF0aW9uID0gbmV3IEV2YWx1YXRpb24odGhpcyk7XG5cbiAgICBmb3IgKHZhciBhbHRlcm5hdGl2ZSBvZiB0aGlzLmFsdGVybmF0aXZlcykge1xuICAgICAgdmFyIGNsZWFuZWRBbHRlcm5hdGl2ZSA9IHRoaXMuY2xlYW5TdHJpbmcoYWx0ZXJuYXRpdmUpO1xuXG4gICAgICB2YXIgZGlmZiA9IGpzZGlmZi5kaWZmQ2hhcnMoY2xlYW5lZEFsdGVybmF0aXZlLCBjbGVhbmVkQXR0ZW1wdCxcbiAgICAgICAgeyBpZ25vcmVDYXNlOiAhdGhpcy5zZXR0aW5ncy5jYXNlU2Vuc2l0aXZlIH0pO1xuICAgICAgdmFyIGNoYW5nZUNvdW50ID0gdGhpcy5nZXRDaGFuZ2VzQ291bnRGcm9tRGlmZihkaWZmKTtcblxuICAgICAgaWYgKGNoYW5nZUNvdW50ID09PSAwKSB7XG4gICAgICAgIGV2YWx1YXRpb24udXNlZEFsdGVybmF0aXZlID0gY2xlYW5lZEFsdGVybmF0aXZlO1xuICAgICAgICBldmFsdWF0aW9uLmNvcnJlY3RuZXNzID0gQ29ycmVjdG5lc3MuRXhhY3RNYXRjaDtcbiAgICAgICAgcmV0dXJuIGV2YWx1YXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFuZ2VDb3VudCA8PSB0aGlzLmdldEFjY2VwdGFibGVTcGVsbGluZ01pc3Rha2VzKGFsdGVybmF0aXZlKVxuICAgICAgICAmJiAoZXZhbHVhdGlvbi5jaGFyYWN0ZXJEaWZmZXJlbmNlQ291bnQgPT09IDAgfHwgY2hhbmdlQ291bnQgPCBldmFsdWF0aW9uLmNoYXJhY3RlckRpZmZlcmVuY2VDb3VudCkpIHtcbiAgICAgICAgZXZhbHVhdGlvbi51c2VkQWx0ZXJuYXRpdmUgPSBjbGVhbmVkQWx0ZXJuYXRpdmU7XG4gICAgICAgIGV2YWx1YXRpb24uY29ycmVjdG5lc3MgPSBDb3JyZWN0bmVzcy5DbG9zZU1hdGNoO1xuICAgICAgICBldmFsdWF0aW9uLmNoYXJhY3RlckRpZmZlcmVuY2VDb3VudCA9IGNoYW5nZUNvdW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXZhbHVhdGlvbjtcbiAgfVxufSIsImV4cG9ydCBlbnVtIENsb3plRWxlbWVudFR5cGUge1xuICBCbGFuayxcbiAgSGlnaGxpZ2h0XG59XG5cbmV4cG9ydCBjbGFzcyBDbG96ZUVsZW1lbnQge1xuICBwdWJsaWMgdHlwZTogQ2xvemVFbGVtZW50VHlwZTtcbn0iLCJpbXBvcnQgeyBIaWdobGlnaHQgfSBmcm9tIFwiLi9oaWdobGlnaHRcIjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB0aGF0IHRoZSBjb250ZW50IGF1dGhvciBoYXMgc3BlY2lmaWVkIHRvIGJlIGEgcmVhY3Rpb25cbiAqIHRvIGFuIHVzZXIncyBhbnN3ZXIuIFxuICovXG5leHBvcnQgY2xhc3MgTWVzc2FnZSB7XG4gIGhpZ2hsaWdodGVkRWxlbWVudDogSGlnaGxpZ2h0O1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0ZXh0OiBzdHJpbmcsIHNob3dIaWdobGlnaHQ6IGJvb2xlYW4sIHByaXZhdGUgcmVsYXRpdmVIaWdobGlnaHRQb3NpdGlvbjogbnVtYmVyKSB7XG4gICAgaWYoIXNob3dIaWdobGlnaHQpXG4gICAgICB0aGlzLnJlbGF0aXZlSGlnaGxpZ2h0UG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBsaW5rSGlnaGxpZ2h0ID0gKGhpZ2hsaWdodHNCZWZvcmU6IEhpZ2hsaWdodFtdLCBoaWdobGlnaHRzQWZ0ZXI6IEhpZ2hsaWdodFtdKSA9PiB7XG4gICAgaWYgKCF0aGlzLnJlbGF0aXZlSGlnaGxpZ2h0UG9zaXRpb24pXG4gICAgICByZXR1cm47XG5cbiAgICAgIGlmICh0aGlzLnJlbGF0aXZlSGlnaGxpZ2h0UG9zaXRpb24gPCAwICYmICgwIC0gdGhpcy5yZWxhdGl2ZUhpZ2hsaWdodFBvc2l0aW9uIC0gMSkgPCBoaWdobGlnaHRzQmVmb3JlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodGVkRWxlbWVudCA9IGhpZ2hsaWdodHNCZWZvcmVbMCAtIHRoaXMucmVsYXRpdmVIaWdobGlnaHRQb3NpdGlvbiAtIDFdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yZWxhdGl2ZUhpZ2hsaWdodFBvc2l0aW9uID4gMCAmJiAodGhpcy5yZWxhdGl2ZUhpZ2hsaWdodFBvc2l0aW9uIC0gMSA8IGhpZ2hsaWdodHNBZnRlci5sZW5ndGgpKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRFbGVtZW50ID0gaGlnaGxpZ2h0c0FmdGVyW3RoaXMucmVsYXRpdmVIaWdobGlnaHRQb3NpdGlvbiAtIDFdO1xuICAgICAgfVxuICB9XG59IiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLkRpZmYgPSB7fSkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIERpZmYoKSB7fVxuICBEaWZmLnByb3RvdHlwZSA9IHtcbiAgICBkaWZmOiBmdW5jdGlvbiBkaWZmKG9sZFN0cmluZywgbmV3U3RyaW5nKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrO1xuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGZ1bmN0aW9uIGRvbmUodmFsdWUpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxsYmFjayh1bmRlZmluZWQsIHZhbHVlKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gQWxsb3cgc3ViY2xhc3NlcyB0byBtYXNzYWdlIHRoZSBpbnB1dCBwcmlvciB0byBydW5uaW5nXG5cblxuICAgICAgb2xkU3RyaW5nID0gdGhpcy5jYXN0SW5wdXQob2xkU3RyaW5nKTtcbiAgICAgIG5ld1N0cmluZyA9IHRoaXMuY2FzdElucHV0KG5ld1N0cmluZyk7XG4gICAgICBvbGRTdHJpbmcgPSB0aGlzLnJlbW92ZUVtcHR5KHRoaXMudG9rZW5pemUob2xkU3RyaW5nKSk7XG4gICAgICBuZXdTdHJpbmcgPSB0aGlzLnJlbW92ZUVtcHR5KHRoaXMudG9rZW5pemUobmV3U3RyaW5nKSk7XG4gICAgICB2YXIgbmV3TGVuID0gbmV3U3RyaW5nLmxlbmd0aCxcbiAgICAgICAgICBvbGRMZW4gPSBvbGRTdHJpbmcubGVuZ3RoO1xuICAgICAgdmFyIGVkaXRMZW5ndGggPSAxO1xuICAgICAgdmFyIG1heEVkaXRMZW5ndGggPSBuZXdMZW4gKyBvbGRMZW47XG4gICAgICB2YXIgYmVzdFBhdGggPSBbe1xuICAgICAgICBuZXdQb3M6IC0xLFxuICAgICAgICBjb21wb25lbnRzOiBbXVxuICAgICAgfV07IC8vIFNlZWQgZWRpdExlbmd0aCA9IDAsIGkuZS4gdGhlIGNvbnRlbnQgc3RhcnRzIHdpdGggdGhlIHNhbWUgdmFsdWVzXG5cbiAgICAgIHZhciBvbGRQb3MgPSB0aGlzLmV4dHJhY3RDb21tb24oYmVzdFBhdGhbMF0sIG5ld1N0cmluZywgb2xkU3RyaW5nLCAwKTtcblxuICAgICAgaWYgKGJlc3RQYXRoWzBdLm5ld1BvcyArIDEgPj0gbmV3TGVuICYmIG9sZFBvcyArIDEgPj0gb2xkTGVuKSB7XG4gICAgICAgIC8vIElkZW50aXR5IHBlciB0aGUgZXF1YWxpdHkgYW5kIHRva2VuaXplclxuICAgICAgICByZXR1cm4gZG9uZShbe1xuICAgICAgICAgIHZhbHVlOiB0aGlzLmpvaW4obmV3U3RyaW5nKSxcbiAgICAgICAgICBjb3VudDogbmV3U3RyaW5nLmxlbmd0aFxuICAgICAgICB9XSk7XG4gICAgICB9IC8vIE1haW4gd29ya2VyIG1ldGhvZC4gY2hlY2tzIGFsbCBwZXJtdXRhdGlvbnMgb2YgYSBnaXZlbiBlZGl0IGxlbmd0aCBmb3IgYWNjZXB0YW5jZS5cblxuXG4gICAgICBmdW5jdGlvbiBleGVjRWRpdExlbmd0aCgpIHtcbiAgICAgICAgZm9yICh2YXIgZGlhZ29uYWxQYXRoID0gLTEgKiBlZGl0TGVuZ3RoOyBkaWFnb25hbFBhdGggPD0gZWRpdExlbmd0aDsgZGlhZ29uYWxQYXRoICs9IDIpIHtcbiAgICAgICAgICB2YXIgYmFzZVBhdGggPSB2b2lkIDA7XG5cbiAgICAgICAgICB2YXIgYWRkUGF0aCA9IGJlc3RQYXRoW2RpYWdvbmFsUGF0aCAtIDFdLFxuICAgICAgICAgICAgICByZW1vdmVQYXRoID0gYmVzdFBhdGhbZGlhZ29uYWxQYXRoICsgMV0sXG4gICAgICAgICAgICAgIF9vbGRQb3MgPSAocmVtb3ZlUGF0aCA/IHJlbW92ZVBhdGgubmV3UG9zIDogMCkgLSBkaWFnb25hbFBhdGg7XG5cbiAgICAgICAgICBpZiAoYWRkUGF0aCkge1xuICAgICAgICAgICAgLy8gTm8gb25lIGVsc2UgaXMgZ29pbmcgdG8gYXR0ZW1wdCB0byB1c2UgdGhpcyB2YWx1ZSwgY2xlYXIgaXRcbiAgICAgICAgICAgIGJlc3RQYXRoW2RpYWdvbmFsUGF0aCAtIDFdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjYW5BZGQgPSBhZGRQYXRoICYmIGFkZFBhdGgubmV3UG9zICsgMSA8IG5ld0xlbixcbiAgICAgICAgICAgICAgY2FuUmVtb3ZlID0gcmVtb3ZlUGF0aCAmJiAwIDw9IF9vbGRQb3MgJiYgX29sZFBvcyA8IG9sZExlbjtcblxuICAgICAgICAgIGlmICghY2FuQWRkICYmICFjYW5SZW1vdmUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgcGF0aCBpcyBhIHRlcm1pbmFsIHRoZW4gcHJ1bmVcbiAgICAgICAgICAgIGJlc3RQYXRoW2RpYWdvbmFsUGF0aF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IC8vIFNlbGVjdCB0aGUgZGlhZ29uYWwgdGhhdCB3ZSB3YW50IHRvIGJyYW5jaCBmcm9tLiBXZSBzZWxlY3QgdGhlIHByaW9yXG4gICAgICAgICAgLy8gcGF0aCB3aG9zZSBwb3NpdGlvbiBpbiB0aGUgbmV3IHN0cmluZyBpcyB0aGUgZmFydGhlc3QgZnJvbSB0aGUgb3JpZ2luXG4gICAgICAgICAgLy8gYW5kIGRvZXMgbm90IHBhc3MgdGhlIGJvdW5kcyBvZiB0aGUgZGlmZiBncmFwaFxuXG5cbiAgICAgICAgICBpZiAoIWNhbkFkZCB8fCBjYW5SZW1vdmUgJiYgYWRkUGF0aC5uZXdQb3MgPCByZW1vdmVQYXRoLm5ld1Bvcykge1xuICAgICAgICAgICAgYmFzZVBhdGggPSBjbG9uZVBhdGgocmVtb3ZlUGF0aCk7XG4gICAgICAgICAgICBzZWxmLnB1c2hDb21wb25lbnQoYmFzZVBhdGguY29tcG9uZW50cywgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVBhdGggPSBhZGRQYXRoOyAvLyBObyBuZWVkIHRvIGNsb25lLCB3ZSd2ZSBwdWxsZWQgaXQgZnJvbSB0aGUgbGlzdFxuXG4gICAgICAgICAgICBiYXNlUGF0aC5uZXdQb3MrKztcbiAgICAgICAgICAgIHNlbGYucHVzaENvbXBvbmVudChiYXNlUGF0aC5jb21wb25lbnRzLCB0cnVlLCB1bmRlZmluZWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9vbGRQb3MgPSBzZWxmLmV4dHJhY3RDb21tb24oYmFzZVBhdGgsIG5ld1N0cmluZywgb2xkU3RyaW5nLCBkaWFnb25hbFBhdGgpOyAvLyBJZiB3ZSBoYXZlIGhpdCB0aGUgZW5kIG9mIGJvdGggc3RyaW5ncywgdGhlbiB3ZSBhcmUgZG9uZVxuXG4gICAgICAgICAgaWYgKGJhc2VQYXRoLm5ld1BvcyArIDEgPj0gbmV3TGVuICYmIF9vbGRQb3MgKyAxID49IG9sZExlbikge1xuICAgICAgICAgICAgcmV0dXJuIGRvbmUoYnVpbGRWYWx1ZXMoc2VsZiwgYmFzZVBhdGguY29tcG9uZW50cywgbmV3U3RyaW5nLCBvbGRTdHJpbmcsIHNlbGYudXNlTG9uZ2VzdFRva2VuKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSB0cmFjayB0aGlzIHBhdGggYXMgYSBwb3RlbnRpYWwgY2FuZGlkYXRlIGFuZCBjb250aW51ZS5cbiAgICAgICAgICAgIGJlc3RQYXRoW2RpYWdvbmFsUGF0aF0gPSBiYXNlUGF0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0TGVuZ3RoKys7XG4gICAgICB9IC8vIFBlcmZvcm1zIHRoZSBsZW5ndGggb2YgZWRpdCBpdGVyYXRpb24uIElzIGEgYml0IGZ1Z2x5IGFzIHRoaXMgaGFzIHRvIHN1cHBvcnQgdGhlXG4gICAgICAvLyBzeW5jIGFuZCBhc3luYyBtb2RlIHdoaWNoIGlzIG5ldmVyIGZ1bi4gTG9vcHMgb3ZlciBleGVjRWRpdExlbmd0aCB1bnRpbCBhIHZhbHVlXG4gICAgICAvLyBpcyBwcm9kdWNlZC5cblxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgKGZ1bmN0aW9uIGV4ZWMoKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgd2Ugd2FudCB0byBiZSBzYWZlLlxuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgaWYgKGVkaXRMZW5ndGggPiBtYXhFZGl0TGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWV4ZWNFZGl0TGVuZ3RoKCkpIHtcbiAgICAgICAgICAgICAgZXhlYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKGVkaXRMZW5ndGggPD0gbWF4RWRpdExlbmd0aCkge1xuICAgICAgICAgIHZhciByZXQgPSBleGVjRWRpdExlbmd0aCgpO1xuXG4gICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHB1c2hDb21wb25lbnQ6IGZ1bmN0aW9uIHB1c2hDb21wb25lbnQoY29tcG9uZW50cywgYWRkZWQsIHJlbW92ZWQpIHtcbiAgICAgIHZhciBsYXN0ID0gY29tcG9uZW50c1tjb21wb25lbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAobGFzdCAmJiBsYXN0LmFkZGVkID09PSBhZGRlZCAmJiBsYXN0LnJlbW92ZWQgPT09IHJlbW92ZWQpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjbG9uZSBoZXJlIGFzIHRoZSBjb21wb25lbnQgY2xvbmUgb3BlcmF0aW9uIGlzIGp1c3RcbiAgICAgICAgLy8gYXMgc2hhbGxvdyBhcnJheSBjbG9uZVxuICAgICAgICBjb21wb25lbnRzW2NvbXBvbmVudHMubGVuZ3RoIC0gMV0gPSB7XG4gICAgICAgICAgY291bnQ6IGxhc3QuY291bnQgKyAxLFxuICAgICAgICAgIGFkZGVkOiBhZGRlZCxcbiAgICAgICAgICByZW1vdmVkOiByZW1vdmVkXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wb25lbnRzLnB1c2goe1xuICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgIGFkZGVkOiBhZGRlZCxcbiAgICAgICAgICByZW1vdmVkOiByZW1vdmVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZXh0cmFjdENvbW1vbjogZnVuY3Rpb24gZXh0cmFjdENvbW1vbihiYXNlUGF0aCwgbmV3U3RyaW5nLCBvbGRTdHJpbmcsIGRpYWdvbmFsUGF0aCkge1xuICAgICAgdmFyIG5ld0xlbiA9IG5ld1N0cmluZy5sZW5ndGgsXG4gICAgICAgICAgb2xkTGVuID0gb2xkU3RyaW5nLmxlbmd0aCxcbiAgICAgICAgICBuZXdQb3MgPSBiYXNlUGF0aC5uZXdQb3MsXG4gICAgICAgICAgb2xkUG9zID0gbmV3UG9zIC0gZGlhZ29uYWxQYXRoLFxuICAgICAgICAgIGNvbW1vbkNvdW50ID0gMDtcblxuICAgICAgd2hpbGUgKG5ld1BvcyArIDEgPCBuZXdMZW4gJiYgb2xkUG9zICsgMSA8IG9sZExlbiAmJiB0aGlzLmVxdWFscyhuZXdTdHJpbmdbbmV3UG9zICsgMV0sIG9sZFN0cmluZ1tvbGRQb3MgKyAxXSkpIHtcbiAgICAgICAgbmV3UG9zKys7XG4gICAgICAgIG9sZFBvcysrO1xuICAgICAgICBjb21tb25Db3VudCsrO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tbW9uQ291bnQpIHtcbiAgICAgICAgYmFzZVBhdGguY29tcG9uZW50cy5wdXNoKHtcbiAgICAgICAgICBjb3VudDogY29tbW9uQ291bnRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGJhc2VQYXRoLm5ld1BvcyA9IG5ld1BvcztcbiAgICAgIHJldHVybiBvbGRQb3M7XG4gICAgfSxcbiAgICBlcXVhbHM6IGZ1bmN0aW9uIGVxdWFscyhsZWZ0LCByaWdodCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY29tcGFyYXRvcihsZWZ0LCByaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbGVmdCA9PT0gcmlnaHQgfHwgdGhpcy5vcHRpb25zLmlnbm9yZUNhc2UgJiYgbGVmdC50b0xvd2VyQ2FzZSgpID09PSByaWdodC50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlRW1wdHk6IGZ1bmN0aW9uIHJlbW92ZUVtcHR5KGFycmF5KSB7XG4gICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycmF5W2ldKSB7XG4gICAgICAgICAgcmV0LnB1c2goYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcbiAgICBjYXN0SW5wdXQ6IGZ1bmN0aW9uIGNhc3RJbnB1dCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgdG9rZW5pemU6IGZ1bmN0aW9uIHRva2VuaXplKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUuc3BsaXQoJycpO1xuICAgIH0sXG4gICAgam9pbjogZnVuY3Rpb24gam9pbihjaGFycykge1xuICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBidWlsZFZhbHVlcyhkaWZmLCBjb21wb25lbnRzLCBuZXdTdHJpbmcsIG9sZFN0cmluZywgdXNlTG9uZ2VzdFRva2VuKSB7XG4gICAgdmFyIGNvbXBvbmVudFBvcyA9IDAsXG4gICAgICAgIGNvbXBvbmVudExlbiA9IGNvbXBvbmVudHMubGVuZ3RoLFxuICAgICAgICBuZXdQb3MgPSAwLFxuICAgICAgICBvbGRQb3MgPSAwO1xuXG4gICAgZm9yICg7IGNvbXBvbmVudFBvcyA8IGNvbXBvbmVudExlbjsgY29tcG9uZW50UG9zKyspIHtcbiAgICAgIHZhciBjb21wb25lbnQgPSBjb21wb25lbnRzW2NvbXBvbmVudFBvc107XG5cbiAgICAgIGlmICghY29tcG9uZW50LnJlbW92ZWQpIHtcbiAgICAgICAgaWYgKCFjb21wb25lbnQuYWRkZWQgJiYgdXNlTG9uZ2VzdFRva2VuKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbmV3U3RyaW5nLnNsaWNlKG5ld1BvcywgbmV3UG9zICsgY29tcG9uZW50LmNvdW50KTtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcChmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IG9sZFN0cmluZ1tvbGRQb3MgKyBpXTtcbiAgICAgICAgICAgIHJldHVybiBvbGRWYWx1ZS5sZW5ndGggPiB2YWx1ZS5sZW5ndGggPyBvbGRWYWx1ZSA6IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbXBvbmVudC52YWx1ZSA9IGRpZmYuam9pbih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcG9uZW50LnZhbHVlID0gZGlmZi5qb2luKG5ld1N0cmluZy5zbGljZShuZXdQb3MsIG5ld1BvcyArIGNvbXBvbmVudC5jb3VudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3UG9zICs9IGNvbXBvbmVudC5jb3VudDsgLy8gQ29tbW9uIGNhc2VcblxuICAgICAgICBpZiAoIWNvbXBvbmVudC5hZGRlZCkge1xuICAgICAgICAgIG9sZFBvcyArPSBjb21wb25lbnQuY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBvbmVudC52YWx1ZSA9IGRpZmYuam9pbihvbGRTdHJpbmcuc2xpY2Uob2xkUG9zLCBvbGRQb3MgKyBjb21wb25lbnQuY291bnQpKTtcbiAgICAgICAgb2xkUG9zICs9IGNvbXBvbmVudC5jb3VudDsgLy8gUmV2ZXJzZSBhZGQgYW5kIHJlbW92ZSBzbyByZW1vdmVzIGFyZSBvdXRwdXQgZmlyc3QgdG8gbWF0Y2ggY29tbW9uIGNvbnZlbnRpb25cbiAgICAgICAgLy8gVGhlIGRpZmZpbmcgYWxnb3JpdGhtIGlzIHRpZWQgdG8gYWRkIHRoZW4gcmVtb3ZlIG91dHB1dCBhbmQgdGhpcyBpcyB0aGUgc2ltcGxlc3RcbiAgICAgICAgLy8gcm91dGUgdG8gZ2V0IHRoZSBkZXNpcmVkIG91dHB1dCB3aXRoIG1pbmltYWwgb3ZlcmhlYWQuXG5cbiAgICAgICAgaWYgKGNvbXBvbmVudFBvcyAmJiBjb21wb25lbnRzW2NvbXBvbmVudFBvcyAtIDFdLmFkZGVkKSB7XG4gICAgICAgICAgdmFyIHRtcCA9IGNvbXBvbmVudHNbY29tcG9uZW50UG9zIC0gMV07XG4gICAgICAgICAgY29tcG9uZW50c1tjb21wb25lbnRQb3MgLSAxXSA9IGNvbXBvbmVudHNbY29tcG9uZW50UG9zXTtcbiAgICAgICAgICBjb21wb25lbnRzW2NvbXBvbmVudFBvc10gPSB0bXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFNwZWNpYWwgY2FzZSBoYW5kbGUgZm9yIHdoZW4gb25lIHRlcm1pbmFsIGlzIGlnbm9yZWQgKGkuZS4gd2hpdGVzcGFjZSkuXG4gICAgLy8gRm9yIHRoaXMgY2FzZSB3ZSBtZXJnZSB0aGUgdGVybWluYWwgaW50byB0aGUgcHJpb3Igc3RyaW5nIGFuZCBkcm9wIHRoZSBjaGFuZ2UuXG4gICAgLy8gVGhpcyBpcyBvbmx5IGF2YWlsYWJsZSBmb3Igc3RyaW5nIG1vZGUuXG5cblxuICAgIHZhciBsYXN0Q29tcG9uZW50ID0gY29tcG9uZW50c1tjb21wb25lbnRMZW4gLSAxXTtcblxuICAgIGlmIChjb21wb25lbnRMZW4gPiAxICYmIHR5cGVvZiBsYXN0Q29tcG9uZW50LnZhbHVlID09PSAnc3RyaW5nJyAmJiAobGFzdENvbXBvbmVudC5hZGRlZCB8fCBsYXN0Q29tcG9uZW50LnJlbW92ZWQpICYmIGRpZmYuZXF1YWxzKCcnLCBsYXN0Q29tcG9uZW50LnZhbHVlKSkge1xuICAgICAgY29tcG9uZW50c1tjb21wb25lbnRMZW4gLSAyXS52YWx1ZSArPSBsYXN0Q29tcG9uZW50LnZhbHVlO1xuICAgICAgY29tcG9uZW50cy5wb3AoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9uZW50cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb25lUGF0aChwYXRoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5ld1BvczogcGF0aC5uZXdQb3MsXG4gICAgICBjb21wb25lbnRzOiBwYXRoLmNvbXBvbmVudHMuc2xpY2UoMClcbiAgICB9O1xuICB9XG5cbiAgdmFyIGNoYXJhY3RlckRpZmYgPSBuZXcgRGlmZigpO1xuICBmdW5jdGlvbiBkaWZmQ2hhcnMob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY2hhcmFjdGVyRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBvcHRpb25zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0cykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZGVmYXVsdHMuY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucykge1xuICAgICAgZm9yICh2YXIgbmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgZGVmYXVsdHNbbmFtZV0gPSBvcHRpb25zW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRzO1xuICB9XG5cbiAgLy9cbiAgLy8gUmFuZ2VzIGFuZCBleGNlcHRpb25zOlxuICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQsIDAwODDigJMwMEZGXG4gIC8vICAtIFUrMDBENyAgw5cgTXVsdGlwbGljYXRpb24gc2lnblxuICAvLyAgLSBVKzAwRjcgIMO3IERpdmlzaW9uIHNpZ25cbiAgLy8gTGF0aW4gRXh0ZW5kZWQtQSwgMDEwMOKAkzAxN0ZcbiAgLy8gTGF0aW4gRXh0ZW5kZWQtQiwgMDE4MOKAkzAyNEZcbiAgLy8gSVBBIEV4dGVuc2lvbnMsIDAyNTDigJMwMkFGXG4gIC8vIFNwYWNpbmcgTW9kaWZpZXIgTGV0dGVycywgMDJCMOKAkzAyRkZcbiAgLy8gIC0gVSswMkM3ICDLhyAmIzcxMTsgIENhcm9uXG4gIC8vICAtIFUrMDJEOCAgy5ggJiM3Mjg7ICBCcmV2ZVxuICAvLyAgLSBVKzAyRDkgIMuZICYjNzI5OyAgRG90IEFib3ZlXG4gIC8vICAtIFUrMDJEQSAgy5ogJiM3MzA7ICBSaW5nIEFib3ZlXG4gIC8vICAtIFUrMDJEQiAgy5sgJiM3MzE7ICBPZ29uZWtcbiAgLy8gIC0gVSswMkRDICDLnCAmIzczMjsgIFNtYWxsIFRpbGRlXG4gIC8vICAtIFUrMDJERCAgy50gJiM3MzM7ICBEb3VibGUgQWN1dGUgQWNjZW50XG4gIC8vIExhdGluIEV4dGVuZGVkIEFkZGl0aW9uYWwsIDFFMDDigJMxRUZGXG5cbiAgdmFyIGV4dGVuZGVkV29yZENoYXJzID0gL15bQS1aYS16XFx4QzAtXFx1MDJDNlxcdTAyQzgtXFx1MDJEN1xcdTAyREUtXFx1MDJGRlxcdTFFMDAtXFx1MUVGRl0rJC87XG4gIHZhciByZVdoaXRlc3BhY2UgPSAvXFxTLztcbiAgdmFyIHdvcmREaWZmID0gbmV3IERpZmYoKTtcblxuICB3b3JkRGlmZi5lcXVhbHMgPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmlnbm9yZUNhc2UpIHtcbiAgICAgIGxlZnQgPSBsZWZ0LnRvTG93ZXJDYXNlKCk7XG4gICAgICByaWdodCA9IHJpZ2h0LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0IHx8IHRoaXMub3B0aW9ucy5pZ25vcmVXaGl0ZXNwYWNlICYmICFyZVdoaXRlc3BhY2UudGVzdChsZWZ0KSAmJiAhcmVXaGl0ZXNwYWNlLnRlc3QocmlnaHQpO1xuICB9O1xuXG4gIHdvcmREaWZmLnRva2VuaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gQWxsIHdoaXRlc3BhY2Ugc3ltYm9scyBleGNlcHQgbmV3bGluZSBncm91cCBpbnRvIG9uZSB0b2tlbiwgZWFjaCBuZXdsaW5lIC0gaW4gc2VwYXJhdGUgdG9rZW5cbiAgICB2YXIgdG9rZW5zID0gdmFsdWUuc3BsaXQoLyhbXlxcU1xcclxcbl0rfFsoKVtcXF17fSdcIlxcclxcbl18XFxiKS8pOyAvLyBKb2luIHRoZSBib3VuZGFyeSBzcGxpdHMgdGhhdCB3ZSBkbyBub3QgY29uc2lkZXIgdG8gYmUgYm91bmRhcmllcy4gVGhpcyBpcyBwcmltYXJpbHkgdGhlIGV4dGVuZGVkIExhdGluIGNoYXJhY3RlciBzZXQuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYW4gZW1wdHkgc3RyaW5nIGluIHRoZSBuZXh0IGZpZWxkIGFuZCB3ZSBoYXZlIG9ubHkgd29yZCBjaGFycyBiZWZvcmUgYW5kIGFmdGVyLCBtZXJnZVxuICAgICAgaWYgKCF0b2tlbnNbaSArIDFdICYmIHRva2Vuc1tpICsgMl0gJiYgZXh0ZW5kZWRXb3JkQ2hhcnMudGVzdCh0b2tlbnNbaV0pICYmIGV4dGVuZGVkV29yZENoYXJzLnRlc3QodG9rZW5zW2kgKyAyXSkpIHtcbiAgICAgICAgdG9rZW5zW2ldICs9IHRva2Vuc1tpICsgMl07XG4gICAgICAgIHRva2Vucy5zcGxpY2UoaSArIDEsIDIpO1xuICAgICAgICBpLS07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VucztcbiAgfTtcblxuICBmdW5jdGlvbiBkaWZmV29yZHMob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKG9wdGlvbnMsIHtcbiAgICAgIGlnbm9yZVdoaXRlc3BhY2U6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gd29yZERpZmYuZGlmZihvbGRTdHIsIG5ld1N0ciwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gZGlmZldvcmRzV2l0aFNwYWNlKG9sZFN0ciwgbmV3U3RyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHdvcmREaWZmLmRpZmYob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIGxpbmVEaWZmID0gbmV3IERpZmYoKTtcblxuICBsaW5lRGlmZi50b2tlbml6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciByZXRMaW5lcyA9IFtdLFxuICAgICAgICBsaW5lc0FuZE5ld2xpbmVzID0gdmFsdWUuc3BsaXQoLyhcXG58XFxyXFxuKS8pOyAvLyBJZ25vcmUgdGhlIGZpbmFsIGVtcHR5IHRva2VuIHRoYXQgb2NjdXJzIGlmIHRoZSBzdHJpbmcgZW5kcyB3aXRoIGEgbmV3IGxpbmVcblxuICAgIGlmICghbGluZXNBbmROZXdsaW5lc1tsaW5lc0FuZE5ld2xpbmVzLmxlbmd0aCAtIDFdKSB7XG4gICAgICBsaW5lc0FuZE5ld2xpbmVzLnBvcCgpO1xuICAgIH0gLy8gTWVyZ2UgdGhlIGNvbnRlbnQgYW5kIGxpbmUgc2VwYXJhdG9ycyBpbnRvIHNpbmdsZSB0b2tlbnNcblxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lc0FuZE5ld2xpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZSA9IGxpbmVzQW5kTmV3bGluZXNbaV07XG5cbiAgICAgIGlmIChpICUgMiAmJiAhdGhpcy5vcHRpb25zLm5ld2xpbmVJc1Rva2VuKSB7XG4gICAgICAgIHJldExpbmVzW3JldExpbmVzLmxlbmd0aCAtIDFdICs9IGxpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlnbm9yZVdoaXRlc3BhY2UpIHtcbiAgICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXRMaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXRMaW5lcztcbiAgfTtcblxuICBmdW5jdGlvbiBkaWZmTGluZXMob2xkU3RyLCBuZXdTdHIsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGxpbmVEaWZmLmRpZmYob2xkU3RyLCBuZXdTdHIsIGNhbGxiYWNrKTtcbiAgfVxuICBmdW5jdGlvbiBkaWZmVHJpbW1lZExpbmVzKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjaykge1xuICAgIHZhciBvcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKGNhbGxiYWNrLCB7XG4gICAgICBpZ25vcmVXaGl0ZXNwYWNlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGxpbmVEaWZmLmRpZmYob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIHNlbnRlbmNlRGlmZiA9IG5ldyBEaWZmKCk7XG5cbiAgc2VudGVuY2VEaWZmLnRva2VuaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNwbGl0KC8oXFxTLis/Wy4hP10pKD89XFxzK3wkKS8pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRpZmZTZW50ZW5jZXMob2xkU3RyLCBuZXdTdHIsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHNlbnRlbmNlRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjayk7XG4gIH1cblxuICB2YXIgY3NzRGlmZiA9IG5ldyBEaWZmKCk7XG5cbiAgY3NzRGlmZi50b2tlbml6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5zcGxpdCgvKFt7fTo7LF18XFxzKykvKTtcbiAgfTtcblxuICBmdW5jdGlvbiBkaWZmQ3NzKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBjc3NEaWZmLmRpZmYob2xkU3RyLCBuZXdTdHIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3R5cGVvZihvYmopO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICAgIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIHZhciBvYmplY3RQcm90b3R5cGVUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIHZhciBqc29uRGlmZiA9IG5ldyBEaWZmKCk7IC8vIERpc2NyaW1pbmF0ZSBiZXR3ZWVuIHR3byBsaW5lcyBvZiBwcmV0dHktcHJpbnRlZCwgc2VyaWFsaXplZCBKU09OIHdoZXJlIG9uZSBvZiB0aGVtIGhhcyBhXG4gIC8vIGRhbmdsaW5nIGNvbW1hIGFuZCB0aGUgb3RoZXIgZG9lc24ndC4gVHVybnMgb3V0IGluY2x1ZGluZyB0aGUgZGFuZ2xpbmcgY29tbWEgeWllbGRzIHRoZSBuaWNlc3Qgb3V0cHV0OlxuXG4gIGpzb25EaWZmLnVzZUxvbmdlc3RUb2tlbiA9IHRydWU7XG4gIGpzb25EaWZmLnRva2VuaXplID0gbGluZURpZmYudG9rZW5pemU7XG5cbiAganNvbkRpZmYuY2FzdElucHV0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHVuZGVmaW5lZFJlcGxhY2VtZW50ID0gX3RoaXMkb3B0aW9ucy51bmRlZmluZWRSZXBsYWNlbWVudCxcbiAgICAgICAgX3RoaXMkb3B0aW9ucyRzdHJpbmdpID0gX3RoaXMkb3B0aW9ucy5zdHJpbmdpZnlSZXBsYWNlcixcbiAgICAgICAgc3RyaW5naWZ5UmVwbGFjZXIgPSBfdGhpcyRvcHRpb25zJHN0cmluZ2kgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkUmVwbGFjZW1lbnQgOiB2O1xuICAgIH0gOiBfdGhpcyRvcHRpb25zJHN0cmluZ2k7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KGNhbm9uaWNhbGl6ZSh2YWx1ZSwgbnVsbCwgbnVsbCwgc3RyaW5naWZ5UmVwbGFjZXIpLCBzdHJpbmdpZnlSZXBsYWNlciwgJyAgJyk7XG4gIH07XG5cbiAganNvbkRpZmYuZXF1YWxzID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIERpZmYucHJvdG90eXBlLmVxdWFscy5jYWxsKGpzb25EaWZmLCBsZWZ0LnJlcGxhY2UoLywoW1xcclxcbl0pL2csICckMScpLCByaWdodC5yZXBsYWNlKC8sKFtcXHJcXG5dKS9nLCAnJDEnKSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGlmZkpzb24ob2xkT2JqLCBuZXdPYmosIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ganNvbkRpZmYuZGlmZihvbGRPYmosIG5ld09iaiwgb3B0aW9ucyk7XG4gIH0gLy8gVGhpcyBmdW5jdGlvbiBoYW5kbGVzIHRoZSBwcmVzZW5jZSBvZiBjaXJjdWxhciByZWZlcmVuY2VzIGJ5IGJhaWxpbmcgb3V0IHdoZW4gZW5jb3VudGVyaW5nIGFuXG4gIC8vIG9iamVjdCB0aGF0IGlzIGFscmVhZHkgb24gdGhlIFwic3RhY2tcIiBvZiBpdGVtcyBiZWluZyBwcm9jZXNzZWQuIEFjY2VwdHMgYW4gb3B0aW9uYWwgcmVwbGFjZXJcblxuICBmdW5jdGlvbiBjYW5vbmljYWxpemUob2JqLCBzdGFjaywgcmVwbGFjZW1lbnRTdGFjaywgcmVwbGFjZXIsIGtleSkge1xuICAgIHN0YWNrID0gc3RhY2sgfHwgW107XG4gICAgcmVwbGFjZW1lbnRTdGFjayA9IHJlcGxhY2VtZW50U3RhY2sgfHwgW107XG5cbiAgICBpZiAocmVwbGFjZXIpIHtcbiAgICAgIG9iaiA9IHJlcGxhY2VyKGtleSwgb2JqKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHN0YWNrW2ldID09PSBvYmopIHtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50U3RhY2tbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNhbm9uaWNhbGl6ZWRPYmo7XG5cbiAgICBpZiAoJ1tvYmplY3QgQXJyYXldJyA9PT0gb2JqZWN0UHJvdG90eXBlVG9TdHJpbmcuY2FsbChvYmopKSB7XG4gICAgICBzdGFjay5wdXNoKG9iaik7XG4gICAgICBjYW5vbmljYWxpemVkT2JqID0gbmV3IEFycmF5KG9iai5sZW5ndGgpO1xuICAgICAgcmVwbGFjZW1lbnRTdGFjay5wdXNoKGNhbm9uaWNhbGl6ZWRPYmopO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNhbm9uaWNhbGl6ZWRPYmpbaV0gPSBjYW5vbmljYWxpemUob2JqW2ldLCBzdGFjaywgcmVwbGFjZW1lbnRTdGFjaywgcmVwbGFjZXIsIGtleSk7XG4gICAgICB9XG5cbiAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgcmVwbGFjZW1lbnRTdGFjay5wb3AoKTtcbiAgICAgIHJldHVybiBjYW5vbmljYWxpemVkT2JqO1xuICAgIH1cblxuICAgIGlmIChvYmogJiYgb2JqLnRvSlNPTikge1xuICAgICAgb2JqID0gb2JqLnRvSlNPTigpO1xuICAgIH1cblxuICAgIGlmIChfdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkge1xuICAgICAgc3RhY2sucHVzaChvYmopO1xuICAgICAgY2Fub25pY2FsaXplZE9iaiA9IHt9O1xuICAgICAgcmVwbGFjZW1lbnRTdGFjay5wdXNoKGNhbm9uaWNhbGl6ZWRPYmopO1xuXG4gICAgICB2YXIgc29ydGVkS2V5cyA9IFtdLFxuICAgICAgICAgIF9rZXk7XG5cbiAgICAgIGZvciAoX2tleSBpbiBvYmopIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShfa2V5KSkge1xuICAgICAgICAgIHNvcnRlZEtleXMucHVzaChfa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzb3J0ZWRLZXlzLnNvcnQoKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHNvcnRlZEtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgX2tleSA9IHNvcnRlZEtleXNbaV07XG4gICAgICAgIGNhbm9uaWNhbGl6ZWRPYmpbX2tleV0gPSBjYW5vbmljYWxpemUob2JqW19rZXldLCBzdGFjaywgcmVwbGFjZW1lbnRTdGFjaywgcmVwbGFjZXIsIF9rZXkpO1xuICAgICAgfVxuXG4gICAgICBzdGFjay5wb3AoKTtcbiAgICAgIHJlcGxhY2VtZW50U3RhY2sucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbm9uaWNhbGl6ZWRPYmogPSBvYmo7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbm9uaWNhbGl6ZWRPYmo7XG4gIH1cblxuICB2YXIgYXJyYXlEaWZmID0gbmV3IERpZmYoKTtcblxuICBhcnJheURpZmYudG9rZW5pemUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUuc2xpY2UoKTtcbiAgfTtcblxuICBhcnJheURpZmYuam9pbiA9IGFycmF5RGlmZi5yZW1vdmVFbXB0eSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBmdW5jdGlvbiBkaWZmQXJyYXlzKG9sZEFyciwgbmV3QXJyLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBhcnJheURpZmYuZGlmZihvbGRBcnIsIG5ld0FyciwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VQYXRjaCh1bmlEaWZmKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBkaWZmc3RyID0gdW5pRGlmZi5zcGxpdCgvXFxyXFxufFtcXG5cXHZcXGZcXHJcXHg4NV0vKSxcbiAgICAgICAgZGVsaW1pdGVycyA9IHVuaURpZmYubWF0Y2goL1xcclxcbnxbXFxuXFx2XFxmXFxyXFx4ODVdL2cpIHx8IFtdLFxuICAgICAgICBsaXN0ID0gW10sXG4gICAgICAgIGkgPSAwO1xuXG4gICAgZnVuY3Rpb24gcGFyc2VJbmRleCgpIHtcbiAgICAgIHZhciBpbmRleCA9IHt9O1xuICAgICAgbGlzdC5wdXNoKGluZGV4KTsgLy8gUGFyc2UgZGlmZiBtZXRhZGF0YVxuXG4gICAgICB3aGlsZSAoaSA8IGRpZmZzdHIubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsaW5lID0gZGlmZnN0cltpXTsgLy8gRmlsZSBoZWFkZXIgZm91bmQsIGVuZCBwYXJzaW5nIGRpZmYgbWV0YWRhdGFcblxuICAgICAgICBpZiAoL14oXFwtXFwtXFwtfFxcK1xcK1xcK3xAQClcXHMvLnRlc3QobGluZSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSAvLyBEaWZmIGluZGV4XG5cblxuICAgICAgICB2YXIgaGVhZGVyID0gL14oPzpJbmRleDp8ZGlmZig/OiAtciBcXHcrKSspXFxzKyguKz8pXFxzKiQvLmV4ZWMobGluZSk7XG5cbiAgICAgICAgaWYgKGhlYWRlcikge1xuICAgICAgICAgIGluZGV4LmluZGV4ID0gaGVhZGVyWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaSsrO1xuICAgICAgfSAvLyBQYXJzZSBmaWxlIGhlYWRlcnMgaWYgdGhleSBhcmUgZGVmaW5lZC4gVW5pZmllZCBkaWZmIHJlcXVpcmVzIHRoZW0sIGJ1dFxuICAgICAgLy8gdGhlcmUncyBubyB0ZWNobmljYWwgaXNzdWVzIHRvIGhhdmUgYW4gaXNvbGF0ZWQgaHVuayB3aXRob3V0IGZpbGUgaGVhZGVyXG5cblxuICAgICAgcGFyc2VGaWxlSGVhZGVyKGluZGV4KTtcbiAgICAgIHBhcnNlRmlsZUhlYWRlcihpbmRleCk7IC8vIFBhcnNlIGh1bmtzXG5cbiAgICAgIGluZGV4Lmh1bmtzID0gW107XG5cbiAgICAgIHdoaWxlIChpIDwgZGlmZnN0ci5sZW5ndGgpIHtcbiAgICAgICAgdmFyIF9saW5lID0gZGlmZnN0cltpXTtcblxuICAgICAgICBpZiAoL14oSW5kZXg6fGRpZmZ8XFwtXFwtXFwtfFxcK1xcK1xcKylcXHMvLnRlc3QoX2xpbmUpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoL15AQC8udGVzdChfbGluZSkpIHtcbiAgICAgICAgICBpbmRleC5odW5rcy5wdXNoKHBhcnNlSHVuaygpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfbGluZSAmJiBvcHRpb25zLnN0cmljdCkge1xuICAgICAgICAgIC8vIElnbm9yZSB1bmV4cGVjdGVkIGNvbnRlbnQgdW5sZXNzIGluIHN0cmljdCBtb2RlXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGxpbmUgJyArIChpICsgMSkgKyAnICcgKyBKU09OLnN0cmluZ2lmeShfbGluZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gUGFyc2VzIHRoZSAtLS0gYW5kICsrKyBoZWFkZXJzLCBpZiBub25lIGFyZSBmb3VuZCwgbm8gbGluZXNcbiAgICAvLyBhcmUgY29uc3VtZWQuXG5cblxuICAgIGZ1bmN0aW9uIHBhcnNlRmlsZUhlYWRlcihpbmRleCkge1xuICAgICAgdmFyIGZpbGVIZWFkZXIgPSAvXigtLS18XFwrXFwrXFwrKVxccysoLiopJC8uZXhlYyhkaWZmc3RyW2ldKTtcblxuICAgICAgaWYgKGZpbGVIZWFkZXIpIHtcbiAgICAgICAgdmFyIGtleVByZWZpeCA9IGZpbGVIZWFkZXJbMV0gPT09ICctLS0nID8gJ29sZCcgOiAnbmV3JztcbiAgICAgICAgdmFyIGRhdGEgPSBmaWxlSGVhZGVyWzJdLnNwbGl0KCdcXHQnLCAyKTtcbiAgICAgICAgdmFyIGZpbGVOYW1lID0gZGF0YVswXS5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnXFxcXCcpO1xuXG4gICAgICAgIGlmICgvXlwiLipcIiQvLnRlc3QoZmlsZU5hbWUpKSB7XG4gICAgICAgICAgZmlsZU5hbWUgPSBmaWxlTmFtZS5zdWJzdHIoMSwgZmlsZU5hbWUubGVuZ3RoIC0gMik7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleFtrZXlQcmVmaXggKyAnRmlsZU5hbWUnXSA9IGZpbGVOYW1lO1xuICAgICAgICBpbmRleFtrZXlQcmVmaXggKyAnSGVhZGVyJ10gPSAoZGF0YVsxXSB8fCAnJykudHJpbSgpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSAvLyBQYXJzZXMgYSBodW5rXG4gICAgLy8gVGhpcyBhc3N1bWVzIHRoYXQgd2UgYXJlIGF0IHRoZSBzdGFydCBvZiBhIGh1bmsuXG5cblxuICAgIGZ1bmN0aW9uIHBhcnNlSHVuaygpIHtcbiAgICAgIHZhciBjaHVua0hlYWRlckluZGV4ID0gaSxcbiAgICAgICAgICBjaHVua0hlYWRlckxpbmUgPSBkaWZmc3RyW2krK10sXG4gICAgICAgICAgY2h1bmtIZWFkZXIgPSBjaHVua0hlYWRlckxpbmUuc3BsaXQoL0BAIC0oXFxkKykoPzosKFxcZCspKT8gXFwrKFxcZCspKD86LChcXGQrKSk/IEBALyk7XG4gICAgICB2YXIgaHVuayA9IHtcbiAgICAgICAgb2xkU3RhcnQ6ICtjaHVua0hlYWRlclsxXSxcbiAgICAgICAgb2xkTGluZXM6IHR5cGVvZiBjaHVua0hlYWRlclsyXSA9PT0gJ3VuZGVmaW5lZCcgPyAxIDogK2NodW5rSGVhZGVyWzJdLFxuICAgICAgICBuZXdTdGFydDogK2NodW5rSGVhZGVyWzNdLFxuICAgICAgICBuZXdMaW5lczogdHlwZW9mIGNodW5rSGVhZGVyWzRdID09PSAndW5kZWZpbmVkJyA/IDEgOiArY2h1bmtIZWFkZXJbNF0sXG4gICAgICAgIGxpbmVzOiBbXSxcbiAgICAgICAgbGluZWRlbGltaXRlcnM6IFtdXG4gICAgICB9OyAvLyBVbmlmaWVkIERpZmYgRm9ybWF0IHF1aXJrOiBJZiB0aGUgY2h1bmsgc2l6ZSBpcyAwLFxuICAgICAgLy8gdGhlIGZpcnN0IG51bWJlciBpcyBvbmUgbG93ZXIgdGhhbiBvbmUgd291bGQgZXhwZWN0LlxuICAgICAgLy8gaHR0cHM6Ly93d3cuYXJ0aW1hLmNvbS93ZWJsb2dzL3ZpZXdwb3N0LmpzcD90aHJlYWQ9MTY0MjkzXG5cbiAgICAgIGlmIChodW5rLm9sZExpbmVzID09PSAwKSB7XG4gICAgICAgIGh1bmsub2xkU3RhcnQgKz0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKGh1bmsubmV3TGluZXMgPT09IDApIHtcbiAgICAgICAgaHVuay5uZXdTdGFydCArPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWRkQ291bnQgPSAwLFxuICAgICAgICAgIHJlbW92ZUNvdW50ID0gMDtcblxuICAgICAgZm9yICg7IGkgPCBkaWZmc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIExpbmVzIHN0YXJ0aW5nIHdpdGggJy0tLScgY291bGQgYmUgbWlzdGFrZW4gZm9yIHRoZSBcInJlbW92ZSBsaW5lXCIgb3BlcmF0aW9uXG4gICAgICAgIC8vIEJ1dCB0aGV5IGNvdWxkIGJlIHRoZSBoZWFkZXIgZm9yIHRoZSBuZXh0IGZpbGUuIFRoZXJlZm9yZSBwcnVuZSBzdWNoIGNhc2VzIG91dC5cbiAgICAgICAgaWYgKGRpZmZzdHJbaV0uaW5kZXhPZignLS0tICcpID09PSAwICYmIGkgKyAyIDwgZGlmZnN0ci5sZW5ndGggJiYgZGlmZnN0cltpICsgMV0uaW5kZXhPZignKysrICcpID09PSAwICYmIGRpZmZzdHJbaSArIDJdLmluZGV4T2YoJ0BAJykgPT09IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvcGVyYXRpb24gPSBkaWZmc3RyW2ldLmxlbmd0aCA9PSAwICYmIGkgIT0gZGlmZnN0ci5sZW5ndGggLSAxID8gJyAnIDogZGlmZnN0cltpXVswXTtcblxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnKycgfHwgb3BlcmF0aW9uID09PSAnLScgfHwgb3BlcmF0aW9uID09PSAnICcgfHwgb3BlcmF0aW9uID09PSAnXFxcXCcpIHtcbiAgICAgICAgICBodW5rLmxpbmVzLnB1c2goZGlmZnN0cltpXSk7XG4gICAgICAgICAgaHVuay5saW5lZGVsaW1pdGVycy5wdXNoKGRlbGltaXRlcnNbaV0gfHwgJ1xcbicpO1xuXG4gICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJysnKSB7XG4gICAgICAgICAgICBhZGRDb3VudCsrO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0aW9uID09PSAnLScpIHtcbiAgICAgICAgICAgIHJlbW92ZUNvdW50Kys7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24gPT09ICcgJykge1xuICAgICAgICAgICAgYWRkQ291bnQrKztcbiAgICAgICAgICAgIHJlbW92ZUNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IC8vIEhhbmRsZSB0aGUgZW1wdHkgYmxvY2sgY291bnQgY2FzZVxuXG5cbiAgICAgIGlmICghYWRkQ291bnQgJiYgaHVuay5uZXdMaW5lcyA9PT0gMSkge1xuICAgICAgICBodW5rLm5ld0xpbmVzID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyZW1vdmVDb3VudCAmJiBodW5rLm9sZExpbmVzID09PSAxKSB7XG4gICAgICAgIGh1bmsub2xkTGluZXMgPSAwO1xuICAgICAgfSAvLyBQZXJmb3JtIG9wdGlvbmFsIHNhbml0eSBjaGVja2luZ1xuXG5cbiAgICAgIGlmIChvcHRpb25zLnN0cmljdCkge1xuICAgICAgICBpZiAoYWRkQ291bnQgIT09IGh1bmsubmV3TGluZXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FkZGVkIGxpbmUgY291bnQgZGlkIG5vdCBtYXRjaCBmb3IgaHVuayBhdCBsaW5lICcgKyAoY2h1bmtIZWFkZXJJbmRleCArIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW1vdmVDb3VudCAhPT0gaHVuay5vbGRMaW5lcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVtb3ZlZCBsaW5lIGNvdW50IGRpZCBub3QgbWF0Y2ggZm9yIGh1bmsgYXQgbGluZSAnICsgKGNodW5rSGVhZGVySW5kZXggKyAxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGh1bms7XG4gICAgfVxuXG4gICAgd2hpbGUgKGkgPCBkaWZmc3RyLmxlbmd0aCkge1xuICAgICAgcGFyc2VJbmRleCgpO1xuICAgIH1cblxuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgLy8gSXRlcmF0b3IgdGhhdCB0cmF2ZXJzZXMgaW4gdGhlIHJhbmdlIG9mIFttaW4sIG1heF0sIHN0ZXBwaW5nXG4gIC8vIGJ5IGRpc3RhbmNlIGZyb20gYSBnaXZlbiBzdGFydCBwb3NpdGlvbi4gSS5lLiBmb3IgWzAsIDRdLCB3aXRoXG4gIC8vIHN0YXJ0IG9mIDIsIHRoaXMgd2lsbCBpdGVyYXRlIDIsIDMsIDEsIDQsIDAuXG4gIGZ1bmN0aW9uIGRpc3RhbmNlSXRlcmF0b3IgKHN0YXJ0LCBtaW5MaW5lLCBtYXhMaW5lKSB7XG4gICAgdmFyIHdhbnRGb3J3YXJkID0gdHJ1ZSxcbiAgICAgICAgYmFja3dhcmRFeGhhdXN0ZWQgPSBmYWxzZSxcbiAgICAgICAgZm9yd2FyZEV4aGF1c3RlZCA9IGZhbHNlLFxuICAgICAgICBsb2NhbE9mZnNldCA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGl0ZXJhdG9yKCkge1xuICAgICAgaWYgKHdhbnRGb3J3YXJkICYmICFmb3J3YXJkRXhoYXVzdGVkKSB7XG4gICAgICAgIGlmIChiYWNrd2FyZEV4aGF1c3RlZCkge1xuICAgICAgICAgIGxvY2FsT2Zmc2V0Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FudEZvcndhcmQgPSBmYWxzZTtcbiAgICAgICAgfSAvLyBDaGVjayBpZiB0cnlpbmcgdG8gZml0IGJleW9uZCB0ZXh0IGxlbmd0aCwgYW5kIGlmIG5vdCwgY2hlY2sgaXQgZml0c1xuICAgICAgICAvLyBhZnRlciBvZmZzZXQgbG9jYXRpb24gKG9yIGRlc2lyZWQgbG9jYXRpb24gb24gZmlyc3QgaXRlcmF0aW9uKVxuXG5cbiAgICAgICAgaWYgKHN0YXJ0ICsgbG9jYWxPZmZzZXQgPD0gbWF4TGluZSkge1xuICAgICAgICAgIHJldHVybiBsb2NhbE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcndhcmRFeGhhdXN0ZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWJhY2t3YXJkRXhoYXVzdGVkKSB7XG4gICAgICAgIGlmICghZm9yd2FyZEV4aGF1c3RlZCkge1xuICAgICAgICAgIHdhbnRGb3J3YXJkID0gdHJ1ZTtcbiAgICAgICAgfSAvLyBDaGVjayBpZiB0cnlpbmcgdG8gZml0IGJlZm9yZSB0ZXh0IGJlZ2lubmluZywgYW5kIGlmIG5vdCwgY2hlY2sgaXQgZml0c1xuICAgICAgICAvLyBiZWZvcmUgb2Zmc2V0IGxvY2F0aW9uXG5cblxuICAgICAgICBpZiAobWluTGluZSA8PSBzdGFydCAtIGxvY2FsT2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIC1sb2NhbE9mZnNldCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFja3dhcmRFeGhhdXN0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gaXRlcmF0b3IoKTtcbiAgICAgIH0gLy8gV2UgdHJpZWQgdG8gZml0IGh1bmsgYmVmb3JlIHRleHQgYmVnaW5uaW5nIGFuZCBiZXlvbmQgdGV4dCBsZW5ndGgsIHRoZW5cbiAgICAgIC8vIGh1bmsgY2FuJ3QgZml0IG9uIHRoZSB0ZXh0LiBSZXR1cm4gdW5kZWZpbmVkXG5cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlQYXRjaChzb3VyY2UsIHVuaURpZmYpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICBpZiAodHlwZW9mIHVuaURpZmYgPT09ICdzdHJpbmcnKSB7XG4gICAgICB1bmlEaWZmID0gcGFyc2VQYXRjaCh1bmlEaWZmKTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh1bmlEaWZmKSkge1xuICAgICAgaWYgKHVuaURpZmYubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FwcGx5UGF0Y2ggb25seSB3b3JrcyB3aXRoIGEgc2luZ2xlIGlucHV0LicpO1xuICAgICAgfVxuXG4gICAgICB1bmlEaWZmID0gdW5pRGlmZlswXTtcbiAgICB9IC8vIEFwcGx5IHRoZSBkaWZmIHRvIHRoZSBpbnB1dFxuXG5cbiAgICB2YXIgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xcclxcbnxbXFxuXFx2XFxmXFxyXFx4ODVdLyksXG4gICAgICAgIGRlbGltaXRlcnMgPSBzb3VyY2UubWF0Y2goL1xcclxcbnxbXFxuXFx2XFxmXFxyXFx4ODVdL2cpIHx8IFtdLFxuICAgICAgICBodW5rcyA9IHVuaURpZmYuaHVua3MsXG4gICAgICAgIGNvbXBhcmVMaW5lID0gb3B0aW9ucy5jb21wYXJlTGluZSB8fCBmdW5jdGlvbiAobGluZU51bWJlciwgbGluZSwgb3BlcmF0aW9uLCBwYXRjaENvbnRlbnQpIHtcbiAgICAgIHJldHVybiBsaW5lID09PSBwYXRjaENvbnRlbnQ7XG4gICAgfSxcbiAgICAgICAgZXJyb3JDb3VudCA9IDAsXG4gICAgICAgIGZ1enpGYWN0b3IgPSBvcHRpb25zLmZ1enpGYWN0b3IgfHwgMCxcbiAgICAgICAgbWluTGluZSA9IDAsXG4gICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgIHJlbW92ZUVPRk5MLFxuICAgICAgICBhZGRFT0ZOTDtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGh1bmsgZXhhY3RseSBmaXRzIG9uIHRoZSBwcm92aWRlZCBsb2NhdGlvblxuICAgICAqL1xuXG5cbiAgICBmdW5jdGlvbiBodW5rRml0cyhodW5rLCB0b1Bvcykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBodW5rLmxpbmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBsaW5lID0gaHVuay5saW5lc1tqXSxcbiAgICAgICAgICAgIG9wZXJhdGlvbiA9IGxpbmUubGVuZ3RoID4gMCA/IGxpbmVbMF0gOiAnICcsXG4gICAgICAgICAgICBjb250ZW50ID0gbGluZS5sZW5ndGggPiAwID8gbGluZS5zdWJzdHIoMSkgOiBsaW5lO1xuXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICcgJyB8fCBvcGVyYXRpb24gPT09ICctJykge1xuICAgICAgICAgIC8vIENvbnRleHQgc2FuaXR5IGNoZWNrXG4gICAgICAgICAgaWYgKCFjb21wYXJlTGluZSh0b1BvcyArIDEsIGxpbmVzW3RvUG9zXSwgb3BlcmF0aW9uLCBjb250ZW50KSkge1xuICAgICAgICAgICAgZXJyb3JDb3VudCsrO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3JDb3VudCA+IGZ1enpGYWN0b3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRvUG9zKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBTZWFyY2ggYmVzdCBmaXQgb2Zmc2V0cyBmb3IgZWFjaCBodW5rIGJhc2VkIG9uIHRoZSBwcmV2aW91cyBvbmVzXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBodW5rID0gaHVua3NbaV0sXG4gICAgICAgICAgbWF4TGluZSA9IGxpbmVzLmxlbmd0aCAtIGh1bmsub2xkTGluZXMsXG4gICAgICAgICAgbG9jYWxPZmZzZXQgPSAwLFxuICAgICAgICAgIHRvUG9zID0gb2Zmc2V0ICsgaHVuay5vbGRTdGFydCAtIDE7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBkaXN0YW5jZUl0ZXJhdG9yKHRvUG9zLCBtaW5MaW5lLCBtYXhMaW5lKTtcblxuICAgICAgZm9yICg7IGxvY2FsT2Zmc2V0ICE9PSB1bmRlZmluZWQ7IGxvY2FsT2Zmc2V0ID0gaXRlcmF0b3IoKSkge1xuICAgICAgICBpZiAoaHVua0ZpdHMoaHVuaywgdG9Qb3MgKyBsb2NhbE9mZnNldCkpIHtcbiAgICAgICAgICBodW5rLm9mZnNldCA9IG9mZnNldCArPSBsb2NhbE9mZnNldDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobG9jYWxPZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IC8vIFNldCBsb3dlciB0ZXh0IGxpbWl0IHRvIGVuZCBvZiB0aGUgY3VycmVudCBodW5rLCBzbyBuZXh0IG9uZXMgZG9uJ3QgdHJ5XG4gICAgICAvLyB0byBmaXQgb3ZlciBhbHJlYWR5IHBhdGNoZWQgdGV4dFxuXG5cbiAgICAgIG1pbkxpbmUgPSBodW5rLm9mZnNldCArIGh1bmsub2xkU3RhcnQgKyBodW5rLm9sZExpbmVzO1xuICAgIH0gLy8gQXBwbHkgcGF0Y2ggaHVua3NcblxuXG4gICAgdmFyIGRpZmZPZmZzZXQgPSAwO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGh1bmtzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9odW5rID0gaHVua3NbX2ldLFxuICAgICAgICAgIF90b1BvcyA9IF9odW5rLm9sZFN0YXJ0ICsgX2h1bmsub2Zmc2V0ICsgZGlmZk9mZnNldCAtIDE7XG5cbiAgICAgIGRpZmZPZmZzZXQgKz0gX2h1bmsubmV3TGluZXMgLSBfaHVuay5vbGRMaW5lcztcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfaHVuay5saW5lcy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgbGluZSA9IF9odW5rLmxpbmVzW2pdLFxuICAgICAgICAgICAgb3BlcmF0aW9uID0gbGluZS5sZW5ndGggPiAwID8gbGluZVswXSA6ICcgJyxcbiAgICAgICAgICAgIGNvbnRlbnQgPSBsaW5lLmxlbmd0aCA+IDAgPyBsaW5lLnN1YnN0cigxKSA6IGxpbmUsXG4gICAgICAgICAgICBkZWxpbWl0ZXIgPSBfaHVuay5saW5lZGVsaW1pdGVyc1tqXTtcblxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnICcpIHtcbiAgICAgICAgICBfdG9Qb3MrKztcbiAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24gPT09ICctJykge1xuICAgICAgICAgIGxpbmVzLnNwbGljZShfdG9Qb3MsIDEpO1xuICAgICAgICAgIGRlbGltaXRlcnMuc3BsaWNlKF90b1BvcywgMSk7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24gPT09ICcrJykge1xuICAgICAgICAgIGxpbmVzLnNwbGljZShfdG9Qb3MsIDAsIGNvbnRlbnQpO1xuICAgICAgICAgIGRlbGltaXRlcnMuc3BsaWNlKF90b1BvcywgMCwgZGVsaW1pdGVyKTtcbiAgICAgICAgICBfdG9Qb3MrKztcbiAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24gPT09ICdcXFxcJykge1xuICAgICAgICAgIHZhciBwcmV2aW91c09wZXJhdGlvbiA9IF9odW5rLmxpbmVzW2ogLSAxXSA/IF9odW5rLmxpbmVzW2ogLSAxXVswXSA6IG51bGw7XG5cbiAgICAgICAgICBpZiAocHJldmlvdXNPcGVyYXRpb24gPT09ICcrJykge1xuICAgICAgICAgICAgcmVtb3ZlRU9GTkwgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNPcGVyYXRpb24gPT09ICctJykge1xuICAgICAgICAgICAgYWRkRU9GTkwgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gSGFuZGxlIEVPRk5MIGluc2VydGlvbi9yZW1vdmFsXG5cblxuICAgIGlmIChyZW1vdmVFT0ZOTCkge1xuICAgICAgd2hpbGUgKCFsaW5lc1tsaW5lcy5sZW5ndGggLSAxXSkge1xuICAgICAgICBsaW5lcy5wb3AoKTtcbiAgICAgICAgZGVsaW1pdGVycy5wb3AoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFkZEVPRk5MKSB7XG4gICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgIGRlbGltaXRlcnMucHVzaCgnXFxuJyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IGxpbmVzLmxlbmd0aCAtIDE7IF9rKyspIHtcbiAgICAgIGxpbmVzW19rXSA9IGxpbmVzW19rXSArIGRlbGltaXRlcnNbX2tdO1xuICAgIH1cblxuICAgIHJldHVybiBsaW5lcy5qb2luKCcnKTtcbiAgfSAvLyBXcmFwcGVyIHRoYXQgc3VwcG9ydHMgbXVsdGlwbGUgZmlsZSBwYXRjaGVzIHZpYSBjYWxsYmFja3MuXG5cbiAgZnVuY3Rpb24gYXBwbHlQYXRjaGVzKHVuaURpZmYsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHVuaURpZmYgPT09ICdzdHJpbmcnKSB7XG4gICAgICB1bmlEaWZmID0gcGFyc2VQYXRjaCh1bmlEaWZmKTtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudEluZGV4ID0gMDtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NJbmRleCgpIHtcbiAgICAgIHZhciBpbmRleCA9IHVuaURpZmZbY3VycmVudEluZGV4KytdO1xuXG4gICAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMubG9hZEZpbGUoaW5kZXgsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvbXBsZXRlKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXBkYXRlZENvbnRlbnQgPSBhcHBseVBhdGNoKGRhdGEsIGluZGV4LCBvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5wYXRjaGVkKGluZGV4LCB1cGRhdGVkQ29udGVudCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvbXBsZXRlKGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJvY2Vzc0luZGV4KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJvY2Vzc0luZGV4KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJ1Y3R1cmVkUGF0Y2gob2xkRmlsZU5hbWUsIG5ld0ZpbGVOYW1lLCBvbGRTdHIsIG5ld1N0ciwgb2xkSGVhZGVyLCBuZXdIZWFkZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMuY29udGV4dCA9IDQ7XG4gICAgfVxuXG4gICAgdmFyIGRpZmYgPSBkaWZmTGluZXMob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpO1xuICAgIGRpZmYucHVzaCh7XG4gICAgICB2YWx1ZTogJycsXG4gICAgICBsaW5lczogW11cbiAgICB9KTsgLy8gQXBwZW5kIGFuIGVtcHR5IHZhbHVlIHRvIG1ha2UgY2xlYW51cCBlYXNpZXJcblxuICAgIGZ1bmN0aW9uIGNvbnRleHRMaW5lcyhsaW5lcykge1xuICAgICAgcmV0dXJuIGxpbmVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuICcgJyArIGVudHJ5O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGh1bmtzID0gW107XG4gICAgdmFyIG9sZFJhbmdlU3RhcnQgPSAwLFxuICAgICAgICBuZXdSYW5nZVN0YXJ0ID0gMCxcbiAgICAgICAgY3VyUmFuZ2UgPSBbXSxcbiAgICAgICAgb2xkTGluZSA9IDEsXG4gICAgICAgIG5ld0xpbmUgPSAxO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBkaWZmW2ldLFxuICAgICAgICAgIGxpbmVzID0gY3VycmVudC5saW5lcyB8fCBjdXJyZW50LnZhbHVlLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpO1xuICAgICAgY3VycmVudC5saW5lcyA9IGxpbmVzO1xuXG4gICAgICBpZiAoY3VycmVudC5hZGRlZCB8fCBjdXJyZW50LnJlbW92ZWQpIHtcbiAgICAgICAgdmFyIF9jdXJSYW5nZTtcblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIHByZXZpb3VzIGNvbnRleHQsIHN0YXJ0IHdpdGggdGhhdFxuICAgICAgICBpZiAoIW9sZFJhbmdlU3RhcnQpIHtcbiAgICAgICAgICB2YXIgcHJldiA9IGRpZmZbaSAtIDFdO1xuICAgICAgICAgIG9sZFJhbmdlU3RhcnQgPSBvbGRMaW5lO1xuICAgICAgICAgIG5ld1JhbmdlU3RhcnQgPSBuZXdMaW5lO1xuXG4gICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIGN1clJhbmdlID0gb3B0aW9ucy5jb250ZXh0ID4gMCA/IGNvbnRleHRMaW5lcyhwcmV2LmxpbmVzLnNsaWNlKC1vcHRpb25zLmNvbnRleHQpKSA6IFtdO1xuICAgICAgICAgICAgb2xkUmFuZ2VTdGFydCAtPSBjdXJSYW5nZS5sZW5ndGg7XG4gICAgICAgICAgICBuZXdSYW5nZVN0YXJ0IC09IGN1clJhbmdlLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gT3V0cHV0IG91ciBjaGFuZ2VzXG5cblxuICAgICAgICAoX2N1clJhbmdlID0gY3VyUmFuZ2UpLnB1c2guYXBwbHkoX2N1clJhbmdlLCBfdG9Db25zdW1hYmxlQXJyYXkobGluZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgIHJldHVybiAoY3VycmVudC5hZGRlZCA/ICcrJyA6ICctJykgKyBlbnRyeTtcbiAgICAgICAgfSkpKTsgLy8gVHJhY2sgdGhlIHVwZGF0ZWQgZmlsZSBwb3NpdGlvblxuXG5cbiAgICAgICAgaWYgKGN1cnJlbnQuYWRkZWQpIHtcbiAgICAgICAgICBuZXdMaW5lICs9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGRMaW5lICs9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWRlbnRpY2FsIGNvbnRleHQgbGluZXMuIFRyYWNrIGxpbmUgY2hhbmdlc1xuICAgICAgICBpZiAob2xkUmFuZ2VTdGFydCkge1xuICAgICAgICAgIC8vIENsb3NlIG91dCBhbnkgY2hhbmdlcyB0aGF0IGhhdmUgYmVlbiBvdXRwdXQgKG9yIGpvaW4gb3ZlcmxhcHBpbmcpXG4gICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8PSBvcHRpb25zLmNvbnRleHQgKiAyICYmIGkgPCBkaWZmLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgIHZhciBfY3VyUmFuZ2UyO1xuXG4gICAgICAgICAgICAvLyBPdmVybGFwcGluZ1xuICAgICAgICAgICAgKF9jdXJSYW5nZTIgPSBjdXJSYW5nZSkucHVzaC5hcHBseShfY3VyUmFuZ2UyLCBfdG9Db25zdW1hYmxlQXJyYXkoY29udGV4dExpbmVzKGxpbmVzKSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgX2N1clJhbmdlMztcblxuICAgICAgICAgICAgLy8gZW5kIHRoZSByYW5nZSBhbmQgb3V0cHV0XG4gICAgICAgICAgICB2YXIgY29udGV4dFNpemUgPSBNYXRoLm1pbihsaW5lcy5sZW5ndGgsIG9wdGlvbnMuY29udGV4dCk7XG5cbiAgICAgICAgICAgIChfY3VyUmFuZ2UzID0gY3VyUmFuZ2UpLnB1c2guYXBwbHkoX2N1clJhbmdlMywgX3RvQ29uc3VtYWJsZUFycmF5KGNvbnRleHRMaW5lcyhsaW5lcy5zbGljZSgwLCBjb250ZXh0U2l6ZSkpKSk7XG5cbiAgICAgICAgICAgIHZhciBodW5rID0ge1xuICAgICAgICAgICAgICBvbGRTdGFydDogb2xkUmFuZ2VTdGFydCxcbiAgICAgICAgICAgICAgb2xkTGluZXM6IG9sZExpbmUgLSBvbGRSYW5nZVN0YXJ0ICsgY29udGV4dFNpemUsXG4gICAgICAgICAgICAgIG5ld1N0YXJ0OiBuZXdSYW5nZVN0YXJ0LFxuICAgICAgICAgICAgICBuZXdMaW5lczogbmV3TGluZSAtIG5ld1JhbmdlU3RhcnQgKyBjb250ZXh0U2l6ZSxcbiAgICAgICAgICAgICAgbGluZXM6IGN1clJhbmdlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoaSA+PSBkaWZmLmxlbmd0aCAtIDIgJiYgbGluZXMubGVuZ3RoIDw9IG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgICAvLyBFT0YgaXMgaW5zaWRlIHRoaXMgaHVua1xuICAgICAgICAgICAgICB2YXIgb2xkRU9GTmV3bGluZSA9IC9cXG4kLy50ZXN0KG9sZFN0cik7XG4gICAgICAgICAgICAgIHZhciBuZXdFT0ZOZXdsaW5lID0gL1xcbiQvLnRlc3QobmV3U3RyKTtcbiAgICAgICAgICAgICAgdmFyIG5vTmxCZWZvcmVBZGRzID0gbGluZXMubGVuZ3RoID09IDAgJiYgY3VyUmFuZ2UubGVuZ3RoID4gaHVuay5vbGRMaW5lcztcblxuICAgICAgICAgICAgICBpZiAoIW9sZEVPRk5ld2xpbmUgJiYgbm9ObEJlZm9yZUFkZHMgJiYgb2xkU3RyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2U6IG9sZCBoYXMgbm8gZW9sIGFuZCBubyB0cmFpbGluZyBjb250ZXh0OyBuby1ubCBjYW4gZW5kIHVwIGJlZm9yZSBhZGRzXG4gICAgICAgICAgICAgICAgLy8gaG93ZXZlciwgaWYgdGhlIG9sZCBmaWxlIGlzIGVtcHR5LCBkbyBub3Qgb3V0cHV0IHRoZSBuby1ubCBsaW5lXG4gICAgICAgICAgICAgICAgY3VyUmFuZ2Uuc3BsaWNlKGh1bmsub2xkTGluZXMsIDAsICdcXFxcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGUnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghb2xkRU9GTmV3bGluZSAmJiAhbm9ObEJlZm9yZUFkZHMgfHwgIW5ld0VPRk5ld2xpbmUpIHtcbiAgICAgICAgICAgICAgICBjdXJSYW5nZS5wdXNoKCdcXFxcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGUnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBodW5rcy5wdXNoKGh1bmspO1xuICAgICAgICAgICAgb2xkUmFuZ2VTdGFydCA9IDA7XG4gICAgICAgICAgICBuZXdSYW5nZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGN1clJhbmdlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2xkTGluZSArPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgIG5ld0xpbmUgKz0gbGluZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpZmYubGVuZ3RoOyBpKyspIHtcbiAgICAgIF9sb29wKGkpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBvbGRGaWxlTmFtZTogb2xkRmlsZU5hbWUsXG4gICAgICBuZXdGaWxlTmFtZTogbmV3RmlsZU5hbWUsXG4gICAgICBvbGRIZWFkZXI6IG9sZEhlYWRlcixcbiAgICAgIG5ld0hlYWRlcjogbmV3SGVhZGVyLFxuICAgICAgaHVua3M6IGh1bmtzXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXRQYXRjaChkaWZmKSB7XG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgaWYgKGRpZmYub2xkRmlsZU5hbWUgPT0gZGlmZi5uZXdGaWxlTmFtZSkge1xuICAgICAgcmV0LnB1c2goJ0luZGV4OiAnICsgZGlmZi5vbGRGaWxlTmFtZSk7XG4gICAgfVxuXG4gICAgcmV0LnB1c2goJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKTtcbiAgICByZXQucHVzaCgnLS0tICcgKyBkaWZmLm9sZEZpbGVOYW1lICsgKHR5cGVvZiBkaWZmLm9sZEhlYWRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6ICdcXHQnICsgZGlmZi5vbGRIZWFkZXIpKTtcbiAgICByZXQucHVzaCgnKysrICcgKyBkaWZmLm5ld0ZpbGVOYW1lICsgKHR5cGVvZiBkaWZmLm5ld0hlYWRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6ICdcXHQnICsgZGlmZi5uZXdIZWFkZXIpKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlmZi5odW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGh1bmsgPSBkaWZmLmh1bmtzW2ldOyAvLyBVbmlmaWVkIERpZmYgRm9ybWF0IHF1aXJrOiBJZiB0aGUgY2h1bmsgc2l6ZSBpcyAwLFxuICAgICAgLy8gdGhlIGZpcnN0IG51bWJlciBpcyBvbmUgbG93ZXIgdGhhbiBvbmUgd291bGQgZXhwZWN0LlxuICAgICAgLy8gaHR0cHM6Ly93d3cuYXJ0aW1hLmNvbS93ZWJsb2dzL3ZpZXdwb3N0LmpzcD90aHJlYWQ9MTY0MjkzXG5cbiAgICAgIGlmIChodW5rLm9sZExpbmVzID09PSAwKSB7XG4gICAgICAgIGh1bmsub2xkU3RhcnQgLT0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKGh1bmsubmV3TGluZXMgPT09IDApIHtcbiAgICAgICAgaHVuay5uZXdTdGFydCAtPSAxO1xuICAgICAgfVxuXG4gICAgICByZXQucHVzaCgnQEAgLScgKyBodW5rLm9sZFN0YXJ0ICsgJywnICsgaHVuay5vbGRMaW5lcyArICcgKycgKyBodW5rLm5ld1N0YXJ0ICsgJywnICsgaHVuay5uZXdMaW5lcyArICcgQEAnKTtcbiAgICAgIHJldC5wdXNoLmFwcGx5KHJldCwgaHVuay5saW5lcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldC5qb2luKCdcXG4nKSArICdcXG4nO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVR3b0ZpbGVzUGF0Y2gob2xkRmlsZU5hbWUsIG5ld0ZpbGVOYW1lLCBvbGRTdHIsIG5ld1N0ciwgb2xkSGVhZGVyLCBuZXdIZWFkZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZm9ybWF0UGF0Y2goc3RydWN0dXJlZFBhdGNoKG9sZEZpbGVOYW1lLCBuZXdGaWxlTmFtZSwgb2xkU3RyLCBuZXdTdHIsIG9sZEhlYWRlciwgbmV3SGVhZGVyLCBvcHRpb25zKSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUGF0Y2goZmlsZU5hbWUsIG9sZFN0ciwgbmV3U3RyLCBvbGRIZWFkZXIsIG5ld0hlYWRlciwgb3B0aW9ucykge1xuICAgIHJldHVybiBjcmVhdGVUd29GaWxlc1BhdGNoKGZpbGVOYW1lLCBmaWxlTmFtZSwgb2xkU3RyLCBuZXdTdHIsIG9sZEhlYWRlciwgbmV3SGVhZGVyLCBvcHRpb25zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFycmF5RXF1YWwoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXlTdGFydHNXaXRoKGEsIGIpO1xuICB9XG4gIGZ1bmN0aW9uIGFycmF5U3RhcnRzV2l0aChhcnJheSwgc3RhcnQpIHtcbiAgICBpZiAoc3RhcnQubGVuZ3RoID4gYXJyYXkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHN0YXJ0W2ldICE9PSBhcnJheVtpXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjTGluZUNvdW50KGh1bmspIHtcbiAgICB2YXIgX2NhbGNPbGROZXdMaW5lQ291bnQgPSBjYWxjT2xkTmV3TGluZUNvdW50KGh1bmsubGluZXMpLFxuICAgICAgICBvbGRMaW5lcyA9IF9jYWxjT2xkTmV3TGluZUNvdW50Lm9sZExpbmVzLFxuICAgICAgICBuZXdMaW5lcyA9IF9jYWxjT2xkTmV3TGluZUNvdW50Lm5ld0xpbmVzO1xuXG4gICAgaWYgKG9sZExpbmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGh1bmsub2xkTGluZXMgPSBvbGRMaW5lcztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIGh1bmsub2xkTGluZXM7XG4gICAgfVxuXG4gICAgaWYgKG5ld0xpbmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGh1bmsubmV3TGluZXMgPSBuZXdMaW5lcztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIGh1bmsubmV3TGluZXM7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1lcmdlKG1pbmUsIHRoZWlycywgYmFzZSkge1xuICAgIG1pbmUgPSBsb2FkUGF0Y2gobWluZSwgYmFzZSk7XG4gICAgdGhlaXJzID0gbG9hZFBhdGNoKHRoZWlycywgYmFzZSk7XG4gICAgdmFyIHJldCA9IHt9OyAvLyBGb3IgaW5kZXggd2UganVzdCBsZXQgaXQgcGFzcyB0aHJvdWdoIGFzIGl0IGRvZXNuJ3QgaGF2ZSBhbnkgbmVjZXNzYXJ5IG1lYW5pbmcuXG4gICAgLy8gTGVhdmluZyBzYW5pdHkgY2hlY2tzIG9uIHRoaXMgdG8gdGhlIEFQSSBjb25zdW1lciB0aGF0IG1heSBrbm93IG1vcmUgYWJvdXQgdGhlXG4gICAgLy8gbWVhbmluZyBpbiB0aGVpciBvd24gY29udGV4dC5cblxuICAgIGlmIChtaW5lLmluZGV4IHx8IHRoZWlycy5pbmRleCkge1xuICAgICAgcmV0LmluZGV4ID0gbWluZS5pbmRleCB8fCB0aGVpcnMuaW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKG1pbmUubmV3RmlsZU5hbWUgfHwgdGhlaXJzLm5ld0ZpbGVOYW1lKSB7XG4gICAgICBpZiAoIWZpbGVOYW1lQ2hhbmdlZChtaW5lKSkge1xuICAgICAgICAvLyBObyBoZWFkZXIgb3Igbm8gY2hhbmdlIGluIG91cnMsIHVzZSB0aGVpcnMgKGFuZCBvdXJzIGlmIHRoZWlycyBkb2VzIG5vdCBleGlzdClcbiAgICAgICAgcmV0Lm9sZEZpbGVOYW1lID0gdGhlaXJzLm9sZEZpbGVOYW1lIHx8IG1pbmUub2xkRmlsZU5hbWU7XG4gICAgICAgIHJldC5uZXdGaWxlTmFtZSA9IHRoZWlycy5uZXdGaWxlTmFtZSB8fCBtaW5lLm5ld0ZpbGVOYW1lO1xuICAgICAgICByZXQub2xkSGVhZGVyID0gdGhlaXJzLm9sZEhlYWRlciB8fCBtaW5lLm9sZEhlYWRlcjtcbiAgICAgICAgcmV0Lm5ld0hlYWRlciA9IHRoZWlycy5uZXdIZWFkZXIgfHwgbWluZS5uZXdIZWFkZXI7XG4gICAgICB9IGVsc2UgaWYgKCFmaWxlTmFtZUNoYW5nZWQodGhlaXJzKSkge1xuICAgICAgICAvLyBObyBoZWFkZXIgb3Igbm8gY2hhbmdlIGluIHRoZWlycywgdXNlIG91cnNcbiAgICAgICAgcmV0Lm9sZEZpbGVOYW1lID0gbWluZS5vbGRGaWxlTmFtZTtcbiAgICAgICAgcmV0Lm5ld0ZpbGVOYW1lID0gbWluZS5uZXdGaWxlTmFtZTtcbiAgICAgICAgcmV0Lm9sZEhlYWRlciA9IG1pbmUub2xkSGVhZGVyO1xuICAgICAgICByZXQubmV3SGVhZGVyID0gbWluZS5uZXdIZWFkZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCb3RoIGNoYW5nZWQuLi4gZmlndXJlIGl0IG91dFxuICAgICAgICByZXQub2xkRmlsZU5hbWUgPSBzZWxlY3RGaWVsZChyZXQsIG1pbmUub2xkRmlsZU5hbWUsIHRoZWlycy5vbGRGaWxlTmFtZSk7XG4gICAgICAgIHJldC5uZXdGaWxlTmFtZSA9IHNlbGVjdEZpZWxkKHJldCwgbWluZS5uZXdGaWxlTmFtZSwgdGhlaXJzLm5ld0ZpbGVOYW1lKTtcbiAgICAgICAgcmV0Lm9sZEhlYWRlciA9IHNlbGVjdEZpZWxkKHJldCwgbWluZS5vbGRIZWFkZXIsIHRoZWlycy5vbGRIZWFkZXIpO1xuICAgICAgICByZXQubmV3SGVhZGVyID0gc2VsZWN0RmllbGQocmV0LCBtaW5lLm5ld0hlYWRlciwgdGhlaXJzLm5ld0hlYWRlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0Lmh1bmtzID0gW107XG4gICAgdmFyIG1pbmVJbmRleCA9IDAsXG4gICAgICAgIHRoZWlyc0luZGV4ID0gMCxcbiAgICAgICAgbWluZU9mZnNldCA9IDAsXG4gICAgICAgIHRoZWlyc09mZnNldCA9IDA7XG5cbiAgICB3aGlsZSAobWluZUluZGV4IDwgbWluZS5odW5rcy5sZW5ndGggfHwgdGhlaXJzSW5kZXggPCB0aGVpcnMuaHVua3MubGVuZ3RoKSB7XG4gICAgICB2YXIgbWluZUN1cnJlbnQgPSBtaW5lLmh1bmtzW21pbmVJbmRleF0gfHwge1xuICAgICAgICBvbGRTdGFydDogSW5maW5pdHlcbiAgICAgIH0sXG4gICAgICAgICAgdGhlaXJzQ3VycmVudCA9IHRoZWlycy5odW5rc1t0aGVpcnNJbmRleF0gfHwge1xuICAgICAgICBvbGRTdGFydDogSW5maW5pdHlcbiAgICAgIH07XG5cbiAgICAgIGlmIChodW5rQmVmb3JlKG1pbmVDdXJyZW50LCB0aGVpcnNDdXJyZW50KSkge1xuICAgICAgICAvLyBUaGlzIHBhdGNoIGRvZXMgbm90IG92ZXJsYXAgd2l0aCBhbnkgb2YgdGhlIG90aGVycywgeWF5LlxuICAgICAgICByZXQuaHVua3MucHVzaChjbG9uZUh1bmsobWluZUN1cnJlbnQsIG1pbmVPZmZzZXQpKTtcbiAgICAgICAgbWluZUluZGV4Kys7XG4gICAgICAgIHRoZWlyc09mZnNldCArPSBtaW5lQ3VycmVudC5uZXdMaW5lcyAtIG1pbmVDdXJyZW50Lm9sZExpbmVzO1xuICAgICAgfSBlbHNlIGlmIChodW5rQmVmb3JlKHRoZWlyc0N1cnJlbnQsIG1pbmVDdXJyZW50KSkge1xuICAgICAgICAvLyBUaGlzIHBhdGNoIGRvZXMgbm90IG92ZXJsYXAgd2l0aCBhbnkgb2YgdGhlIG90aGVycywgeWF5LlxuICAgICAgICByZXQuaHVua3MucHVzaChjbG9uZUh1bmsodGhlaXJzQ3VycmVudCwgdGhlaXJzT2Zmc2V0KSk7XG4gICAgICAgIHRoZWlyc0luZGV4Kys7XG4gICAgICAgIG1pbmVPZmZzZXQgKz0gdGhlaXJzQ3VycmVudC5uZXdMaW5lcyAtIHRoZWlyc0N1cnJlbnQub2xkTGluZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdmVybGFwLCBtZXJnZSBhcyBiZXN0IHdlIGNhblxuICAgICAgICB2YXIgbWVyZ2VkSHVuayA9IHtcbiAgICAgICAgICBvbGRTdGFydDogTWF0aC5taW4obWluZUN1cnJlbnQub2xkU3RhcnQsIHRoZWlyc0N1cnJlbnQub2xkU3RhcnQpLFxuICAgICAgICAgIG9sZExpbmVzOiAwLFxuICAgICAgICAgIG5ld1N0YXJ0OiBNYXRoLm1pbihtaW5lQ3VycmVudC5uZXdTdGFydCArIG1pbmVPZmZzZXQsIHRoZWlyc0N1cnJlbnQub2xkU3RhcnQgKyB0aGVpcnNPZmZzZXQpLFxuICAgICAgICAgIG5ld0xpbmVzOiAwLFxuICAgICAgICAgIGxpbmVzOiBbXVxuICAgICAgICB9O1xuICAgICAgICBtZXJnZUxpbmVzKG1lcmdlZEh1bmssIG1pbmVDdXJyZW50Lm9sZFN0YXJ0LCBtaW5lQ3VycmVudC5saW5lcywgdGhlaXJzQ3VycmVudC5vbGRTdGFydCwgdGhlaXJzQ3VycmVudC5saW5lcyk7XG4gICAgICAgIHRoZWlyc0luZGV4Kys7XG4gICAgICAgIG1pbmVJbmRleCsrO1xuICAgICAgICByZXQuaHVua3MucHVzaChtZXJnZWRIdW5rKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZFBhdGNoKHBhcmFtLCBiYXNlKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICgvXkBAL20udGVzdChwYXJhbSkgfHwgL15JbmRleDovbS50ZXN0KHBhcmFtKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VQYXRjaChwYXJhbSlbMF07XG4gICAgICB9XG5cbiAgICAgIGlmICghYmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011c3QgcHJvdmlkZSBhIGJhc2UgcmVmZXJlbmNlIG9yIHBhc3MgaW4gYSBwYXRjaCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RydWN0dXJlZFBhdGNoKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBiYXNlLCBwYXJhbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsZU5hbWVDaGFuZ2VkKHBhdGNoKSB7XG4gICAgcmV0dXJuIHBhdGNoLm5ld0ZpbGVOYW1lICYmIHBhdGNoLm5ld0ZpbGVOYW1lICE9PSBwYXRjaC5vbGRGaWxlTmFtZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdEZpZWxkKGluZGV4LCBtaW5lLCB0aGVpcnMpIHtcbiAgICBpZiAobWluZSA9PT0gdGhlaXJzKSB7XG4gICAgICByZXR1cm4gbWluZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXguY29uZmxpY3QgPSB0cnVlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWluZTogbWluZSxcbiAgICAgICAgdGhlaXJzOiB0aGVpcnNcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaHVua0JlZm9yZSh0ZXN0LCBjaGVjaykge1xuICAgIHJldHVybiB0ZXN0Lm9sZFN0YXJ0IDwgY2hlY2sub2xkU3RhcnQgJiYgdGVzdC5vbGRTdGFydCArIHRlc3Qub2xkTGluZXMgPCBjaGVjay5vbGRTdGFydDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb25lSHVuayhodW5rLCBvZmZzZXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb2xkU3RhcnQ6IGh1bmsub2xkU3RhcnQsXG4gICAgICBvbGRMaW5lczogaHVuay5vbGRMaW5lcyxcbiAgICAgIG5ld1N0YXJ0OiBodW5rLm5ld1N0YXJ0ICsgb2Zmc2V0LFxuICAgICAgbmV3TGluZXM6IGh1bmsubmV3TGluZXMsXG4gICAgICBsaW5lczogaHVuay5saW5lc1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZUxpbmVzKGh1bmssIG1pbmVPZmZzZXQsIG1pbmVMaW5lcywgdGhlaXJPZmZzZXQsIHRoZWlyTGluZXMpIHtcbiAgICAvLyBUaGlzIHdpbGwgZ2VuZXJhbGx5IHJlc3VsdCBpbiBhIGNvbmZsaWN0ZWQgaHVuaywgYnV0IHRoZXJlIGFyZSBjYXNlcyB3aGVyZSB0aGUgY29udGV4dFxuICAgIC8vIGlzIHRoZSBvbmx5IG92ZXJsYXAgd2hlcmUgd2UgY2FuIHN1Y2Nlc3NmdWxseSBtZXJnZSB0aGUgY29udGVudCBoZXJlLlxuICAgIHZhciBtaW5lID0ge1xuICAgICAgb2Zmc2V0OiBtaW5lT2Zmc2V0LFxuICAgICAgbGluZXM6IG1pbmVMaW5lcyxcbiAgICAgIGluZGV4OiAwXG4gICAgfSxcbiAgICAgICAgdGhlaXIgPSB7XG4gICAgICBvZmZzZXQ6IHRoZWlyT2Zmc2V0LFxuICAgICAgbGluZXM6IHRoZWlyTGluZXMsXG4gICAgICBpbmRleDogMFxuICAgIH07IC8vIEhhbmRsZSBhbnkgbGVhZGluZyBjb250ZW50XG5cbiAgICBpbnNlcnRMZWFkaW5nKGh1bmssIG1pbmUsIHRoZWlyKTtcbiAgICBpbnNlcnRMZWFkaW5nKGh1bmssIHRoZWlyLCBtaW5lKTsgLy8gTm93IGluIHRoZSBvdmVybGFwIGNvbnRlbnQuIFNjYW4gdGhyb3VnaCBhbmQgc2VsZWN0IHRoZSBiZXN0IGNoYW5nZXMgZnJvbSBlYWNoLlxuXG4gICAgd2hpbGUgKG1pbmUuaW5kZXggPCBtaW5lLmxpbmVzLmxlbmd0aCAmJiB0aGVpci5pbmRleCA8IHRoZWlyLmxpbmVzLmxlbmd0aCkge1xuICAgICAgdmFyIG1pbmVDdXJyZW50ID0gbWluZS5saW5lc1ttaW5lLmluZGV4XSxcbiAgICAgICAgICB0aGVpckN1cnJlbnQgPSB0aGVpci5saW5lc1t0aGVpci5pbmRleF07XG5cbiAgICAgIGlmICgobWluZUN1cnJlbnRbMF0gPT09ICctJyB8fCBtaW5lQ3VycmVudFswXSA9PT0gJysnKSAmJiAodGhlaXJDdXJyZW50WzBdID09PSAnLScgfHwgdGhlaXJDdXJyZW50WzBdID09PSAnKycpKSB7XG4gICAgICAgIC8vIEJvdGggbW9kaWZpZWQgLi4uXG4gICAgICAgIG11dHVhbENoYW5nZShodW5rLCBtaW5lLCB0aGVpcik7XG4gICAgICB9IGVsc2UgaWYgKG1pbmVDdXJyZW50WzBdID09PSAnKycgJiYgdGhlaXJDdXJyZW50WzBdID09PSAnICcpIHtcbiAgICAgICAgdmFyIF9odW5rJGxpbmVzO1xuXG4gICAgICAgIC8vIE1pbmUgaW5zZXJ0ZWRcbiAgICAgICAgKF9odW5rJGxpbmVzID0gaHVuay5saW5lcykucHVzaC5hcHBseShfaHVuayRsaW5lcywgX3RvQ29uc3VtYWJsZUFycmF5KGNvbGxlY3RDaGFuZ2UobWluZSkpKTtcbiAgICAgIH0gZWxzZSBpZiAodGhlaXJDdXJyZW50WzBdID09PSAnKycgJiYgbWluZUN1cnJlbnRbMF0gPT09ICcgJykge1xuICAgICAgICB2YXIgX2h1bmskbGluZXMyO1xuXG4gICAgICAgIC8vIFRoZWlycyBpbnNlcnRlZFxuICAgICAgICAoX2h1bmskbGluZXMyID0gaHVuay5saW5lcykucHVzaC5hcHBseShfaHVuayRsaW5lczIsIF90b0NvbnN1bWFibGVBcnJheShjb2xsZWN0Q2hhbmdlKHRoZWlyKSkpO1xuICAgICAgfSBlbHNlIGlmIChtaW5lQ3VycmVudFswXSA9PT0gJy0nICYmIHRoZWlyQ3VycmVudFswXSA9PT0gJyAnKSB7XG4gICAgICAgIC8vIE1pbmUgcmVtb3ZlZCBvciBlZGl0ZWRcbiAgICAgICAgcmVtb3ZhbChodW5rLCBtaW5lLCB0aGVpcik7XG4gICAgICB9IGVsc2UgaWYgKHRoZWlyQ3VycmVudFswXSA9PT0gJy0nICYmIG1pbmVDdXJyZW50WzBdID09PSAnICcpIHtcbiAgICAgICAgLy8gVGhlaXIgcmVtb3ZlZCBvciBlZGl0ZWRcbiAgICAgICAgcmVtb3ZhbChodW5rLCB0aGVpciwgbWluZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKG1pbmVDdXJyZW50ID09PSB0aGVpckN1cnJlbnQpIHtcbiAgICAgICAgLy8gQ29udGV4dCBpZGVudGl0eVxuICAgICAgICBodW5rLmxpbmVzLnB1c2gobWluZUN1cnJlbnQpO1xuICAgICAgICBtaW5lLmluZGV4Kys7XG4gICAgICAgIHRoZWlyLmluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb250ZXh0IG1pc21hdGNoXG4gICAgICAgIGNvbmZsaWN0KGh1bmssIGNvbGxlY3RDaGFuZ2UobWluZSksIGNvbGxlY3RDaGFuZ2UodGhlaXIpKTtcbiAgICAgIH1cbiAgICB9IC8vIE5vdyBwdXNoIGFueXRoaW5nIHRoYXQgbWF5IGJlIHJlbWFpbmluZ1xuXG5cbiAgICBpbnNlcnRUcmFpbGluZyhodW5rLCBtaW5lKTtcbiAgICBpbnNlcnRUcmFpbGluZyhodW5rLCB0aGVpcik7XG4gICAgY2FsY0xpbmVDb3VudChodW5rKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG11dHVhbENoYW5nZShodW5rLCBtaW5lLCB0aGVpcikge1xuICAgIHZhciBteUNoYW5nZXMgPSBjb2xsZWN0Q2hhbmdlKG1pbmUpLFxuICAgICAgICB0aGVpckNoYW5nZXMgPSBjb2xsZWN0Q2hhbmdlKHRoZWlyKTtcblxuICAgIGlmIChhbGxSZW1vdmVzKG15Q2hhbmdlcykgJiYgYWxsUmVtb3Zlcyh0aGVpckNoYW5nZXMpKSB7XG4gICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHJlbW92ZSBjaGFuZ2VzIHRoYXQgYXJlIHN1cGVyc2V0cyBvZiBvbmUgYW5vdGhlclxuICAgICAgaWYgKGFycmF5U3RhcnRzV2l0aChteUNoYW5nZXMsIHRoZWlyQ2hhbmdlcykgJiYgc2tpcFJlbW92ZVN1cGVyc2V0KHRoZWlyLCBteUNoYW5nZXMsIG15Q2hhbmdlcy5sZW5ndGggLSB0aGVpckNoYW5nZXMubGVuZ3RoKSkge1xuICAgICAgICB2YXIgX2h1bmskbGluZXMzO1xuXG4gICAgICAgIChfaHVuayRsaW5lczMgPSBodW5rLmxpbmVzKS5wdXNoLmFwcGx5KF9odW5rJGxpbmVzMywgX3RvQ29uc3VtYWJsZUFycmF5KG15Q2hhbmdlcykpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoYXJyYXlTdGFydHNXaXRoKHRoZWlyQ2hhbmdlcywgbXlDaGFuZ2VzKSAmJiBza2lwUmVtb3ZlU3VwZXJzZXQobWluZSwgdGhlaXJDaGFuZ2VzLCB0aGVpckNoYW5nZXMubGVuZ3RoIC0gbXlDaGFuZ2VzLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIF9odW5rJGxpbmVzNDtcblxuICAgICAgICAoX2h1bmskbGluZXM0ID0gaHVuay5saW5lcykucHVzaC5hcHBseShfaHVuayRsaW5lczQsIF90b0NvbnN1bWFibGVBcnJheSh0aGVpckNoYW5nZXMpKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcnJheUVxdWFsKG15Q2hhbmdlcywgdGhlaXJDaGFuZ2VzKSkge1xuICAgICAgdmFyIF9odW5rJGxpbmVzNTtcblxuICAgICAgKF9odW5rJGxpbmVzNSA9IGh1bmsubGluZXMpLnB1c2guYXBwbHkoX2h1bmskbGluZXM1LCBfdG9Db25zdW1hYmxlQXJyYXkobXlDaGFuZ2VzKSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25mbGljdChodW5rLCBteUNoYW5nZXMsIHRoZWlyQ2hhbmdlcyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmFsKGh1bmssIG1pbmUsIHRoZWlyLCBzd2FwKSB7XG4gICAgdmFyIG15Q2hhbmdlcyA9IGNvbGxlY3RDaGFuZ2UobWluZSksXG4gICAgICAgIHRoZWlyQ2hhbmdlcyA9IGNvbGxlY3RDb250ZXh0KHRoZWlyLCBteUNoYW5nZXMpO1xuXG4gICAgaWYgKHRoZWlyQ2hhbmdlcy5tZXJnZWQpIHtcbiAgICAgIHZhciBfaHVuayRsaW5lczY7XG5cbiAgICAgIChfaHVuayRsaW5lczYgPSBodW5rLmxpbmVzKS5wdXNoLmFwcGx5KF9odW5rJGxpbmVzNiwgX3RvQ29uc3VtYWJsZUFycmF5KHRoZWlyQ2hhbmdlcy5tZXJnZWQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmxpY3QoaHVuaywgc3dhcCA/IHRoZWlyQ2hhbmdlcyA6IG15Q2hhbmdlcywgc3dhcCA/IG15Q2hhbmdlcyA6IHRoZWlyQ2hhbmdlcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uZmxpY3QoaHVuaywgbWluZSwgdGhlaXIpIHtcbiAgICBodW5rLmNvbmZsaWN0ID0gdHJ1ZTtcbiAgICBodW5rLmxpbmVzLnB1c2goe1xuICAgICAgY29uZmxpY3Q6IHRydWUsXG4gICAgICBtaW5lOiBtaW5lLFxuICAgICAgdGhlaXJzOiB0aGVpclxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0TGVhZGluZyhodW5rLCBpbnNlcnQsIHRoZWlyKSB7XG4gICAgd2hpbGUgKGluc2VydC5vZmZzZXQgPCB0aGVpci5vZmZzZXQgJiYgaW5zZXJ0LmluZGV4IDwgaW5zZXJ0LmxpbmVzLmxlbmd0aCkge1xuICAgICAgdmFyIGxpbmUgPSBpbnNlcnQubGluZXNbaW5zZXJ0LmluZGV4KytdO1xuICAgICAgaHVuay5saW5lcy5wdXNoKGxpbmUpO1xuICAgICAgaW5zZXJ0Lm9mZnNldCsrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluc2VydFRyYWlsaW5nKGh1bmssIGluc2VydCkge1xuICAgIHdoaWxlIChpbnNlcnQuaW5kZXggPCBpbnNlcnQubGluZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgbGluZSA9IGluc2VydC5saW5lc1tpbnNlcnQuaW5kZXgrK107XG4gICAgICBodW5rLmxpbmVzLnB1c2gobGluZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29sbGVjdENoYW5nZShzdGF0ZSkge1xuICAgIHZhciByZXQgPSBbXSxcbiAgICAgICAgb3BlcmF0aW9uID0gc3RhdGUubGluZXNbc3RhdGUuaW5kZXhdWzBdO1xuXG4gICAgd2hpbGUgKHN0YXRlLmluZGV4IDwgc3RhdGUubGluZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgbGluZSA9IHN0YXRlLmxpbmVzW3N0YXRlLmluZGV4XTsgLy8gR3JvdXAgYWRkaXRpb25zIHRoYXQgYXJlIGltbWVkaWF0ZWx5IGFmdGVyIHN1YnRyYWN0aW9ucyBhbmQgdHJlYXQgdGhlbSBhcyBvbmUgXCJhdG9taWNcIiBtb2RpZnkgY2hhbmdlLlxuXG4gICAgICBpZiAob3BlcmF0aW9uID09PSAnLScgJiYgbGluZVswXSA9PT0gJysnKSB7XG4gICAgICAgIG9wZXJhdGlvbiA9ICcrJztcbiAgICAgIH1cblxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gbGluZVswXSkge1xuICAgICAgICByZXQucHVzaChsaW5lKTtcbiAgICAgICAgc3RhdGUuaW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBjb2xsZWN0Q29udGV4dChzdGF0ZSwgbWF0Y2hDaGFuZ2VzKSB7XG4gICAgdmFyIGNoYW5nZXMgPSBbXSxcbiAgICAgICAgbWVyZ2VkID0gW10sXG4gICAgICAgIG1hdGNoSW5kZXggPSAwLFxuICAgICAgICBjb250ZXh0Q2hhbmdlcyA9IGZhbHNlLFxuICAgICAgICBjb25mbGljdGVkID0gZmFsc2U7XG5cbiAgICB3aGlsZSAobWF0Y2hJbmRleCA8IG1hdGNoQ2hhbmdlcy5sZW5ndGggJiYgc3RhdGUuaW5kZXggPCBzdGF0ZS5saW5lcy5sZW5ndGgpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBzdGF0ZS5saW5lc1tzdGF0ZS5pbmRleF0sXG4gICAgICAgICAgbWF0Y2ggPSBtYXRjaENoYW5nZXNbbWF0Y2hJbmRleF07IC8vIE9uY2Ugd2UndmUgaGl0IG91ciBhZGQsIHRoZW4gd2UgYXJlIGRvbmVcblxuICAgICAgaWYgKG1hdGNoWzBdID09PSAnKycpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHRDaGFuZ2VzID0gY29udGV4dENoYW5nZXMgfHwgY2hhbmdlWzBdICE9PSAnICc7XG4gICAgICBtZXJnZWQucHVzaChtYXRjaCk7XG4gICAgICBtYXRjaEluZGV4Kys7IC8vIENvbnN1bWUgYW55IGFkZGl0aW9ucyBpbiB0aGUgb3RoZXIgYmxvY2sgYXMgYSBjb25mbGljdCB0byBhdHRlbXB0XG4gICAgICAvLyB0byBwdWxsIGluIHRoZSByZW1haW5pbmcgY29udGV4dCBhZnRlciB0aGlzXG5cbiAgICAgIGlmIChjaGFuZ2VbMF0gPT09ICcrJykge1xuICAgICAgICBjb25mbGljdGVkID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAoY2hhbmdlWzBdID09PSAnKycpIHtcbiAgICAgICAgICBjaGFuZ2VzLnB1c2goY2hhbmdlKTtcbiAgICAgICAgICBjaGFuZ2UgPSBzdGF0ZS5saW5lc1srK3N0YXRlLmluZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2guc3Vic3RyKDEpID09PSBjaGFuZ2Uuc3Vic3RyKDEpKSB7XG4gICAgICAgIGNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgICAgICBzdGF0ZS5pbmRleCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmxpY3RlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKChtYXRjaENoYW5nZXNbbWF0Y2hJbmRleF0gfHwgJycpWzBdID09PSAnKycgJiYgY29udGV4dENoYW5nZXMpIHtcbiAgICAgIGNvbmZsaWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChjb25mbGljdGVkKSB7XG4gICAgICByZXR1cm4gY2hhbmdlcztcbiAgICB9XG5cbiAgICB3aGlsZSAobWF0Y2hJbmRleCA8IG1hdGNoQ2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgIG1lcmdlZC5wdXNoKG1hdGNoQ2hhbmdlc1ttYXRjaEluZGV4KytdKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWVyZ2VkOiBtZXJnZWQsXG4gICAgICBjaGFuZ2VzOiBjaGFuZ2VzXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFsbFJlbW92ZXMoY2hhbmdlcykge1xuICAgIHJldHVybiBjaGFuZ2VzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY2hhbmdlKSB7XG4gICAgICByZXR1cm4gcHJldiAmJiBjaGFuZ2VbMF0gPT09ICctJztcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNraXBSZW1vdmVTdXBlcnNldChzdGF0ZSwgcmVtb3ZlQ2hhbmdlcywgZGVsdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbHRhOyBpKyspIHtcbiAgICAgIHZhciBjaGFuZ2VDb250ZW50ID0gcmVtb3ZlQ2hhbmdlc1tyZW1vdmVDaGFuZ2VzLmxlbmd0aCAtIGRlbHRhICsgaV0uc3Vic3RyKDEpO1xuXG4gICAgICBpZiAoc3RhdGUubGluZXNbc3RhdGUuaW5kZXggKyBpXSAhPT0gJyAnICsgY2hhbmdlQ29udGVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGUuaW5kZXggKz0gZGVsdGE7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjT2xkTmV3TGluZUNvdW50KGxpbmVzKSB7XG4gICAgdmFyIG9sZExpbmVzID0gMDtcbiAgICB2YXIgbmV3TGluZXMgPSAwO1xuICAgIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIGlmICh0eXBlb2YgbGluZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIG15Q291bnQgPSBjYWxjT2xkTmV3TGluZUNvdW50KGxpbmUubWluZSk7XG4gICAgICAgIHZhciB0aGVpckNvdW50ID0gY2FsY09sZE5ld0xpbmVDb3VudChsaW5lLnRoZWlycyk7XG5cbiAgICAgICAgaWYgKG9sZExpbmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAobXlDb3VudC5vbGRMaW5lcyA9PT0gdGhlaXJDb3VudC5vbGRMaW5lcykge1xuICAgICAgICAgICAgb2xkTGluZXMgKz0gbXlDb3VudC5vbGRMaW5lcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2xkTGluZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0xpbmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAobXlDb3VudC5uZXdMaW5lcyA9PT0gdGhlaXJDb3VudC5uZXdMaW5lcykge1xuICAgICAgICAgICAgbmV3TGluZXMgKz0gbXlDb3VudC5uZXdMaW5lcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TGluZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobmV3TGluZXMgIT09IHVuZGVmaW5lZCAmJiAobGluZVswXSA9PT0gJysnIHx8IGxpbmVbMF0gPT09ICcgJykpIHtcbiAgICAgICAgICBuZXdMaW5lcysrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9sZExpbmVzICE9PSB1bmRlZmluZWQgJiYgKGxpbmVbMF0gPT09ICctJyB8fCBsaW5lWzBdID09PSAnICcpKSB7XG4gICAgICAgICAgb2xkTGluZXMrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBvbGRMaW5lczogb2xkTGluZXMsXG4gICAgICBuZXdMaW5lczogbmV3TGluZXNcbiAgICB9O1xuICB9XG5cbiAgLy8gU2VlOiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZ29vZ2xlLWRpZmYtbWF0Y2gtcGF0Y2gvd2lraS9BUElcbiAgZnVuY3Rpb24gY29udmVydENoYW5nZXNUb0RNUChjaGFuZ2VzKSB7XG4gICAgdmFyIHJldCA9IFtdLFxuICAgICAgICBjaGFuZ2UsXG4gICAgICAgIG9wZXJhdGlvbjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhbmdlID0gY2hhbmdlc1tpXTtcblxuICAgICAgaWYgKGNoYW5nZS5hZGRlZCkge1xuICAgICAgICBvcGVyYXRpb24gPSAxO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xuICAgICAgICBvcGVyYXRpb24gPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wZXJhdGlvbiA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldC5wdXNoKFtvcGVyYXRpb24sIGNoYW5nZS52YWx1ZV0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0Q2hhbmdlc1RvWE1MKGNoYW5nZXMpIHtcbiAgICB2YXIgcmV0ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuXG4gICAgICBpZiAoY2hhbmdlLmFkZGVkKSB7XG4gICAgICAgIHJldC5wdXNoKCc8aW5zPicpO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xuICAgICAgICByZXQucHVzaCgnPGRlbD4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0LnB1c2goZXNjYXBlSFRNTChjaGFuZ2UudmFsdWUpKTtcblxuICAgICAgaWYgKGNoYW5nZS5hZGRlZCkge1xuICAgICAgICByZXQucHVzaCgnPC9pbnM+Jyk7XG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZS5yZW1vdmVkKSB7XG4gICAgICAgIHJldC5wdXNoKCc8L2RlbD4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0LmpvaW4oJycpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXNjYXBlSFRNTChzKSB7XG4gICAgdmFyIG4gPSBzO1xuICAgIG4gPSBuLnJlcGxhY2UoLyYvZywgJyZhbXA7Jyk7XG4gICAgbiA9IG4ucmVwbGFjZSgvPC9nLCAnJmx0OycpO1xuICAgIG4gPSBuLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgICBuID0gbi5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG4gICAgcmV0dXJuIG47XG4gIH1cblxuICBleHBvcnRzLkRpZmYgPSBEaWZmO1xuICBleHBvcnRzLmFwcGx5UGF0Y2ggPSBhcHBseVBhdGNoO1xuICBleHBvcnRzLmFwcGx5UGF0Y2hlcyA9IGFwcGx5UGF0Y2hlcztcbiAgZXhwb3J0cy5jYW5vbmljYWxpemUgPSBjYW5vbmljYWxpemU7XG4gIGV4cG9ydHMuY29udmVydENoYW5nZXNUb0RNUCA9IGNvbnZlcnRDaGFuZ2VzVG9ETVA7XG4gIGV4cG9ydHMuY29udmVydENoYW5nZXNUb1hNTCA9IGNvbnZlcnRDaGFuZ2VzVG9YTUw7XG4gIGV4cG9ydHMuY3JlYXRlUGF0Y2ggPSBjcmVhdGVQYXRjaDtcbiAgZXhwb3J0cy5jcmVhdGVUd29GaWxlc1BhdGNoID0gY3JlYXRlVHdvRmlsZXNQYXRjaDtcbiAgZXhwb3J0cy5kaWZmQXJyYXlzID0gZGlmZkFycmF5cztcbiAgZXhwb3J0cy5kaWZmQ2hhcnMgPSBkaWZmQ2hhcnM7XG4gIGV4cG9ydHMuZGlmZkNzcyA9IGRpZmZDc3M7XG4gIGV4cG9ydHMuZGlmZkpzb24gPSBkaWZmSnNvbjtcbiAgZXhwb3J0cy5kaWZmTGluZXMgPSBkaWZmTGluZXM7XG4gIGV4cG9ydHMuZGlmZlNlbnRlbmNlcyA9IGRpZmZTZW50ZW5jZXM7XG4gIGV4cG9ydHMuZGlmZlRyaW1tZWRMaW5lcyA9IGRpZmZUcmltbWVkTGluZXM7XG4gIGV4cG9ydHMuZGlmZldvcmRzID0gZGlmZldvcmRzO1xuICBleHBvcnRzLmRpZmZXb3Jkc1dpdGhTcGFjZSA9IGRpZmZXb3Jkc1dpdGhTcGFjZTtcbiAgZXhwb3J0cy5tZXJnZSA9IG1lcmdlO1xuICBleHBvcnRzLnBhcnNlUGF0Y2ggPSBwYXJzZVBhdGNoO1xuICBleHBvcnRzLnN0cnVjdHVyZWRQYXRjaCA9IHN0cnVjdHVyZWRQYXRjaDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuIiwiZXhwb3J0IGVudW0gTG9jYWxpemF0aW9uTGFiZWxzIHtcbiAgc2hvd1NvbHV0aW9uQnV0dG9uID0gXCJzaG93U29sdXRpb25zXCIsXG4gIHJldHJ5QnV0dG9uID0gXCJ0cnlBZ2FpblwiLFxuICBjaGVja0FsbEJ1dHRvbiA9IFwiY2hlY2tBbnN3ZXJcIixcbiAgbm90RmlsbGVkT3V0V2FybmluZyA9IFwibm90RmlsbGVkT3V0XCIsXG4gIHRpcEJ1dHRvbiA9XCJ0aXBMYWJlbFwiLFxuICB0eXBvTWVzc2FnZSA9IFwic3BlbGxpbmdNaXN0YWtlV2FybmluZ1wiLFxuICBzY29yZUJhckxhYmVsID0gXCJzY29yZUJhckxhYmVsXCIgIFxufVxuXG5leHBvcnQgZW51bSBMb2NhbGl6YXRpb25TdHJ1Y3R1cmVzIHtcbiAgY29uZmlybUNoZWNrID0gXCJjb25maXJtQ2hlY2tcIixcbiAgY29uZmlybVJldHJ5ID0gXCJjb25maXJtUmV0cnlcIixcbiAgb3ZlcmFsbEZlZWRiYWNrID0gXCJvdmVyYWxsRmVlZGJhY2tcIlxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGxvY2FsaXphdGlvbiBzZXJ2aWNlcy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgSDVQTG9jYWxpemF0aW9uIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBoNXBDb25maWd1cmF0aW9uOiBhbnkpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxvY2FsaXplZCBzdHJpbmcgdGhhdCBpcyByZXByZXNlbnRlZCBieSB0aGUgaWRlbnRpZmllci5cbiAgICogQHBhcmFtICB7c3RyaW5nfSBsb2NhbGl6YWJsZVN0cmluZ0lkZW50aWZpZXJcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBwcml2YXRlIGdldFRleHQobG9jYWxpemFibGVTdHJpbmdJZGVudGlmaWVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmg1cENvbmZpZ3VyYXRpb25bbG9jYWxpemFibGVTdHJpbmdJZGVudGlmaWVyXTtcbiAgfVxuXG4gIHByaXZhdGUgbGFiZWxUb1N0cmluZyhsYWJlbDogTG9jYWxpemF0aW9uTGFiZWxzKSB7XG4gICAgcmV0dXJuIGxhYmVsLnRvU3RyaW5nKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxvY2FsaXplZCBzdHJpbmcgZm9yIHRoZSBsYWJlbC5cbiAgICogQHBhcmFtICB7TG9jYWxpemF0aW9uTGFiZWxzfSBsYWJlbFxuICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICovXG4gIGdldFRleHRGcm9tTGFiZWwobGFiZWw6IExvY2FsaXphdGlvbkxhYmVscyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGV4dCh0aGlzLmxhYmVsVG9TdHJpbmcobGFiZWwpKTtcbiAgfVxuXG4gIGdldE9iamVjdEZvclN0cnVjdHVyZShzdHJ1Y3R1cmU6IExvY2FsaXphdGlvblN0cnVjdHVyZXMpIDogYW55IHtcbiAgICByZXR1cm4gdGhpcy5oNXBDb25maWd1cmF0aW9uW3N0cnVjdHVyZS50b1N0cmluZygpXTtcbiAgfVxufSIsImltcG9ydCBcIi4uL3N0eWxlcy9zdHlsZS5jc3NcIjtcbmltcG9ydCBBZHZhbmNlZEJsYW5rcyBmcm9tICcuLi9zY3JpcHRzL2FwcCc7XG5cbi8vIExvYWQgbGlicmFyeVxuSDVQID0gSDVQIHx8IHt9O1xuSDVQLkFkdmFuY2VkQmxhbmtzID0gQWR2YW5jZWRCbGFua3M7IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaDVwLWFkdmFuY2VkLWJsYW5rcyB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuXFxuLyogVGV4dCAqL1xcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzICNoNXAtY2xvemUtY29udGFpbmVyIHAsXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgI2g1cC1jbG96ZS1jb250YWluZXIgZGl2IHtcXG4gICAgbGluZS1oZWlnaHQ6IDEuOGVtO1xcbiAgICBtYXJnaW46IDAgMCAxZW07XFxuICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XFxufVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDgwcHgpIHtcXG4gICAgLmg1cC1hZHZhbmNlZC1ibGFua3MgI2g1cC1jbG96ZS1jb250YWluZXIgcCxcXG4gICAgLmg1cC1hZHZhbmNlZC1ibGFua3MgI2g1cC1jbG96ZS1jb250YWluZXIgZGl2IHtcXG4gICAgICAgIHRleHQtYWxpZ246IHVuc2V0O1xcbiAgICB9XFxufVxcblxcblxcbi8qIElucHV0ICovXFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmg1cC1pbnB1dC13cmFwcGVyIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5ibGFuayAuaDVwLXRleHQtaW5wdXQge1xcbiAgICBmb250LWZhbWlseTogSDVQRHJvaWRTYW5zLCBzYW5zLXNlcmlmO1xcbiAgICBmb250LXNpemU6IDFlbTtcXG4gICAgYm9yZGVyLXJhZGl1czogMC4yNWVtO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYTBhMGEwO1xcbiAgICBwYWRkaW5nOiAwLjE4NzVlbSAxLjVlbSAwLjE4NzVlbSAwLjVlbTtcXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5ibGFuayBpbnB1dC5oNXAtdGV4dC1pbnB1dCB7XFxuICBtYXgtd2lkdGg6IGNhbGMoMTAwdncgLSA2NHB4KTtcXG59XFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmJsYW5rIHNlbGVjdC5oNXAtdGV4dC1pbnB1dCB7XFxuICBtYXgtd2lkdGg6IGNhbGMoMTAwdncgLSAzNnB4KTtcXG59XFxuXFxuLyogSUUgKyBDaHJvbWUgc3BlY2lmaWMgZml4ZXMgKi9cXG5cXG4uaDVwLXRleHQtaW5wdXQ6Oi1tcy1jbGVhciB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbjpub3QoLmNvcnJlY3QpLmJsYW5rLmhhcy10aXAgYnV0dG9uIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5cXG4vKiBTZWxlY3QgbW9kZSAqL1xcblxcbnNlbGVjdC5oNXAtdGV4dC1pbnB1dCB7XFxuICAgIGFwcGVhcmFuY2U6IGJ1dHRvbjtcXG4gICAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjtcXG59XFxuXFxuXFxuLyogU2hvd2luZyBzb2x1dGlvbiBpbnB1dCAqL1xcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5ibGFuay5zaG93aW5nLXNvbHV0aW9uIC5oNXAtdGV4dC1pbnB1dCB7XFxuICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjOWRkOGJiO1xcbiAgICBjb2xvcjogIzI1NWM0MTtcXG4gICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcXG59XFxuXFxuXFxuLyogRm9jdXNzZWQgaW5wdXQgKi9cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuYmxhbmsgLmg1cC10ZXh0LWlucHV0OmZvY3VzIHtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgYm94LXNoYWRvdzogMCAwIDAuNWVtIDAgIzdmYjhmZjtcXG4gICAgYm9yZGVyLWNvbG9yOiAjN2ZiOGZmO1xcbn1cXG5cXG5cXG4vKiBDb3JyZWN0bHkgYW5zd2VyZWQgaW5wdXQgKi9cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuYmxhbmsuY29ycmVjdCAuaDVwLXRleHQtaW5wdXQge1xcbiAgICBiYWNrZ3JvdW5kOiAjOWRkOGJiO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOWRkOGJiO1xcbiAgICBjb2xvcjogIzI1NWM0MTtcXG59XFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmJsYW5rLmNvcnJlY3QgLmg1cC1pbnB1dC13cmFwcGVyOmFmdGVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMC41ZW07ICAgIFxcbiAgICB0b3A6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICAgIGNvbnRlbnQ6IFxcXCJcXFxcZjAwY1xcXCI7XFxuICAgIGZvbnQtZmFtaWx5OiAnSDVQRm9udEF3ZXNvbWU0JztcXG4gICAgY29sb3I6ICMyNTVjNDE7XFxufVxcblxcblxcbi8qIEluY29ycmVjdCBhbnN3ZXJzICovXFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmJsYW5rLmVycm9yIC5oNXAtdGV4dC1pbnB1dCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2QwZDA7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNmN2QwZDA7XFxuICAgIGNvbG9yOiAjYjcxYzFjO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG59XFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmJsYW5rLmVycm9yIC5oNXAtaW5wdXQtd3JhcHBlcjphZnRlciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDAuNWVtO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICBmb250LWZhbWlseTogJ0g1UEZvbnRBd2Vzb21lNCc7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gICAgY29udGVudDogXFxcIlxcXFxmMDBkXFxcIjtcXG4gICAgY29sb3I6ICNiNzFjMWM7XFxufVxcblxcblxcbi8qIFNwZWxsaW5nIGVycm9ycyAqL1xcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5ibGFuay5yZXRyeSAuaDVwLXRleHQtaW5wdXQge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZjk5O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZjk5O1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5ibGFuay5yZXRyeSAuaDVwLWlucHV0LXdyYXBwZXI6YWZ0ZXIge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAwLjVlbTtcXG4gICAgdG9wOiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgZm9udC1mYW1pbHk6ICdINVBGb250QXdlc29tZTQnO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICAgIGNvbnRlbnQ6IFxcXCJcXFxcZjAwZFxcXCI7XFxuICAgIGNvbG9yOiAjYjcxYzFjO1xcbn1cXG5cXG5cXG4vKiBCdXR0b25zICovXFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmJsYW5rIGJ1dHRvbiB7XFxuICAgIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYmFja2dyb3VuZDogbm9uZTtcXG59XFxuXFxuXFxuLyogSGlnaGxpZ2h0IGluIHNwZWxsaW5nIG1pc3Rha2UgbWFya2VyICovXFxuXFxuLnNwZWxsaW5nLW1pc3Rha2UgLm1pc3NpbmctY2hhcmFjdGVyLFxcbi5zcGVsbGluZy1taXN0YWtlIC5taXN0YWtlbi1jaGFyYWN0ZXIge1xcbiAgICBjb2xvcjogcmVkO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246IDUwMG1zO1xcbiAgICAgICAgICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogNTAwbXM7XFxuICAgIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGJsaW5rLWNvbG9yO1xcbiAgICAgICAgICAgIGFuaW1hdGlvbi1uYW1lOiBibGluay1jb2xvcjtcXG4gICAgLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxMztcXG4gICAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxMztcXG4gICAgLXdlYmtpdC1hbmltYXRpb24tZGlyZWN0aW9uOiBhbHRlcm5hdGU7XFxuICAgICAgICAgICAgYW5pbWF0aW9uLWRpcmVjdGlvbjogYWx0ZXJuYXRlO1xcbn1cXG5cXG5ALXdlYmtpdC1rZXlmcmFtZXMgYmxpbmstY29sb3Ige1xcbiAgICBmcm9tIHtcXG4gICAgICAgIGNvbG9yOiBpbml0aWFsO1xcbiAgICB9XFxuICAgIHRvIHtcXG4gICAgICAgIGNvbG9yOiByZWQ7XFxuICAgIH1cXG59XFxuXFxuQGtleWZyYW1lcyBibGluay1jb2xvciB7XFxuICAgIGZyb20ge1xcbiAgICAgICAgY29sb3I6IGluaXRpYWw7XFxuICAgIH1cXG4gICAgdG8ge1xcbiAgICAgICAgY29sb3I6IHJlZDtcXG4gICAgfVxcbn1cXG5cXG4uc3BlbGxpbmctbWlzdGFrZSAubWlzdGFrZW4tY2hhcmFjdGVyIHtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XFxufVxcblxcblxcbi8qIEhpZ2hsaWdodHMgaW4gdGV4dCAqL1xcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5oaWdobGlnaHRlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLCAwLjIpO1xcbiAgICBwYWRkaW5nOiAwLjRlbTtcXG4gICAgbWFyZ2luOiAtMC40ZW07XFxuICAgIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAxMDAwbXM7XFxuICAgICAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxMDAwbXM7XFxuICAgIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGJsaW5rLWJhY2tncm91bmQtY29sb3I7XFxuICAgICAgICAgICAgYW5pbWF0aW9uLW5hbWU6IGJsaW5rLWJhY2tncm91bmQtY29sb3I7XFxuICAgIC13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMztcXG4gICAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAzO1xcbiAgICAtd2Via2l0LWFuaW1hdGlvbi1kaXJlY3Rpb246IGFsdGVybmF0ZTtcXG4gICAgICAgICAgICBhbmltYXRpb24tZGlyZWN0aW9uOiBhbHRlcm5hdGU7XFxufVxcblxcbkAtd2Via2l0LWtleWZyYW1lcyBibGluay1iYWNrZ3JvdW5kLWNvbG9yIHtcXG4gICAgZnJvbSB7XFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbml0aWFsO1xcbiAgICB9XFxuICAgIHRvIHtcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLCAwLjIpO1xcbiAgICB9XFxufVxcblxcbkBrZXlmcmFtZXMgYmxpbmstYmFja2dyb3VuZC1jb2xvciB7XFxuICAgIGZyb20ge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5pdGlhbDtcXG4gICAgfVxcbiAgICB0byB7XFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC4yKTtcXG4gICAgfVxcbn1cXG5cXG5cXG4vKiBPdGhlcnMgKi9cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuaW52aXNpYmxlIHtcXG4gICAgdmlzaWJpbGl0eTogY29sbGFwc2U7XFxufVxcblxcblxcbi8qIFRpcHMgKi9cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuaDVwLXRpcC1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICByaWdodDogMC40ZW07XFxuICBmb250LXNpemU6IDFlbTtcXG59XFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmJsYW5rLmhhcy10aXA6bm90KC5jb3JyZWN0KTpub3QoLmVycm9yKTpub3QoLnJldHJ5KSAuaDVwLXRleHQtaW5wdXQge1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAyLjI1ZW07XFxufVxcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5ibGFuay5oYXMtdGlwLmNvcnJlY3QgLmg1cC1pbnB1dC13cmFwcGVyOmFmdGVyLFxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5ibGFuay5oYXMtdGlwLmVycm9yIC5oNXAtaW5wdXQtd3JhcHBlcjphZnRlcixcXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuYmxhbmsuaGFzLXRpcC5yZXRyeSAuaDVwLWlucHV0LXdyYXBwZXI6YWZ0ZXIge1xcbiAgICByaWdodDogMi4yNWVtO1xcbn1cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuYmxhbmsuY29ycmVjdC5oYXMtdGlwIC5oNXAtdGV4dC1pbnB1dCxcXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuYmxhbmsuZXJyb3IuaGFzLXRpcCAuaDVwLXRleHQtaW5wdXQsXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmJsYW5rLnJldHJ5Lmhhcy10aXAgLmg1cC10ZXh0LWlucHV0IHtcXG4gICAgcGFkZGluZy1yaWdodDogMy41ZW07XFxufVxcblxcbi8qIGltcHJvdmVzIGFwcGVhcmFuY2Ugb2YgaDVwIHRpcCBzaGFkb3dzICovXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmpvdWJlbC1pY29uLXRpcC1ub3JtYWwgLmg1cC1pY29uLXNoYWRvdzpiZWZvcmUge1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgb3BhY2l0eTogMC4xMztcXG59XFxuXFxuLyogcGVuZGluZyBmZWVkYmFjayBtYXJrZXIgKi9cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuaDVwLWFkdmFuY2VkLWJsYW5rcy1zZWxlY3QtbW9kZSAuYmxhbms6bm90KC5oYXMtcGVuZGluZy1mZWVkYmFjaykgYnV0dG9uLmg1cC1ub3RpZmljYXRpb24ge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuaDVwLWFkdmFuY2VkLWJsYW5rcy1zZWxlY3QtbW9kZSAuYmxhbmsuaGFzLXBlbmRpbmctZmVlZGJhY2sgYnV0dG9uLmg1cC1ub3RpZmljYXRpb24ge1xcbiAgICBmb250LXNpemU6IGxhcmdlOyAgICBcXG59XFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmg1cC1hZHZhbmNlZC1ibGFua3Mtc2VsZWN0LW1vZGUgLmJsYW5rLmhhcy1wZW5kaW5nLWZlZWRiYWNrIGJ1dHRvbi5oNXAtbm90aWZpY2F0aW9uLFxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5oNXAtYWR2YW5jZWQtYmxhbmtzLXR5cGUtbW9kZSAuYmxhbmsuaGFzLXBlbmRpbmctZmVlZGJhY2sgLmg1cC1pbnB1dC13cmFwcGVyOmJlZm9yZSB7XFxuICAgIGZvbnQtZmFtaWx5OiAnSDVQRm9udEF3ZXNvbWU0JztcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgICBhbmltYXRpb246IHNoYWtlIDNzIGN1YmljLWJlemllciguMzYsIC4wNywgLjE5LCAuOTcpIHJldmVyc2U7XFxuICAgIC13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMjtcXG4gICAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAyO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcXG4gICAgICAgICAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XFxuICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XFxufVxcblxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5oNXAtYWR2YW5jZWQtYmxhbmtzLXR5cGUtbW9kZSAuYmxhbmsuaGFzLXBlbmRpbmctZmVlZGJhY2sgLmg1cC1pbnB1dC13cmFwcGVyOmJlZm9yZSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogLTAuNGVtO1xcbiAgICB0b3A6IC0wLjdlbTtcXG4gICAgY29udGVudDogXFxcIlxcXFxmMDVhXFxcIjtcXG59XFxuXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmg1cC1hZHZhbmNlZC1ibGFua3Mtc2VsZWN0LW1vZGUgLmJsYW5rLmVycm9yLmhhcy1wZW5kaW5nLWZlZWRiYWNrIGJ1dHRvbi5oNXAtbm90aWZpY2F0aW9uLFxcbi5oNXAtYWR2YW5jZWQtYmxhbmtzIC5oNXAtYWR2YW5jZWQtYmxhbmtzLXR5cGUtbW9kZSAuYmxhbmsuZXJyb3IuaGFzLXBlbmRpbmctZmVlZGJhY2sgLmg1cC1pbnB1dC13cmFwcGVyOmJlZm9yZSB7XFxuICAgIGNvbG9yOiAjYjcxYzFjO1xcbn1cXG5cXG4uaDVwLWFkdmFuY2VkLWJsYW5rcyAuaDVwLWFkdmFuY2VkLWJsYW5rcy1zZWxlY3QtbW9kZSAuYmxhbmsucmV0cnkuaGFzLXBlbmRpbmctZmVlZGJhY2sgYnV0dG9uLmg1cC1ub3RpZmljYXRpb24sXFxuLmg1cC1hZHZhbmNlZC1ibGFua3MgLmg1cC1hZHZhbmNlZC1ibGFua3MtdHlwZS1tb2RlIC5ibGFuay5yZXRyeS5oYXMtcGVuZGluZy1mZWVkYmFjayAuaDVwLWlucHV0LXdyYXBwZXI6YmVmb3JlIHtcXG4gICAgY29sb3I6ICNmZmZmMDA7XFxuICAgIHRleHQtc2hhZG93OiAwcHggMHB4IDAuNWVtIGJsYWNrO1xcbn1cXG5cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2hha2Uge1xcbiAgICAyJSxcXG4gICAgMjAlIHtcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTAuNXB4LCAwLCAwKTtcXG4gICAgfVxcbiAgICA0JSxcXG4gICAgMTclIHtcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMXB4LCAwLCAwKTtcXG4gICAgfVxcbiAgICA2JSxcXG4gICAgMTAlLFxcbiAgICAxNSUge1xcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMnB4LCAwLCAwKTtcXG4gICAgfVxcbiAgICA5JSxcXG4gICAgMTMlIHtcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMnB4LCAwLCAwKTtcXG4gICAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIHNoYWtlIHtcXG4gICAgMiUsXFxuICAgIDIwJSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0wLjVweCwgMCwgMCk7XFxuICAgIH1cXG4gICAgNCUsXFxuICAgIDE3JSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDFweCwgMCwgMCk7XFxuICAgIH1cXG4gICAgNiUsXFxuICAgIDEwJSxcXG4gICAgMTUlIHtcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTJweCwgMCwgMCk7XFxuICAgIH1cXG4gICAgOSUsXFxuICAgIDEzJSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDJweCwgMCwgMCk7XFxuICAgIH1cXG59XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsImltcG9ydCB7IEJsYW5rTG9hZGVyIH0gZnJvbSAnLi9jb250ZW50LWxvYWRlcnMvYmxhbmstbG9hZGVyJztcbmltcG9ydCB7IEg1UERhdGFSZXBvc2l0b3J5LCBJRGF0YVJlcG9zaXRvcnkgfSBmcm9tICcuL3NlcnZpY2VzL2RhdGEtcmVwb3NpdG9yeSc7XG5pbXBvcnQgeyBDbG96ZUNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXJzL2Nsb3plLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgSDVQTG9jYWxpemF0aW9uLCBMb2NhbGl6YXRpb25MYWJlbHMsIExvY2FsaXphdGlvblN0cnVjdHVyZXMgfSBmcm9tIFwiLi9zZXJ2aWNlcy9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IElTZXR0aW5ncywgSDVQU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXJ2aWNlcy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgTWVzc2FnZVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL21lc3NhZ2Utc2VydmljZSc7XG5pbXBvcnQgeyBVbnJ3YXBwZXIgfSBmcm9tICcuL2hlbHBlcnMvdW53cmFwcGVyJztcbmltcG9ydCB7IFhBUElBY3Rpdml0eURlZmluaXRpb24gfSBmcm9tICcuL21vZGVscy94YXBpJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4vaGVscGVycy9leHRlbmQnO1xuXG5lbnVtIFN0YXRlcyB7XG4gIG9uZ29pbmcgPSAnb25nb2luZycsXG4gIGNoZWNraW5nID0gJ2NoZWNraW5nJyxcbiAgc2hvd2luZ1NvbHV0aW9ucyA9ICdzaG93aW5nLXNvbHV0aW9uJyxcbiAgZmluaXNoZWQgPSAnZmluaXNoZWQnLFxuICBzaG93aW5nU29sdXRpb25zRW1iZWRkZWQgPSAnc2hvd2luZy1zb2x1dGlvbi1lbWJlZGRlZCdcbn1cblxuY29uc3QgWEFQSV9BTFRFUk5BVElWRV9FWFRFTlNJT04gPSAnaHR0cHM6Ly9oNXAub3JnL3gtYXBpL2FsdGVybmF0aXZlcyc7XG5jb25zdCBYQVBJX0NBU0VfU0VOU0lUSVZJVFkgPSAnaHR0cHM6Ly9oNXAub3JnL3gtYXBpL2Nhc2Utc2Vuc2l0aXZpdHknO1xuY29uc3QgWEFQSV9SRVBPUlRJTkdfVkVSU0lPTl9FWFRFTlNJT04gPSAnaHR0cHM6Ly9oNXAub3JnL3gtYXBpL2g1cC1yZXBvcnRpbmctdmVyc2lvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkdmFuY2VkQmxhbmtzIGV4dGVuZHMgKEg1UC5RdWVzdGlvbiBhcyB7IG5ldygpOiBhbnk7IH0pIHtcblxuICBwcml2YXRlIGNsb3plQ29udHJvbGxlcjogQ2xvemVDb250cm9sbGVyO1xuICBwcml2YXRlIHJlcG9zaXRvcnk6IElEYXRhUmVwb3NpdG9yeTtcbiAgcHJpdmF0ZSBzZXR0aW5nczogSVNldHRpbmdzO1xuICBwcml2YXRlIGxvY2FsaXphdGlvbjogSDVQTG9jYWxpemF0aW9uO1xuICBwcml2YXRlIG1lc3NhZ2VTZXJ2aWNlOiBNZXNzYWdlU2VydmljZTtcblxuICBwcml2YXRlIGpRdWVyeTtcblxuICBwcml2YXRlIGNvbnRlbnRJZDogc3RyaW5nO1xuICBwcml2YXRlIHByZXZpb3VzU3RhdGU6IGFueTtcbiAgcHJpdmF0ZSBzdGF0ZTogU3RhdGVzO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdXNlciBoYXMgZW50ZXJlZCBhbnkgYW5zd2VyIHNvIGZhci5cbiAgICovXG4gIHByaXZhdGUgYW5zd2VyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWdcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRJZFxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGVudERhdGFcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogYW55LCBjb250ZW50SWQ6IHN0cmluZywgY29udGVudERhdGE6IGFueSA9IHt9KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8vIFNldCBtYW5kYXRvcnkgZGVmYXVsdCB2YWx1ZXMgZm9yIGVkaXRvciB3aWRnZXRzIHRoYXQgY3JlYXRlIGNvbnRlbnQgdHlwZSBpbnN0YW5jZXNcbiAgICBjb25maWcgPSBleHRlbmQoe1xuICAgICAgY29udGVudDoge1xuICAgICAgICBibGFua3NUZXh0OiAnJ1xuICAgICAgfSxcbiAgICAgIGJlaGF2aW91cjoge1xuICAgICAgICBtb2RlOiAndHlwaW5nJyxcbiAgICAgICAgc2VsZWN0QWx0ZXJuYXRpdmVzOiAnYWx0ZXJuYXRpdmVzJ1xuICAgICAgfVxuICAgIH0sIGNvbmZpZyk7XG5cbiAgICB0aGlzLmpRdWVyeSA9IEg1UC5qUXVlcnk7XG4gICAgdGhpcy5jb250ZW50SWQgPSBjb250ZW50SWQ7XG5cbiAgICBsZXQgdW53cmFwcGVyID0gbmV3IFVucndhcHBlcih0aGlzLmpRdWVyeSk7XG5cbiAgICB0aGlzLnNldHRpbmdzID0gbmV3IEg1UFNldHRpbmdzKGNvbmZpZyk7XG4gICAgdGhpcy5sb2NhbGl6YXRpb24gPSBuZXcgSDVQTG9jYWxpemF0aW9uKGNvbmZpZyk7XG4gICAgdGhpcy5yZXBvc2l0b3J5ID0gbmV3IEg1UERhdGFSZXBvc2l0b3J5KGNvbmZpZywgdGhpcy5zZXR0aW5ncywgdGhpcy5sb2NhbGl6YXRpb24sIDxKUXVlcnlTdGF0aWM+dGhpcy5qUXVlcnksIHVud3JhcHBlcik7XG4gICAgdGhpcy5tZXNzYWdlU2VydmljZSA9IG5ldyBNZXNzYWdlU2VydmljZSh0aGlzLmpRdWVyeSk7XG4gICAgQmxhbmtMb2FkZXIuaW5pdGlhbGl6ZSh0aGlzLnNldHRpbmdzLCB0aGlzLmxvY2FsaXphdGlvbiwgdGhpcy5qUXVlcnksIHRoaXMubWVzc2FnZVNlcnZpY2UpO1xuXG4gICAgdGhpcy5jbG96ZUNvbnRyb2xsZXIgPSBuZXcgQ2xvemVDb250cm9sbGVyKHRoaXMucmVwb3NpdG9yeSwgdGhpcy5zZXR0aW5ncywgdGhpcy5sb2NhbGl6YXRpb24sIHRoaXMubWVzc2FnZVNlcnZpY2UpO1xuXG4gICAgdGhpcy5jbG96ZUNvbnRyb2xsZXIub25TY29yZUNoYW5nZWQgPSB0aGlzLm9uU2NvcmVDaGFuZ2VkO1xuICAgIHRoaXMuY2xvemVDb250cm9sbGVyLm9uU29sdmVkID0gdGhpcy5vblNvbHZlZDtcbiAgICB0aGlzLmNsb3plQ29udHJvbGxlci5vbkF1dG9DaGVja2VkID0gdGhpcy5vbkF1dG9DaGVja2VkO1xuICAgIHRoaXMuY2xvemVDb250cm9sbGVyLm9uVHlwZWQgPSB0aGlzLm9uVHlwZWQ7XG5cbiAgICBpZiAoY29udGVudERhdGEgJiYgY29udGVudERhdGEucHJldmlvdXNTdGF0ZSlcbiAgICAgIHRoaXMucHJldmlvdXNTdGF0ZSA9IGNvbnRlbnREYXRhLnByZXZpb3VzU3RhdGU7XG5cbiAgICAvKipcbiAgICAqIE92ZXJyaWRlcyB0aGUgYXR0YWNoIG1ldGhvZCBvZiB0aGUgc3VwZXJjbGFzcyAoSDVQLlF1ZXN0aW9uKSBhbmQgY2FsbHMgaXRcbiAgICAqIGF0IHRoZSBzYW1lIHRpbWUuIChlcXVpdmFsZW50IHRvIHN1cGVyLmF0dGFjaCgkY29udGFpbmVyKSkuXG4gICAgKiBUaGlzIGlzIG5lY2Vzc2FyeSwgYXMgUmFjdGl2ZSBuZWVkcyB0byBiZSBpbml0aWFsaXplZCB3aXRoIGFuIGV4aXN0aW5nIERPTVxuICAgICogZWxlbWVudC4gRE9NIGVsZW1lbnRzIGFyZSBjcmVhdGVkIGluIEg1UC5RdWVzdGlvbi5hdHRhY2gsIHNvIGluaXRpYWxpemluZ1xuICAgICogUmFjdGl2ZSBpbiByZWdpc3RlckRvbUVsZW1lbnRzIGRvZXNuJ3Qgd29yay5cbiAgICAqL1xuICAgIHRoaXMuYXR0YWNoID0gKChvcmlnaW5hbCkgPT4ge1xuICAgICAgcmV0dXJuICgkY29udGFpbmVyKSA9PiB7XG4gICAgICAgIG9yaWdpbmFsKCRjb250YWluZXIpO1xuICAgICAgICB0aGlzLmNsb3plQ29udHJvbGxlci5pbml0aWFsaXplKHRoaXMuY29udGFpbmVyLmdldCgwKSwgJGNvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLmNsb3plQ29udHJvbGxlci5kZXNlcmlhbGl6ZUNsb3plKHRoaXMucHJldmlvdXNTdGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLmFuc3dlcmVkID0gdGhpcy5jbG96ZUNvbnRyb2xsZXIuaXNGaWxsZWRPdXQ7XG4gICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYXV0b0NoZWNrKVxuICAgICAgICAgICAgdGhpcy5vbkNoZWNrQW5zd2VyKCk7XG4gICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25WaXNpYmlsaXR5KHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkodGhpcy5hdHRhY2gpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBmcm9tIG91dHNpZGUgd2hlbiB0aGUgc2NvcmUgb2YgdGhlIGNsb3plIGhhcyBjaGFuZ2VkLlxuICAgKi9cbiAgcHJpdmF0ZSBvblNjb3JlQ2hhbmdlZCA9IChzY29yZTogbnVtYmVyLCBtYXhTY29yZTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHRoaXMuY2xvemVDb250cm9sbGVyLmlzRnVsbHlGaWxsZWRPdXQpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblN0YXRlKCk7XG4gICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU3RhdGVzLmZpbmlzaGVkKVxuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGVzLmNoZWNraW5nO1xuICAgICAgdGhpcy5zaG93RmVlZGJhY2soKTtcblxuICAgICAgLy8gU2VuZCBzY3JlZW5zaG90IHRvIHNlcnZlclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChINVAgJiYgSDVQLktMU2NyZWVuc2hvdCkge1xuICAgICAgICAgIEg1UC5LTFNjcmVlbnNob3QudGFrZVNjcmVlbnNob3QoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5nZXRINXBDb250YWluZXIoKS5nZXQoMClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LCAyNTApOyAvLyBBbGxvdyBidXR0b25zIHRvIHVwZGF0ZVxuXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZXRGZWVkYmFjayhcIlwiLCBzY29yZSwgbWF4U2NvcmUpO1xuICAgIH1cbiAgICB0aGlzLnRyYW5zaXRpb25TdGF0ZSgpO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uVmlzaWJpbGl0eSh0aGlzLnN0YXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgb25Tb2x2ZWQoKSB7XG5cbiAgfVxuXG4gIHByaXZhdGUgb25UeXBlZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGVzLmNoZWNraW5nKSB7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGVzLm9uZ29pbmc7XG4gICAgICB0aGlzLnRvZ2dsZUJ1dHRvblZpc2liaWxpdHkodGhpcy5zdGF0ZSk7XG4gICAgfVxuICAgIHRoaXMudHJpZ2dlclhBUEkoJ2ludGVyYWN0ZWQnKTtcbiAgICB0aGlzLmFuc3dlcmVkID0gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgb25BdXRvQ2hlY2tlZCA9ICgpID0+IHtcbiAgICB0aGlzLnRyaWdnZXJYQVBJKCdpbnRlcmFjdGVkJyk7XG4gICAgdGhpcy50cmlnZ2VyWEFQSUFuc3dlcmVkKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IEg1UC5RdWVzdGlvbi5hdHRhY2goKS4gQ3JlYXRlcyBhbGwgY29udGVudCBlbGVtZW50cyBhbmQgcmVnaXN0ZXJzIHRoZW1cbiAgICogd2l0aCBINVAuUXVlc3Rpb24uXG4gICAqL1xuICByZWdpc3RlckRvbUVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucmVnaXN0ZXJNZWRpYSgpO1xuICAgIHRoaXMuc2V0SW50cm9kdWN0aW9uKHRoaXMucmVwb3NpdG9yeS5nZXRUYXNrRGVzY3JpcHRpb24oKSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMualF1ZXJ5KFwiPGRpdi8+XCIsIHsgXCJjbGFzc1wiOiBcImg1cC1hZHZhbmNlZC1ibGFua3NcIiB9KTtcbiAgICB0aGlzLnNldENvbnRlbnQodGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMucmVnaXN0ZXJCdXR0b25zKCk7XG5cbiAgICB0aGlzLm1vdmVUb1N0YXRlKFN0YXRlcy5vbmdvaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBKUXVlcnkgLSBUaGUgb3V0ZXIgaDVwIGNvbnRhaW5lci4gVGhlIGxpYnJhcnkgY2FuIGFkZCBkaWFsb2d1ZXMgdG8gdGhpc1xuICAgKiBlbGVtZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRINXBDb250YWluZXIoKTogSlF1ZXJ5IHtcbiAgICB2YXIgJGNvbnRlbnQgPSB0aGlzLmpRdWVyeSgnW2RhdGEtY29udGVudC1pZD1cIicgKyB0aGlzLmNvbnRlbnRJZCArICdcIl0uaDVwLWNvbnRlbnQnKTtcbiAgICB2YXIgJGNvbnRhaW5lclBhcmVudHMgPSAkY29udGVudC5wYXJlbnRzKCcuaDVwLWNvbnRhaW5lcicpO1xuXG4gICAgLy8gc2VsZWN0IGZpbmQgY29udGFpbmVyIHRvIGF0dGFjaCBkaWFsb2dzIHRvXG4gICAgdmFyICRjb250YWluZXI7XG4gICAgaWYgKCRjb250YWluZXJQYXJlbnRzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgLy8gdXNlIHBhcmVudCBoaWdoZXN0IHVwIGlmIGFueVxuICAgICAgJGNvbnRhaW5lciA9ICRjb250YWluZXJQYXJlbnRzLmxhc3QoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJGNvbnRlbnQubGVuZ3RoICE9PSAwKSB7XG4gICAgICAkY29udGFpbmVyID0gJGNvbnRlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJGNvbnRhaW5lciA9IHRoaXMualF1ZXJ5KGRvY3VtZW50LmJvZHkpO1xuICAgIH1cblxuICAgIHJldHVybiAkY29udGFpbmVyO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3Rlck1lZGlhKCkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZWRpYSgpO1xuICAgIGlmICghbWVkaWEgfHwgIW1lZGlhLmxpYnJhcnkpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgdHlwZSA9IG1lZGlhLmxpYnJhcnkuc3BsaXQoJyAnKVswXTtcbiAgICBpZiAodHlwZSA9PT0gJ0g1UC5JbWFnZScpIHtcbiAgICAgIGlmIChtZWRpYS5wYXJhbXMuZmlsZSkge1xuICAgICAgICB0aGlzLnNldEltYWdlKG1lZGlhLnBhcmFtcy5maWxlLnBhdGgsIHtcbiAgICAgICAgICBkaXNhYmxlSW1hZ2Vab29taW5nOiB0aGlzLnNldHRpbmdzLmRpc2FibGVJbWFnZVpvb21pbmcsXG4gICAgICAgICAgYWx0OiBtZWRpYS5wYXJhbXMuYWx0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnSDVQLlZpZGVvJykge1xuICAgICAgaWYgKG1lZGlhLnBhcmFtcy5zb3VyY2VzKSB7XG4gICAgICAgIHRoaXMuc2V0VmlkZW8obWVkaWEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJCdXR0b25zKCkge1xuICAgIHZhciAkY29udGFpbmVyID0gdGhpcy5nZXRINXBDb250YWluZXIoKTtcblxuICAgIGlmICghdGhpcy5zZXR0aW5ncy5hdXRvQ2hlY2spIHtcbiAgICAgIC8vIENoZWNrIGFuc3dlciBidXR0b25cbiAgICAgIHRoaXMuYWRkQnV0dG9uKCdjaGVjay1hbnN3ZXInLCB0aGlzLmxvY2FsaXphdGlvbi5nZXRUZXh0RnJvbUxhYmVsKExvY2FsaXphdGlvbkxhYmVscy5jaGVja0FsbEJ1dHRvbiksXG4gICAgICAgIHRoaXMub25DaGVja0Fuc3dlciwgdHJ1ZSwge30sIHtcbiAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nOiB7XG4gICAgICAgICAgZW5hYmxlOiB0aGlzLnNldHRpbmdzLmNvbmZpcm1DaGVja0RpYWxvZyxcbiAgICAgICAgICBsMTBuOiB0aGlzLmxvY2FsaXphdGlvbi5nZXRPYmplY3RGb3JTdHJ1Y3R1cmUoTG9jYWxpemF0aW9uU3RydWN0dXJlcy5jb25maXJtQ2hlY2spLFxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLFxuICAgICAgICAgICRwYXJlbnRFbGVtZW50OiAkY29udGFpbmVyXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3cgc29sdXRpb24gYnV0dG9uXG4gICAgdGhpcy5hZGRCdXR0b24oJ3Nob3ctc29sdXRpb24nLCB0aGlzLmxvY2FsaXphdGlvbi5nZXRUZXh0RnJvbUxhYmVsKExvY2FsaXphdGlvbkxhYmVscy5zaG93U29sdXRpb25CdXR0b24pLFxuICAgICAgdGhpcy5vblNob3dTb2x1dGlvbiwgdGhpcy5zZXR0aW5ncy5lbmFibGVTb2x1dGlvbnNCdXR0b24pO1xuXG4gICAgLy8gVHJ5IGFnYWluIGJ1dHRvblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVJldHJ5ID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmFkZEJ1dHRvbigndHJ5LWFnYWluJywgdGhpcy5sb2NhbGl6YXRpb24uZ2V0VGV4dEZyb21MYWJlbChMb2NhbGl6YXRpb25MYWJlbHMucmV0cnlCdXR0b24pLFxuICAgICAgICB0aGlzLm9uUmV0cnksIHRydWUsIHt9LCB7XG4gICAgICAgIGNvbmZpcm1hdGlvbkRpYWxvZzoge1xuICAgICAgICAgIGVuYWJsZTogdGhpcy5zZXR0aW5ncy5jb25maXJtUmV0cnlEaWFsb2csXG4gICAgICAgICAgbDEwbjogdGhpcy5sb2NhbGl6YXRpb24uZ2V0T2JqZWN0Rm9yU3RydWN0dXJlKExvY2FsaXphdGlvblN0cnVjdHVyZXMuY29uZmlybVJldHJ5KSxcbiAgICAgICAgICBpbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICAkcGFyZW50RWxlbWVudDogJGNvbnRhaW5lclxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uQ2hlY2tBbnN3ZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5jbG96ZUNvbnRyb2xsZXIuY2hlY2tBbGwoKTtcblxuICAgIHRoaXMudHJpZ2dlclhBUEkoJ2ludGVyYWN0ZWQnKTtcbiAgICB0aGlzLnRyaWdnZXJYQVBJQW5zd2VyZWQoKTtcblxuICAgIHRoaXMudHJhbnNpdGlvblN0YXRlKCk7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IFN0YXRlcy5maW5pc2hlZClcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZXMuY2hlY2tpbmc7XG5cbiAgICB0aGlzLnNob3dGZWVkYmFjaygpO1xuXG4gICAgdGhpcy50b2dnbGVCdXR0b25WaXNpYmlsaXR5KHRoaXMuc3RhdGUpO1xuICB9XG5cbiAgcHJpdmF0ZSB0cmFuc2l0aW9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuY2xvemVDb250cm9sbGVyLmlzU29sdmVkKSB7XG4gICAgICB0aGlzLm1vdmVUb1N0YXRlKFN0YXRlcy5maW5pc2hlZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvblNob3dTb2x1dGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLm1vdmVUb1N0YXRlKFN0YXRlcy5zaG93aW5nU29sdXRpb25zKTtcbiAgICB0aGlzLmNsb3plQ29udHJvbGxlci5zaG93U29sdXRpb25zKCk7XG4gICAgdGhpcy5zaG93RmVlZGJhY2soKTtcbiAgfVxuXG4gIHByaXZhdGUgb25SZXRyeSA9ICgpID0+IHtcbiAgICB0aGlzLnJlbW92ZUZlZWRiYWNrKCk7XG4gICAgdGhpcy5jbG96ZUNvbnRyb2xsZXIucmVzZXQoKTtcbiAgICB0aGlzLmFuc3dlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5tb3ZlVG9TdGF0ZShTdGF0ZXMub25nb2luZyk7XG4gIH1cblxuICBwcml2YXRlIHNob3dGZWVkYmFjaygpIHtcbiAgICB2YXIgc2NvcmVUZXh0ID0gSDVQLlF1ZXN0aW9uLmRldGVybWluZU92ZXJhbGxGZWVkYmFjayh0aGlzLmxvY2FsaXphdGlvbi5nZXRPYmplY3RGb3JTdHJ1Y3R1cmUoTG9jYWxpemF0aW9uU3RydWN0dXJlcy5vdmVyYWxsRmVlZGJhY2spLCB0aGlzLmNsb3plQ29udHJvbGxlci5jdXJyZW50U2NvcmUgLyB0aGlzLmNsb3plQ29udHJvbGxlci5tYXhTY29yZSkucmVwbGFjZSgnQHNjb3JlJywgdGhpcy5jbG96ZUNvbnRyb2xsZXIuY3VycmVudFNjb3JlKS5yZXBsYWNlKCdAdG90YWwnLCB0aGlzLmNsb3plQ29udHJvbGxlci5tYXhTY29yZSk7XG4gICAgdGhpcy5zZXRGZWVkYmFjayhzY29yZVRleHQsIHRoaXMuY2xvemVDb250cm9sbGVyLmN1cnJlbnRTY29yZSwgdGhpcy5jbG96ZUNvbnRyb2xsZXIubWF4U2NvcmUsIHRoaXMubG9jYWxpemF0aW9uLmdldFRleHRGcm9tTGFiZWwoTG9jYWxpemF0aW9uTGFiZWxzLnNjb3JlQmFyTGFiZWwpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyBhcmUgaGlkZXMgYnV0dG9ucyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgc3RhdGUgYW5kIHNldHRpbmdzIG1hZGVcbiAgICogYnkgdGhlIGNvbnRlbnQgY3JlYXRvci5cbiAgICogQHBhcmFtICB7U3RhdGVzfSBzdGF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBtb3ZlVG9TdGF0ZShzdGF0ZTogU3RhdGVzKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uVmlzaWJpbGl0eShzdGF0ZSk7XG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZUJ1dHRvblZpc2liaWxpdHkoc3RhdGU6IFN0YXRlcykge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVNvbHV0aW9uc0J1dHRvbikge1xuICAgICAgaWYgKCgoc3RhdGUgPT09IFN0YXRlcy5jaGVja2luZylcbiAgICAgICAgfHwgKHRoaXMuc2V0dGluZ3MuYXV0b0NoZWNrICYmIHN0YXRlID09PSBTdGF0ZXMub25nb2luZykpXG4gICAgICAgICYmICghdGhpcy5zZXR0aW5ncy5zaG93U29sdXRpb25zUmVxdWlyZXNJbnB1dCB8fCB0aGlzLmNsb3plQ29udHJvbGxlci5hbGxCbGFua3NFbnRlcmVkKSkge1xuICAgICAgICB0aGlzLnNob3dCdXR0b24oJ3Nob3ctc29sdXRpb24nKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmhpZGVCdXR0b24oJ3Nob3ctc29sdXRpb24nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVSZXRyeSAmJiAoc3RhdGUgPT09IFN0YXRlcy5jaGVja2luZyB8fCBzdGF0ZSA9PT0gU3RhdGVzLmZpbmlzaGVkIHx8IHN0YXRlID09PSBTdGF0ZXMuc2hvd2luZ1NvbHV0aW9ucykpIHtcbiAgICAgIHRoaXMuc2hvd0J1dHRvbigndHJ5LWFnYWluJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5oaWRlQnV0dG9uKCd0cnktYWdhaW4nKTtcbiAgICB9XG5cblxuICAgIGlmIChzdGF0ZSA9PT0gU3RhdGVzLm9uZ29pbmcgJiYgdGhpcy5zZXR0aW5ncy5lbmFibGVDaGVja0J1dHRvbikge1xuICAgICAgdGhpcy5zaG93QnV0dG9uKCdjaGVjay1hbnN3ZXInKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmhpZGVCdXR0b24oJ2NoZWNrLWFuc3dlcicpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZSA9PT0gU3RhdGVzLnNob3dpbmdTb2x1dGlvbnNFbWJlZGRlZCkge1xuICAgICAgdGhpcy5oaWRlQnV0dG9uKCdjaGVjay1hbnN3ZXInKTtcbiAgICAgIHRoaXMuaGlkZUJ1dHRvbigndHJ5LWFnYWluJyk7XG4gICAgICB0aGlzLmhpZGVCdXR0b24oJ3Nob3ctc29sdXRpb24nKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ3Jlc2l6ZScpO1xuICB9XG5cbiAgcHVibGljIGdldEN1cnJlbnRTdGF0ZSA9ICgpOiBzdHJpbmdbXSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY2xvemVDb250cm9sbGVyLnNlcmlhbGl6ZUNsb3plKCk7XG4gIH07XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogSW1wbGVtZW50YXRpb24gb2YgUXVlc3Rpb24gY29udHJhY3QgICpcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIHB1YmxpYyBnZXRBbnN3ZXJHaXZlbiA9ICgpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gdGhpcy5hbnN3ZXJlZCB8fCB0aGlzLmNsb3plQ29udHJvbGxlci5tYXhTY29yZSA9PT0gMDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTY29yZSA9ICgpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiB0aGlzLmNsb3plQ29udHJvbGxlci5jdXJyZW50U2NvcmU7XG4gIH1cblxuICBwdWJsaWMgZ2V0TWF4U2NvcmUgPSAoKTogbnVtYmVyID0+IHtcbiAgICByZXR1cm4gdGhpcy5jbG96ZUNvbnRyb2xsZXIubWF4U2NvcmU7XG4gIH1cblxuICBwdWJsaWMgc2hvd1NvbHV0aW9ucyA9ICgpID0+IHtcbiAgICB0aGlzLm9uU2hvd1NvbHV0aW9uKCk7XG4gICAgdGhpcy5tb3ZlVG9TdGF0ZShTdGF0ZXMuc2hvd2luZ1NvbHV0aW9uc0VtYmVkZGVkKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldFRhc2sgPSAoKSA9PiB7XG4gICAgdGhpcy5vblJldHJ5KCk7XG4gIH1cblxuICAvKioqXG4gICAqIFhBcGkgaW1wbGVtZW50YXRpb25cbiAgICovXG5cblxuICAvKipcbiAgICogVHJpZ2dlciB4QVBJIGFuc3dlcmVkIGV2ZW50XG4gICAqL1xuICBwdWJsaWMgdHJpZ2dlclhBUElBbnN3ZXJlZCA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLmFuc3dlcmVkID0gdHJ1ZTtcbiAgICB2YXIgeEFQSUV2ZW50ID0gdGhpcy5jcmVhdGVYQVBJRXZlbnRUZW1wbGF0ZSgnYW5zd2VyZWQnKTtcbiAgICB0aGlzLmFkZFF1ZXN0aW9uVG9YQVBJKHhBUElFdmVudCk7XG4gICAgdGhpcy5hZGRSZXNwb25zZVRvWEFQSSh4QVBJRXZlbnQpO1xuICAgIHRoaXMudHJpZ2dlcih4QVBJRXZlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgeEFQSSBkYXRhLlxuICAgKiBDb250cmFjdCB1c2VkIGJ5IHJlcG9ydCByZW5kZXJpbmcgZW5naW5lLlxuICAgKlxuICAgKiBAc2VlIGNvbnRyYWN0IGF0IHtAbGluayBodHRwczovL2g1cC5vcmcvZG9jdW1lbnRhdGlvbi9kZXZlbG9wZXJzL2NvbnRyYWN0cyNndWlkZXMtaGVhZGVyLTZ9XG4gICAqL1xuICBwdWJsaWMgZ2V0WEFQSURhdGEgPSAoKSA9PiB7XG4gICAgdmFyIHhBUElFdmVudCA9IHRoaXMuY3JlYXRlWEFQSUV2ZW50VGVtcGxhdGUoJ2Fuc3dlcmVkJyk7XG4gICAgdGhpcy5hZGRRdWVzdGlvblRvWEFQSSh4QVBJRXZlbnQpO1xuICAgIHRoaXMuYWRkUmVzcG9uc2VUb1hBUEkoeEFQSUV2ZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdGVtZW50OiB4QVBJRXZlbnQuZGF0YS5zdGF0ZW1lbnRcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB4QVBJIG9iamVjdCBkZWZpbml0aW9uIHVzZWQgaW4geEFQSSBzdGF0ZW1lbnRzLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBwdWJsaWMgZ2V0eEFQSURlZmluaXRpb24gPSAoKTogWEFQSUFjdGl2aXR5RGVmaW5pdGlvbiA9PiB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IG5ldyBYQVBJQWN0aXZpdHlEZWZpbml0aW9uKCk7XG5cbiAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uID0ge1xuICAgICAgJ2VuLVVTJzogJzxwPicgKyB0aGlzLnJlcG9zaXRvcnkuZ2V0VGFza0Rlc2NyaXB0aW9uKCkgKyAnPC9wPicgKyB0aGlzLnJlcG9zaXRvcnkuZ2V0Q2xvemVUZXh0KCkucmVwbGFjZSgvX18oXykrL2csICdfX19fX19fX19fJylcbiAgICB9O1xuXG4gICAgZGVmaW5pdGlvbi50eXBlID0gJ2h0dHA6Ly9hZGxuZXQuZ292L2V4cGFwaS9hY3Rpdml0aWVzL2NtaS5pbnRlcmFjdGlvbic7XG4gICAgZGVmaW5pdGlvbi5pbnRlcmFjdGlvblR5cGUgPSAnZmlsbC1pbic7IC8vIFdlIHVzZSB0aGUgJ2ZpbGwtaW4nIHR5cGUgZXZlbiBpbiBzZWxlY3QgbW9kZSwgYXMgdGhlIHhBUEkgZm9ybWF0IGZvciBzZWxlY3Rpb25zIGRvZXNuJ3QgcmVhbGx5IGNhdGVyIGZvciBzZXF1ZW5jZXMuXG5cbiAgICBjb25zdCBjb3JyZWN0UmVzcG9uc2VzUGF0dGVyblByZWZpeCA9ICd7Y2FzZV9tYXR0ZXJzPScgKyB0aGlzLnNldHRpbmdzLmNhc2VTZW5zaXRpdmUgKyAnfSc7XG5cbiAgICBjb25zdCBjb3JyZWN0QW5zd2VyTGlzdCA9IHRoaXMuY2xvemVDb250cm9sbGVyLmdldENvcnJlY3RBbnN3ZXJMaXN0KCk7XG5cbiAgICAvLyBINVAgdXNlcyBleHRlbnNpb24gaW5zdGVhZCBvZiBmdWxsIGNvcnJlY3QgcmVzcG9uc2VzIHBhdHRlcm4gdG8gY291bnRlciBjb21wbGV4aXR5XG4gICAgY29uc3QgZmlyc3RBbHRlcm5hdGl2ZXMgPSBjb3JyZWN0QW5zd2VyTGlzdC5yZWR1Y2UoKHJlc3VsdCwgbGlzdCkgPT4ge1xuICAgICAgcmVzdWx0LnB1c2gobGlzdFswXSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIFtdKS5qb2luKCdbLF0nKTtcbiAgICBkZWZpbml0aW9uLmNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuID0gW2Ake2NvcnJlY3RSZXNwb25zZXNQYXR0ZXJuUHJlZml4fSR7Zmlyc3RBbHRlcm5hdGl2ZXN9YF07XG5cbiAgICAvLyBBZGQgdGhlIEg1UCBBbHRlcm5hdGl2ZSBleHRlbnNpb24gd2hpY2ggcHJvdmlkZXMgYWxsIHRoZSBjb21iaW5hdGlvbnMgb2YgZGlmZmVyZW50IGFuc3dlcnNcbiAgICAvLyBSZXBvcnRpbmcgc29mdHdhcmUgd2lsbCBuZWVkIHRvIHN1cHBvcnQgdGhpcyBleHRlbnNpb24gZm9yIGFsdGVybmF0aXZlcyB0byB3b3JrLlxuICAgIGRlZmluaXRpb24uZXh0ZW5zaW9ucyA9IGRlZmluaXRpb24uZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICBkZWZpbml0aW9uLmV4dGVuc2lvbnNbWEFQSV9DQVNFX1NFTlNJVElWSVRZXSA9IHRoaXMuc2V0dGluZ3MuY2FzZVNlbnNpdGl2ZTtcbiAgICBkZWZpbml0aW9uLmV4dGVuc2lvbnNbWEFQSV9BTFRFUk5BVElWRV9FWFRFTlNJT05dID0gY29ycmVjdEFuc3dlckxpc3Q7XG5cbiAgICByZXR1cm4gZGVmaW5pdGlvbjtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIHRoZSBxdWVzdGlvbiBpdHNlbGYgdG8gdGhlIGRlZmluaXRpb24gcGFydCBvZiBhbiB4QVBJRXZlbnRcbiAgICovXG4gIHB1YmxpYyBhZGRRdWVzdGlvblRvWEFQSSA9ICh4QVBJRXZlbnQpID0+IHtcbiAgICB2YXIgZGVmaW5pdGlvbiA9IHhBUElFdmVudC5nZXRWZXJpZmllZFN0YXRlbWVudFZhbHVlKFsnb2JqZWN0JywgJ2RlZmluaXRpb24nXSk7XG4gICAgdGhpcy5qUXVlcnkuZXh0ZW5kKHRydWUsIGRlZmluaXRpb24sIHRoaXMuZ2V0eEFQSURlZmluaXRpb24oKSk7XG5cbiAgICAvLyBTZXQgcmVwb3J0aW5nIG1vZHVsZSB2ZXJzaW9uIGlmIGFsdGVybmF0aXZlIGV4dGVuc2lvbiBpcyB1c2VkXG4gICAgaWYgKHRoaXMuY2xvemVDb250cm9sbGVyLmhhc0FsdGVybmF0aXZlcykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHhBUElFdmVudC5nZXRWZXJpZmllZFN0YXRlbWVudFZhbHVlKFsnY29udGV4dCddKTtcbiAgICAgIGNvbnRleHQuZXh0ZW5zaW9ucyA9IGNvbnRleHQuZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgIGNvbnRleHQuZXh0ZW5zaW9uc1tYQVBJX1JFUE9SVElOR19WRVJTSU9OX0VYVEVOU0lPTl0gPSAnMS4wLjAnO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQWRkIHRoZSByZXNwb25zZSBwYXJ0IHRvIGFuIHhBUEkgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtINVAuWEFQSUV2ZW50fSB4QVBJRXZlbnRcbiAgICogIFRoZSB4QVBJIGV2ZW50IHdlIHdpbGwgYWRkIGEgcmVzcG9uc2UgdG9cbiAgICovXG4gIHB1YmxpYyBhZGRSZXNwb25zZVRvWEFQSSA9ICh4QVBJRXZlbnQpID0+IHtcbiAgICB4QVBJRXZlbnQuc2V0U2NvcmVkUmVzdWx0KHRoaXMuY2xvemVDb250cm9sbGVyLmN1cnJlbnRTY29yZSwgdGhpcy5jbG96ZUNvbnRyb2xsZXIubWF4U2NvcmUsIHRoaXMpO1xuICAgIHhBUElFdmVudC5kYXRhLnN0YXRlbWVudC5yZXN1bHQucmVzcG9uc2UgPSB0aGlzLmdldHhBUElSZXNwb25zZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB4QVBJIHVzZXIgcmVzcG9uc2UsIHVzZWQgaW4geEFQSSBzdGF0ZW1lbnRzLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFVzZXIgYW5zd2VycyBzZXBhcmF0ZWQgYnkgdGhlIFwiWyxdXCIgcGF0dGVyblxuICAgKi9cbiAgcHVibGljIGdldHhBUElSZXNwb25zZSA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIHZhciB1c2Vyc0Fuc3dlcnMgPSB0aGlzLmdldEN1cnJlbnRTdGF0ZSgpO1xuICAgIHJldHVybiB1c2Vyc0Fuc3dlcnMuam9pbignWyxdJyk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBNZXNzYWdlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL21lc3NhZ2Utc2VydmljZSc7XG5pbXBvcnQgeyBDbG96ZUVsZW1lbnQsIENsb3plRWxlbWVudFR5cGUgfSBmcm9tICcuL2Nsb3plLWVsZW1lbnQnO1xuaW1wb3J0IHsgQW5zd2VyLCBDb3JyZWN0bmVzcyB9IGZyb20gJy4vYW5zd2VyJztcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUsIENsb3plVHlwZSwgU2VsZWN0QWx0ZXJuYXRpdmVzIH0gZnJvbSAnLi9lbnVtcyc7XG5pbXBvcnQgeyBINVBMb2NhbGl6YXRpb24sIExvY2FsaXphdGlvbkxhYmVscyB9IGZyb20gJy4uL3NlcnZpY2VzL2xvY2FsaXphdGlvbic7XG5pbXBvcnQgeyBJU2V0dGluZ3MgfSBmcm9tIFwiLi4vc2VydmljZXMvc2V0dGluZ3NcIjtcbmltcG9ydCB7IGdldExvbmdlc3RTdHJpbmcsIHNodWZmbGVBcnJheSB9IGZyb20gXCIuLi8uLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0ICogYXMganNkaWZmIGZyb20gJ2RpZmYnO1xuXG5leHBvcnQgY2xhc3MgQmxhbmsgZXh0ZW5kcyBDbG96ZUVsZW1lbnQge1xuICAvLyBjb250ZW50XG4gIGNvcnJlY3RBbnN3ZXJzOiBBbnN3ZXJbXTtcbiAgaW5jb3JyZWN0QW5zd2VyczogQW5zd2VyW107XG4gIGhpbnQ6IE1lc3NhZ2U7XG4gIGlkOiBzdHJpbmc7XG4gIGNob2ljZXM6IHN0cmluZ1tdO1xuICBoYXNIaW50OiBib29sZWFuO1xuXG4gIC8vIHZpZXdtb2RlbCBzdHVmZlxuXG4gIGxhc3RDaGVja2VkVGV4dDogc3RyaW5nO1xuICBlbnRlcmVkVGV4dDogc3RyaW5nO1xuICBpc0NvcnJlY3Q6IGJvb2xlYW47XG4gIGlzRXJyb3I6IGJvb2xlYW47XG4gIGlzUmV0cnk6IGJvb2xlYW47XG4gIGhhc1BlbmRpbmdGZWVkYmFjazogYm9vbGVhbjtcbiAgaXNTaG93aW5nU29sdXRpb246IGJvb2xlYW47XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbWluVGV4dExlbmd0aDogbnVtYmVyO1xuICBzcGVlY2hCdWJibGU6IGFueTtcblxuICAvKipcbiAgICogQWRkIGluY29ycmVjdCBhbnN3ZXJzIGFmdGVyIGluaXRpYWxpemluZyB0aGUgb2JqZWN0LiBDYWxsIGZpbmlzaEluaXRpYWxpemF0aW9uKClcbiAgICogd2hlbiBkb25lLlxuICAgKiBAcGFyYW0gIHtJU2V0dGluZ3N9IHNldHRpbmdzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaWRcbiAgICogQHBhcmFtICB7c3RyaW5nfSBjb3JyZWN0VGV4dD9cbiAgICogQHBhcmFtICB7c3RyaW5nfSBoaW50VGV4dD9cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc2V0dGluZ3M6IElTZXR0aW5ncywgcHJpdmF0ZSBsb2NhbGl6YXRpb246IEg1UExvY2FsaXphdGlvbiwgcHJpdmF0ZSBqcXVlcnk6IEpRdWVyeVN0YXRpYywgcHJpdmF0ZSBtZXNzYWdlU2VydmljZTogTWVzc2FnZVNlcnZpY2UsIGlkOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5lbnRlcmVkVGV4dCA9IFwiXCI7XG4gICAgdGhpcy5jb3JyZWN0QW5zd2VycyA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuaW5jb3JyZWN0QW5zd2VycyA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuY2hvaWNlcyA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMudHlwZSA9IENsb3plRWxlbWVudFR5cGUuQmxhbms7XG5cbiAgICB0aGlzLmlkID0gaWQ7XG4gIH1cblxuICAvKipcbiAgKiBDYWxsIHRoaXMgbWV0aG9kIHdoZW4gYWxsIGluY29ycmVjdCBhbnN3ZXJzIGhhdmUgYmVlbiBhZGRlZC5cbiAgKi9cbiAgcHVibGljIGZpbmlzaEluaXRpYWxpemF0aW9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmNsb3plVHlwZSA9PT0gQ2xvemVUeXBlLlNlbGVjdCAmJiB0aGlzLnNldHRpbmdzLnNlbGVjdEFsdGVybmF0aXZlcyA9PT0gU2VsZWN0QWx0ZXJuYXRpdmVzLkFsdGVybmF0aXZlcykge1xuICAgICAgdGhpcy5sb2FkQ2hvaWNlc0Zyb21Pd25BbHRlcm5hdGl2ZXMoKTtcbiAgICB9XG4gICAgdGhpcy5jYWxjdWxhdGVNaW5UZXh0TGVuZ3RoKCk7XG4gIH1cblxuICBwdWJsaWMgYWRkQ29ycmVjdEFuc3dlcihhbnN3ZXI6IEFuc3dlcikge1xuICAgIHRoaXMuY29ycmVjdEFuc3dlcnMucHVzaChhbnN3ZXIpO1xuICB9XG5cbiAgcHVibGljIGdldENvcnJlY3RBbnN3ZXJzKCk6IHN0cmluZ1tdIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgYW5zd2VyIG9mIHRoaXMuY29ycmVjdEFuc3dlcnMpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoYW5zd2VyLmFsdGVybmF0aXZlcyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwdWJsaWMgc2V0SGludChtZXNzYWdlOiBNZXNzYWdlKSB7XG4gICAgdGhpcy5oaW50ID0gbWVzc2FnZTtcbiAgICB0aGlzLmhhc0hpbnQgPSB0aGlzLmhpbnQudGV4dCAhPT0gXCJcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBpbmNvcnJlY3QgYW5zd2VyIHRvIHRoZSBsaXN0LlxuICAgKiBAcGFyYW0gdGV4dCAtIFdoYXQgdGhlIHVzZXIgbXVzdCBlbnRlci5cbiAgICogQHBhcmFtIHJlYWN0aW9uICAtIFdoYXQgdGhlIHVzZXIgZ2V0cyBkaXNwbGF5ZWQgd2hlbiBoZSBlbnRlcmVzIHRoZSB0ZXh0LlxuICAgKi9cbiAgcHVibGljIGFkZEluY29ycmVjdEFuc3dlcih0ZXh0OiBzdHJpbmcsIHJlYWN0aW9uOiBzdHJpbmcsIHNob3dIaWdobGlnaHQ6IGJvb2xlYW4sIGhpZ2hsaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5pbmNvcnJlY3RBbnN3ZXJzLnB1c2goXG4gICAgICBuZXcgQW5zd2VyKHRleHQsIHJlYWN0aW9uLCBzaG93SGlnaGxpZ2h0LCBoaWdobGlnaHQsIHRoaXMuc2V0dGluZ3MpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGhvdyBtYW55IGNoYXJhY3RlcnMgdGhlIGlucHV0IGJveCBtdXN0IGhhdmUgYmUgdG8gYWxsb3cgZm9yIGFsbCBjb3JyZWN0IGFuc3dlcnMuXG4gICAqL1xuICAvLyBUT0RPOiByZWZhY3RvclxuICBwcml2YXRlIGNhbGN1bGF0ZU1pblRleHRMZW5ndGgoKTogdm9pZCB7XG4gICAgdmFyIGFuc3dlcnM6IHN0cmluZ1tdID0gbmV3IEFycmF5KCk7XG4gICAgZm9yIChsZXQgY29ycmVjdEFuc3dlciBvZiB0aGlzLmNvcnJlY3RBbnN3ZXJzKSB7XG4gICAgICBhbnN3ZXJzLnB1c2goZ2V0TG9uZ2VzdFN0cmluZyhjb3JyZWN0QW5zd2VyLmFsdGVybmF0aXZlcykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmNsb3plVHlwZSA9PT0gQ2xvemVUeXBlLlNlbGVjdCkge1xuICAgICAgZm9yIChsZXQgaW5jb3JyZWN0QW5zd2VyIG9mIHRoaXMuaW5jb3JyZWN0QW5zd2Vycykge1xuICAgICAgICBhbnN3ZXJzLnB1c2goZ2V0TG9uZ2VzdFN0cmluZyhpbmNvcnJlY3RBbnN3ZXIuYWx0ZXJuYXRpdmVzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxvbmdlc3RBbnN3ZXIgPSBnZXRMb25nZXN0U3RyaW5nKGFuc3dlcnMpO1xuICAgIHZhciBsID0gbG9uZ2VzdEFuc3dlci5sZW5ndGg7XG4gICAgdGhpcy5taW5UZXh0TGVuZ3RoID0gTWF0aC5tYXgoMTAsIGwgLSAobCAlIDEwKSArIDEwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbGlzdCBvZiBjaG9pY2VzIGZyb20gYWxsIGFsdGVybmF0aXZlcyBwcm92aWRlZCBieVxuICAgKiB0aGUgY29ycmVjdCBhbmQgaW5jb3JyZWN0IGFuc3dlcnMuXG4gICAqL1xuICBwcml2YXRlIGxvYWRDaG9pY2VzRnJvbU93bkFsdGVybmF0aXZlcygpOiBzdHJpbmdbXSB7XG4gICAgdGhpcy5jaG9pY2VzID0gbmV3IEFycmF5KCk7XG4gICAgZm9yIChsZXQgYW5zd2VyIG9mIHRoaXMuY29ycmVjdEFuc3dlcnMpIHtcbiAgICAgIGZvciAobGV0IGFsdGVybmF0aXZlIG9mIGFuc3dlci5hbHRlcm5hdGl2ZXMpIHtcbiAgICAgICAgdGhpcy5jaG9pY2VzLnB1c2goYWx0ZXJuYXRpdmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGFuc3dlciBvZiB0aGlzLmluY29ycmVjdEFuc3dlcnMpIHtcbiAgICAgIGZvciAobGV0IGFsdGVybmF0aXZlIG9mIGFuc3dlci5hbHRlcm5hdGl2ZXMpIHtcbiAgICAgICAgdGhpcy5jaG9pY2VzLnB1c2goYWx0ZXJuYXRpdmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY2hvaWNlcyA9IHNodWZmbGVBcnJheSh0aGlzLmNob2ljZXMpO1xuICAgIHRoaXMuY2hvaWNlcy51bnNoaWZ0KFwiXCIpO1xuXG4gICAgcmV0dXJuIHRoaXMuY2hvaWNlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbGlzdCBvZiBjaG9pY2VzIGZyb20gYWxsIGNvcnJlY3QgYW5zd2VycyBvZiB0aGUgY2xvemUuXG4gICAqIEBwYXJhbSBvdGhlckJsYW5rcyBBbGwgT1RIRVIgYmxhbmtzIGluIHRoZSBjbG96ZS4gKGV4Y2x1ZGVzIHRoZSBjdXJyZW50IG9uZSEpXG4gICAqL1xuICBwdWJsaWMgbG9hZENob2ljZXNGcm9tT3RoZXJCbGFua3Mob3RoZXJCbGFua3M6IEJsYW5rW10pOiBzdHJpbmdbXSB7XG4gICAgbGV0IG93bkNob2ljZXMgPSBuZXcgQXJyYXkoKTtcbiAgICBmb3IgKGxldCBhbnN3ZXIgb2YgdGhpcy5jb3JyZWN0QW5zd2Vycykge1xuICAgICAgZm9yIChsZXQgYWx0ZXJuYXRpdmUgb2YgYW5zd2VyLmFsdGVybmF0aXZlcykge1xuICAgICAgICBvd25DaG9pY2VzLnB1c2goYWx0ZXJuYXRpdmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBvdGhlckNob2ljZXMgPSBuZXcgQXJyYXkoKTtcbiAgICBmb3IgKGxldCBvdGhlckJsYW5rIG9mIG90aGVyQmxhbmtzKSB7XG4gICAgICBmb3IgKGxldCBhbnN3ZXIgb2Ygb3RoZXJCbGFuay5jb3JyZWN0QW5zd2Vycykge1xuICAgICAgICBmb3IgKGxldCBhbHRlcm5hdGl2ZSBvZiBhbnN3ZXIuYWx0ZXJuYXRpdmVzKSB7XG4gICAgICAgICAgb3RoZXJDaG9pY2VzLnB1c2goYWx0ZXJuYXRpdmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgb3RoZXJDaG9pY2VzID0gc2h1ZmZsZUFycmF5KG90aGVyQ2hvaWNlcyk7XG5cbiAgICBsZXQgbWF4Q2hvaWNlcyA9IHRoaXMuc2V0dGluZ3Muc2VsZWN0QWx0ZXJuYXRpdmVSZXN0cmljdGlvbjtcbiAgICBpZiAobWF4Q2hvaWNlcyA9PT0gdW5kZWZpbmVkIHx8IG1heENob2ljZXMgPT09IDApXG4gICAgICBtYXhDaG9pY2VzID0gb3duQ2hvaWNlcy5sZW5ndGggKyBvdGhlckNob2ljZXMubGVuZ3RoO1xuXG4gICAgbGV0IGxlZnRPdmVyQ2hvaWNlcyA9IG1heENob2ljZXMgLSBvd25DaG9pY2VzLmxlbmd0aDtcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGxlZnRPdmVyQ2hvaWNlcyAmJiB4IDwgb3RoZXJDaG9pY2VzLmxlbmd0aDsgeCsrKSB7XG4gICAgICBpZiAob3duQ2hvaWNlcy5pbmRleE9mKG90aGVyQ2hvaWNlc1t4XSkgPj0gMCkge1xuICAgICAgICBsZWZ0T3ZlckNob2ljZXMrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93bkNob2ljZXMucHVzaChvdGhlckNob2ljZXNbeF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY2hvaWNlcyA9IHNodWZmbGVBcnJheShvd25DaG9pY2VzKTtcbiAgICB0aGlzLmNob2ljZXMudW5zaGlmdChcIlwiKTtcblxuICAgIHJldHVybiB0aGlzLmNob2ljZXM7XG4gIH1cblxuICAvKipcbiAgKiBDbGVhcnMgdGhlIGJsYW5rIGZyb20gYWxsIGVudGVyZWQgdGV4dCBhbmQgaGlkZXMgcG9wdXBzLlxuICAqL1xuICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgdGhpcy5lbnRlcmVkVGV4dCA9IFwiXCI7XG4gICAgdGhpcy5sYXN0Q2hlY2tlZFRleHQgPSBcIlwiO1xuICAgIHRoaXMucmVtb3ZlVG9vbHRpcCgpO1xuICAgIHRoaXMuc2V0QW5zd2VyU3RhdGUoTWVzc2FnZVR5cGUuTm9uZSk7XG4gICAgdGhpcy5oYXNQZW5kaW5nRmVlZGJhY2sgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBibGFuayB0byBhIHN0YXRlIGluIHdoaWNoIHRoZSBjb3JyZWN0IHNvbHV0aW9uIGlmIHNob3duIGlmIHRoZSB1c2VyXG4gICAqIGhhc24ndCBlbnRlcmVkIGEgY29ycmVjdCBvbmUgc28gZmFyLlxuICAgKi9cbiAgcHVibGljIHNob3dTb2x1dGlvbigpIHtcbiAgICB0aGlzLmV2YWx1YXRlQXR0ZW1wdCh0cnVlKTtcbiAgICB0aGlzLnJlbW92ZVRvb2x0aXAoKTtcbiAgICBpZiAodGhpcy5pc0NvcnJlY3QpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5lbnRlcmVkVGV4dCA9IHRoaXMuY29ycmVjdEFuc3dlcnNbMF0uYWx0ZXJuYXRpdmVzWzBdO1xuICAgIHRoaXMuc2V0QW5zd2VyU3RhdGUoTWVzc2FnZVR5cGUuU2hvd1NvbHV0aW9uKTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZvY3Vzc2VkKCkge1xuICAgIGlmICh0aGlzLmhhc1BlbmRpbmdGZWVkYmFjaykge1xuICAgICAgdGhpcy5ldmFsdWF0ZUF0dGVtcHQoZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5jbG96ZVR5cGUgPT09IENsb3plVHlwZS5TZWxlY3QpIHtcbiAgICAgIHRoaXMuc2V0QW5zd2VyU3RhdGUoTWVzc2FnZVR5cGUuTm9uZSk7XG4gICAgICB0aGlzLmxhc3RDaGVja2VkVGV4dCA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uRGlzcGxheUZlZWRiYWNrKCkge1xuICAgIGlmICh0aGlzLmhhc1BlbmRpbmdGZWVkYmFjaykge1xuICAgICAgdGhpcy5ldmFsdWF0ZUF0dGVtcHQoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGlzcGxheVRvb2x0aXAobWVzc2FnZTogc3RyaW5nLCB0eXBlOiBNZXNzYWdlVHlwZSwgc3VycHJlc3NUb29sdGlwOiBib29sZWFuLCBpZD86IHN0cmluZykge1xuICAgIGlmICghc3VycHJlc3NUb29sdGlwKVxuICAgICAgdGhpcy5tZXNzYWdlU2VydmljZS5zaG93KGlkID8gaWQgOiB0aGlzLmlkLCBtZXNzYWdlLCB0aGlzLCB0eXBlKTtcbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuaGFzUGVuZGluZ0ZlZWRiYWNrID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlVG9vbHRpcCgpIHtcbiAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLmhpZGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0VG9vbHRpcEVycm9yVGV4dChtZXNzYWdlOiBNZXNzYWdlLCBzdXJwcmVzc1Rvb2x0aXA6IGJvb2xlYW4pIHtcbiAgICBpZiAobWVzc2FnZS5oaWdobGlnaHRlZEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZGlzcGxheVRvb2x0aXAobWVzc2FnZS50ZXh0LCBNZXNzYWdlVHlwZS5FcnJvciwgc3VycHJlc3NUb29sdGlwLCBtZXNzYWdlLmhpZ2hsaWdodGVkRWxlbWVudC5pZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kaXNwbGF5VG9vbHRpcChtZXNzYWdlLnRleHQsIE1lc3NhZ2VUeXBlLkVycm9yLCBzdXJwcmVzc1Rvb2x0aXApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3BlbGxpbmdNaXN0YWtlTWVzc2FnZShleHBlY3RlZFRleHQ6IHN0cmluZywgZW50ZXJlZFRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdmFyIG1lc3NhZ2UgPSB0aGlzLmxvY2FsaXphdGlvbi5nZXRUZXh0RnJvbUxhYmVsKExvY2FsaXphdGlvbkxhYmVscy50eXBvTWVzc2FnZSlcblxuICAgIHZhciBkaWZmID0ganNkaWZmLmRpZmZDaGFycyhleHBlY3RlZFRleHQsIGVudGVyZWRUZXh0LCB7IGlnbm9yZUNhc2U6ICF0aGlzLnNldHRpbmdzLmNhc2VTZW5zaXRpdmUgfSk7XG5cbiAgICB2YXIgbWlzdGFrZVNwYW4gPSB0aGlzLmpxdWVyeShcIjxzcGFuLz5cIiwgeyBcImNsYXNzXCI6IFwic3BlbGxpbmctbWlzdGFrZVwiIH0pO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBkaWZmLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIHBhcnQgPSBkaWZmW2luZGV4XTtcbiAgICAgIHZhciBzcGFuQ2xhc3MgPSAnJztcbiAgICAgIGlmIChwYXJ0LnJlbW92ZWQpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSBkaWZmLmxlbmd0aCAtIDEgfHwgIWRpZmZbaW5kZXggKyAxXS5hZGRlZCkge1xuICAgICAgICAgIHBhcnQudmFsdWUgPSBwYXJ0LnZhbHVlLnJlcGxhY2UoLy4vZywgXCJfXCIpO1xuICAgICAgICAgIHNwYW5DbGFzcyA9ICdtaXNzaW5nLWNoYXJhY3Rlcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0LmFkZGVkKSB7XG4gICAgICAgIHNwYW5DbGFzcyA9ICdtaXN0YWtlbi1jaGFyYWN0ZXInO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3BhbiA9IHRoaXMuanF1ZXJ5KFwiPHNwYW4vPlwiLCB7IFwiY2xhc3NcIjogc3BhbkNsYXNzLCBcImh0bWxcIjogcGFydC52YWx1ZS5yZXBsYWNlKFwiIFwiLCBcIiZuYnNwO1wiKSB9KTtcbiAgICAgIG1pc3Rha2VTcGFuLmFwcGVuZChzcGFuKTtcbiAgICB9XG5cbiAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKFwiQG1pc3Rha2VcIiwgdGhpcy5qcXVlcnkoXCI8c3Bhbi8+XCIpLmFwcGVuZChtaXN0YWtlU3BhbikuaHRtbCgpKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGVudGVyZWQgdGV4dCBpcyB0aGUgY29ycmVjdCBhbnN3ZXIgb3Igb25lIG9mIHRoZSBcbiAgICogaW5jb3JyZWN0IG9uZXMgYW5kIGdpdmVzIHRoZSB1c2VyIGZlZWRiYWNrIGFjY29yZGluZ2x5LlxuICAgKi9cbiAgcHVibGljIGV2YWx1YXRlQXR0ZW1wdChzdXJwcmVzc1Rvb2x0aXBzOiBib29sZWFuLCBmb3JjZUNoZWNrPzogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5oYXNQZW5kaW5nRmVlZGJhY2sgJiYgdGhpcy5sYXN0Q2hlY2tlZFRleHQgPT09IHRoaXMuZW50ZXJlZFRleHQgJiYgIWZvcmNlQ2hlY2spXG4gICAgICByZXR1cm47XG5cbiAgICB0aGlzLmxhc3RDaGVja2VkVGV4dCA9IHRoaXMuZW50ZXJlZFRleHQudG9TdHJpbmcoKTtcbiAgICB0aGlzLmhhc1BlbmRpbmdGZWVkYmFjayA9IGZhbHNlO1xuICAgIHRoaXMucmVtb3ZlVG9vbHRpcCgpO1xuXG4gICAgdmFyIGV4YWN0Q29ycmVjdE1hdGNoZXMgPSB0aGlzLmNvcnJlY3RBbnN3ZXJzLm1hcChhbnN3ZXIgPT4gYW5zd2VyLmV2YWx1YXRlQXR0ZW1wdCh0aGlzLmVudGVyZWRUZXh0KSkuZmlsdGVyKGV2YWx1YXRpb24gPT4gZXZhbHVhdGlvbi5jb3JyZWN0bmVzcyA9PT0gQ29ycmVjdG5lc3MuRXhhY3RNYXRjaCkuc29ydChldmFsdWF0aW9uID0+IGV2YWx1YXRpb24uY2hhcmFjdGVyRGlmZmVyZW5jZUNvdW50KTtcbiAgICB2YXIgY2xvc2VDb3JyZWN0TWF0Y2hlcyA9IHRoaXMuY29ycmVjdEFuc3dlcnMubWFwKGFuc3dlciA9PiBhbnN3ZXIuZXZhbHVhdGVBdHRlbXB0KHRoaXMuZW50ZXJlZFRleHQpKS5maWx0ZXIoZXZhbHVhdGlvbiA9PiBldmFsdWF0aW9uLmNvcnJlY3RuZXNzID09PSBDb3JyZWN0bmVzcy5DbG9zZU1hdGNoKS5zb3J0KGV2YWx1YXRpb24gPT4gZXZhbHVhdGlvbi5jaGFyYWN0ZXJEaWZmZXJlbmNlQ291bnQpO1xuICAgIHZhciBleGFjdEluY29ycmVjdE1hdGNoZXMgPSB0aGlzLmluY29ycmVjdEFuc3dlcnMubWFwKGFuc3dlciA9PiBhbnN3ZXIuZXZhbHVhdGVBdHRlbXB0KHRoaXMuZW50ZXJlZFRleHQpKS5maWx0ZXIoZXZhbHVhdGlvbiA9PiBldmFsdWF0aW9uLmNvcnJlY3RuZXNzID09PSBDb3JyZWN0bmVzcy5FeGFjdE1hdGNoKS5zb3J0KGV2YWx1YXRpb24gPT4gZXZhbHVhdGlvbi5jaGFyYWN0ZXJEaWZmZXJlbmNlQ291bnQpO1xuICAgIHZhciBjbG9zZUluY29ycmVjdE1hdGNoZXMgPSB0aGlzLmluY29ycmVjdEFuc3dlcnMubWFwKGFuc3dlciA9PiBhbnN3ZXIuZXZhbHVhdGVBdHRlbXB0KHRoaXMuZW50ZXJlZFRleHQpKS5maWx0ZXIoZXZhbHVhdGlvbiA9PiBldmFsdWF0aW9uLmNvcnJlY3RuZXNzID09PSBDb3JyZWN0bmVzcy5DbG9zZU1hdGNoKS5zb3J0KGV2YWx1YXRpb24gPT4gZXZhbHVhdGlvbi5jaGFyYWN0ZXJEaWZmZXJlbmNlQ291bnQpO1xuXG4gICAgaWYgKGV4YWN0Q29ycmVjdE1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zZXRBbnN3ZXJTdGF0ZShNZXNzYWdlVHlwZS5Db3JyZWN0KTtcbiAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5jYXNlU2Vuc2l0aXZlKSB7XG4gICAgICAgIHRoaXMuZW50ZXJlZFRleHQgPSBleGFjdENvcnJlY3RNYXRjaGVzWzBdLnVzZWRBbHRlcm5hdGl2ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXhhY3RJbmNvcnJlY3RNYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc2V0QW5zd2VyU3RhdGUoTWVzc2FnZVR5cGUuRXJyb3IpO1xuICAgICAgdGhpcy5zaG93RXJyb3JUb29sdGlwKGV4YWN0SW5jb3JyZWN0TWF0Y2hlc1swXS51c2VkQW5zd2VyLCBzdXJwcmVzc1Rvb2x0aXBzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VDb3JyZWN0TWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy53YXJuU3BlbGxpbmdFcnJvcnMpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5VG9vbHRpcCh0aGlzLmdldFNwZWxsaW5nTWlzdGFrZU1lc3NhZ2UoY2xvc2VDb3JyZWN0TWF0Y2hlc1swXS51c2VkQWx0ZXJuYXRpdmUsIHRoaXMuZW50ZXJlZFRleHQpLCBNZXNzYWdlVHlwZS5SZXRyeSwgc3VycHJlc3NUb29sdGlwcyk7XG4gICAgICAgIHRoaXMuc2V0QW5zd2VyU3RhdGUoTWVzc2FnZVR5cGUuUmV0cnkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5hY2NlcHRTcGVsbGluZ0Vycm9ycykge1xuICAgICAgICB0aGlzLnNldEFuc3dlclN0YXRlKE1lc3NhZ2VUeXBlLkNvcnJlY3QpO1xuICAgICAgICB0aGlzLmVudGVyZWRUZXh0ID0gY2xvc2VDb3JyZWN0TWF0Y2hlc1swXS51c2VkQWx0ZXJuYXRpdmU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xvc2VJbmNvcnJlY3RNYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc2V0QW5zd2VyU3RhdGUoTWVzc2FnZVR5cGUuRXJyb3IpO1xuICAgICAgdGhpcy5zaG93RXJyb3JUb29sdGlwKGNsb3NlSW5jb3JyZWN0TWF0Y2hlc1swXS51c2VkQW5zd2VyLCBzdXJwcmVzc1Rvb2x0aXBzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYWx3YXlzQXBwbHlpbmdBbnN3ZXJzID0gdGhpcy5pbmNvcnJlY3RBbnN3ZXJzLmZpbHRlcihhID0+IGEuYXBwbGllc0Fsd2F5cyk7XG4gICAgaWYgKGFsd2F5c0FwcGx5aW5nQW5zd2VycyAmJiBhbHdheXNBcHBseWluZ0Fuc3dlcnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zaG93RXJyb3JUb29sdGlwKGFsd2F5c0FwcGx5aW5nQW5zd2Vyc1swXSwgc3VycHJlc3NUb29sdGlwcyk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRBbnN3ZXJTdGF0ZShNZXNzYWdlVHlwZS5FcnJvcik7XG4gIH1cblxuICBwdWJsaWMgb25UeXBlZCgpOiB2b2lkIHtcbiAgICB0aGlzLnNldEFuc3dlclN0YXRlKE1lc3NhZ2VUeXBlLk5vbmUpO1xuICAgIHRoaXMubGFzdENoZWNrZWRUZXh0ID0gXCJcIjtcbiAgICB0aGlzLnJlbW92ZVRvb2x0aXAoKTtcbiAgfVxuXG4gIHB1YmxpYyBsb3N0Rm9jdXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVNlcnZpY2UuaXNBY3RpdmUodGhpcykpIHtcbiAgICAgIHRoaXMubWVzc2FnZVNlcnZpY2UuaGlkZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBib29sZWFuIHByb3BlcnRpZXMgaXNDb3JyZWN0LCBpcyBFcnJvciBhbmQgaXNSZXRyeSBhY2NvcmRpbmcgdG8gdGhlcGFzc2VkICBtZXNzYWdlVHlwZS5cbiAgICogQHBhcmFtIG1lc3NhZ2VUeXBlIFxuICAgKi9cbiAgcHJpdmF0ZSBzZXRBbnN3ZXJTdGF0ZShtZXNzYWdlVHlwZTogTWVzc2FnZVR5cGUpIHtcbiAgICB0aGlzLmlzQ29ycmVjdCA9IGZhbHNlO1xuICAgIHRoaXMuaXNFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMuaXNSZXRyeSA9IGZhbHNlO1xuICAgIHRoaXMuaXNTaG93aW5nU29sdXRpb24gPSBmYWxzZTtcblxuICAgIHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcbiAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQ29ycmVjdDpcbiAgICAgICAgdGhpcy5pc0NvcnJlY3QgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTWVzc2FnZVR5cGUuRXJyb3I6XG4gICAgICAgIHRoaXMuaXNFcnJvciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNZXNzYWdlVHlwZS5SZXRyeTpcbiAgICAgICAgdGhpcy5pc1JldHJ5ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1lc3NhZ2VUeXBlLlNob3dTb2x1dGlvbjpcbiAgICAgICAgdGhpcy5pc1Nob3dpbmdTb2x1dGlvbiA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvd0Vycm9yVG9vbHRpcChhbnN3ZXI6IEFuc3dlciwgc3VycHJlc3NUb29sdGlwOiBib29sZWFuKSB7XG4gICAgaWYgKGFuc3dlci5tZXNzYWdlICYmIGFuc3dlci5tZXNzYWdlLnRleHQpIHtcbiAgICAgIHRoaXMuc2V0VG9vbHRpcEVycm9yVGV4dChhbnN3ZXIubWVzc2FnZSwgc3VycHJlc3NUb29sdGlwKTtcbiAgICB9XG4gICAgaWYgKCFzdXJwcmVzc1Rvb2x0aXApIHtcbiAgICAgIGFuc3dlci5hY3RpdmF0ZUhpZ2hsaWdodCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgaGludCBpbiB0aGUgdG9vbHRpcC5cbiAgICovXG4gIHB1YmxpYyBzaG93SGludCgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3dpbmdTb2x1dGlvbiB8fCB0aGlzLmlzQ29ycmVjdClcbiAgICAgIHJldHVybjtcblxuICAgIHRoaXMucmVtb3ZlVG9vbHRpcCgpO1xuICAgIGlmICh0aGlzLmhpbnQgJiYgdGhpcy5oaW50LnRleHQgIT09IFwiXCIpIHtcbiAgICAgIHRoaXMuZGlzcGxheVRvb2x0aXAodGhpcy5oaW50LnRleHQsIE1lc3NhZ2VUeXBlLlJldHJ5LCBmYWxzZSk7XG4gICAgICBpZiAodGhpcy5oaW50LmhpZ2hsaWdodGVkRWxlbWVudCkge1xuICAgICAgICB0aGlzLmhpbnQuaGlnaGxpZ2h0ZWRFbGVtZW50LmlzSGlnaGxpZ2h0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50ZXJlZFRleHQ7XG4gIH1cblxuICBwdWJsaWMgZGVzZXJpYWxpemUoZGF0YTogYW55KSB7XG4gICAgdGhpcy5lbnRlcmVkVGV4dCA9IGRhdGE7XG4gIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0TG9uZ2VzdFN0cmluZyhzdHJpbmdzOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gIHJldHVybiBzdHJpbmdzLnJlZHVjZSgocHJldiwgY3VycmVudCkgPT4gY3VycmVudC5sZW5ndGggPiBwcmV2Lmxlbmd0aCA/IGN1cnJlbnQgOiBwcmV2LCBcIlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheTogYW55W10pIHtcbiAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICB2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgIHZhciB0ZW1wID0gYXJyYXlbaV07XG4gICAgYXJyYXlbaV0gPSBhcnJheVtqXTtcbiAgICBhcnJheVtqXSA9IHRlbXA7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufSIsImltcG9ydCB7IEJsYW5rTG9hZGVyIH0gZnJvbSAnLi4vY29udGVudC1sb2FkZXJzL2JsYW5rLWxvYWRlcic7XG5pbXBvcnQgeyBCbGFuayB9IGZyb20gXCIuLi9tb2RlbHMvYmxhbmtcIjtcbmltcG9ydCB7IFNuaXBwZXQgfSBmcm9tIFwiLi4vbW9kZWxzL3NuaXBwZXRcIjtcbmltcG9ydCB7IElTZXR0aW5ncyB9IGZyb20gXCIuLi9zZXJ2aWNlcy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgSDVQTG9jYWxpemF0aW9uIH0gZnJvbSBcIi4vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBVbnJ3YXBwZXIgfSBmcm9tICcuLi9oZWxwZXJzL3Vud3JhcHBlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURhdGFSZXBvc2l0b3J5IHtcbiAgZ2V0QmxhbmtzKCk6IEJsYW5rW107XG4gIGdldENsb3plVGV4dCgpOiBzdHJpbmc7XG4gIGdldEZlZWRiYWNrVGV4dCgpOiBzdHJpbmc7XG4gIGdldE1lZGlhKCk6IGFueTtcbiAgZ2V0VGFza0Rlc2NyaXB0aW9uKCk6IHN0cmluZztcbiAgZ2V0U25pcHBldHMoKTogU25pcHBldFtdO1xufVxuXG4vKipcbiAqIFdyYXBzIGFyb3VuZCB0aGUgaDVwIGNvbmZpZyBvYmplY3QgYW5kIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgY29udGVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEg1UERhdGFSZXBvc2l0b3J5IGltcGxlbWVudHMgSURhdGFSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBoNXBDb25maWdEYXRhOiBhbnksIHByaXZhdGUgc2V0dGluZ3M6IElTZXR0aW5ncyxcbiAgICBwcml2YXRlIGxvY2FsaXphdGlvbjogSDVQTG9jYWxpemF0aW9uLCBwcml2YXRlIGpxdWVyeTogSlF1ZXJ5U3RhdGljLCBcbiAgICBwcml2YXRlIHVud3JhcHBlcjogVW5yd2FwcGVyKSB7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBibGFuayB0ZXh0IG9mIHRoZSBjbG96ZSAoYXMgSFRNTCBtYXJrdXApLlxuICAgKi9cbiAgZ2V0Q2xvemVUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaDVwQ29uZmlnRGF0YS5jb250ZW50LmJsYW5rc1RleHQ7XG4gIH1cblxuICAvLyBUT0RPOiByZW1vdmUgb3IgaW1wbGVtZW50XG4gIGdldEZlZWRiYWNrVGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgZ2V0TWVkaWEoKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5oNXBDb25maWdEYXRhLm1lZGlhLnR5cGU7XG4gIH1cblxuICBnZXRUYXNrRGVzY3JpcHRpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5oNXBDb25maWdEYXRhLmNvbnRlbnQudGFzaztcbiAgfVxuXG4gIGdldEJsYW5rcygpOiBCbGFua1tdIHtcbiAgICB2YXIgYmxhbmtzOiBCbGFua1tdID0gbmV3IEFycmF5KCk7XG5cbiAgICBpZiAoIXRoaXMuaDVwQ29uZmlnRGF0YS5jb250ZW50LmJsYW5rc0xpc3QpXG4gICAgICByZXR1cm4gYmxhbmtzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmg1cENvbmZpZ0RhdGEuY29udGVudC5ibGFua3NMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaDVwQmxhbmsgPSB0aGlzLmg1cENvbmZpZ0RhdGEuY29udGVudC5ibGFua3NMaXN0W2ldO1xuXG4gICAgICB2YXIgY29ycmVjdFRleHQgPSBoNXBCbGFuay5jb3JyZWN0QW5zd2VyVGV4dDtcbiAgICAgIGlmIChjb3JyZWN0VGV4dCA9PT0gXCJcIiB8fCBjb3JyZWN0VGV4dCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBjb250aW51ZTtcblxuICAgICAgdmFyIGJsYW5rID0gQmxhbmtMb2FkZXIuaW5zdGFuY2UuY3JlYXRlQmxhbmsoXCJjbG96ZVwiICsgaSwgY29ycmVjdFRleHQsXG4gICAgICAgIGg1cEJsYW5rLmhpbnQsIGg1cEJsYW5rLmluY29ycmVjdEFuc3dlcnNMaXN0KTtcblxuICAgICAgYmxhbmsuZmluaXNoSW5pdGlhbGl6YXRpb24oKTtcbiAgICAgIGJsYW5rcy5wdXNoKGJsYW5rKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmxhbmtzO1xuICB9XG5cbiAgZ2V0U25pcHBldHMoKTogU25pcHBldFtdIHtcbiAgICB2YXIgc25pcHBldHM6IFNuaXBwZXRbXSA9IG5ldyBBcnJheSgpO1xuXG4gICAgaWYgKCF0aGlzLmg1cENvbmZpZ0RhdGEuc25pcHBldHMpXG4gICAgICByZXR1cm4gc25pcHBldHM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaDVwQ29uZmlnRGF0YS5zbmlwcGV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhd19zbmlwcGV0ID0gdGhpcy5oNXBDb25maWdEYXRhLnNuaXBwZXRzW2ldO1xuICAgICAgdmFyIHNuaXBwZXQgPSBuZXcgU25pcHBldChyYXdfc25pcHBldC5zbmlwcGV0TmFtZSwgdGhpcy51bndyYXBwZXIudW53cmFwKHJhd19zbmlwcGV0LnNuaXBwZXRUZXh0KSk7XG4gICAgICBzbmlwcGV0cy5wdXNoKHNuaXBwZXQpO1xuICAgIH1cbiAgICByZXR1cm4gc25pcHBldHM7XG4gIH1cbn0iLCIvKipcbiAqIEEgc25pcHBldCBpcyBhIHRleHQgYmxvY2sgdGhhdCBpcyBwdXQgaW50byBwbGFjZWQgbWFya2VkIGluIGZlZWRiYWNrIHRleHRzIG9yIGhpbnRzLlxuICovXG5leHBvcnQgY2xhc3MgU25pcHBldCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSBzbmlwcGV0LlxuICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc25pcHBldCB0aGF0IGlzIHVzZWQgd2hlbiBpdCBpcyByZWZlcmVuY2VkIGluIGEgZmVlZGJhY2t0ZXh0ICh3aXRob3V0IHRoZSBzbmlwcGV0IG1hcmtlciBAKVxuICAgKiBAcGFyYW0gdGV4dCBUaGUgc25pcHBldCBpdHNlbGYgKGh0bWwpXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwdWJsaWMgdGV4dDogc3RyaW5nKSB7XG4gICAgXG4gIH1cbn0iLCJpbXBvcnQgeyBNZXNzYWdlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL21lc3NhZ2Utc2VydmljZSc7XG5pbXBvcnQgeyBCbGFua0xvYWRlciB9IGZyb20gJy4uL2NvbnRlbnQtbG9hZGVycy9ibGFuay1sb2FkZXInO1xuaW1wb3J0IHsgQ2xvemVMb2FkZXIgfSBmcm9tICcuLi9jb250ZW50LWxvYWRlcnMvY2xvemUtbG9hZGVyJztcbmltcG9ydCB7IENsb3plIH0gZnJvbSBcIi4uL21vZGVscy9jbG96ZVwiO1xuaW1wb3J0IHsgSURhdGFSZXBvc2l0b3J5IH0gZnJvbSBcIi4uL3NlcnZpY2VzL2RhdGEtcmVwb3NpdG9yeVwiO1xuaW1wb3J0IHsgSVNldHRpbmdzIH0gZnJvbSBcIi4uL3NlcnZpY2VzL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBINVBMb2NhbGl6YXRpb24gfSBmcm9tIFwiLi4vc2VydmljZXMvbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBDbG96ZVR5cGUsIFNlbGVjdEFsdGVybmF0aXZlcyB9IGZyb20gXCIuLi9tb2RlbHMvZW51bXNcIjtcbmltcG9ydCB7IEhpZ2hsaWdodCB9IGZyb20gXCIuLi9tb2RlbHMvaGlnaGxpZ2h0XCI7XG5pbXBvcnQgeyBCbGFuayB9IGZyb20gXCIuLi9tb2RlbHMvYmxhbmtcIjtcbmltcG9ydCB7IENvcnJlY3RuZXNzIH0gZnJvbSAnLi4vbW9kZWxzL2Fuc3dlcic7XG5cbmltcG9ydCAqIGFzIFJhY3RpdmVFdmVudHNLZXlzIGZyb20gJy4uLy4uL2xpYi9yYWN0aXZlLWV2ZW50cy1rZXlzJztcblxuaW50ZXJmYWNlIFNjb3JlQ2hhbmdlZCB7XG4gIChzY29yZTogbnVtYmVyLCBtYXhTY29yZTogbnVtYmVyKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIEF1dG9DaGVja2VkIHtcbiAgKCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBTb2x2ZWQge1xuICAoKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIFR5cGVkIHtcbiAgKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBDbG96ZUNvbnRyb2xsZXIge1xuICBwcml2YXRlIGpxdWVyeTogSlF1ZXJ5O1xuXG4gIHByaXZhdGUgY2xvemU6IENsb3plO1xuICBwcml2YXRlIGlzU2VsZWN0Q2xvemU6IGJvb2xlYW47XG5cbiAgcHVibGljIG9uU2NvcmVDaGFuZ2VkOiBTY29yZUNoYW5nZWQ7XG4gIHB1YmxpYyBvbkF1dG9DaGVja2VkOiBBdXRvQ2hlY2tlZDtcbiAgcHVibGljIG9uU29sdmVkOiBTb2x2ZWQ7XG4gIHB1YmxpYyBvblR5cGVkOiBUeXBlZDtcblxuICAvLyBTdG9yYWdlIG9mIHRoZSByYWN0aXZlIG9iamVjdHMgdGhhdCBsaW5rIG1vZGVscyBhbmQgdmlld3NcbiAgcHJpdmF0ZSBoaWdobGlnaHRSYWN0aXZlczogeyBbaWQ6IHN0cmluZ106IFJhY3RpdmUuUmFjdGl2ZSB9ID0ge307XG4gIHByaXZhdGUgYmxhbmtSYWN0aXZlczogeyBbaWQ6IHN0cmluZ106IFJhY3RpdmUuUmFjdGl2ZSB9ID0ge307XG5cbiAgcHVibGljIGdldCBtYXhTY29yZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNsb3plLmJsYW5rcy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0IHdoZXRoZXIgdGhlcmUgYXJlIGJsYW5rcyB3aXRoIG1vcmUgdGhhbiBvbmUgc29sdXRpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIGJsYW5rIHdpdGggbW9yZSB0aGFuIG9uZSBzb2x1dGlvbi5cbiAgICovXG4gIHB1YmxpYyBnZXQgaGFzQWx0ZXJuYXRpdmVzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNsb3plLmJsYW5rcy5zb21lKGIgPT4gYi5jb3JyZWN0QW5zd2Vyc1swXS5hbHRlcm5hdGl2ZXMubGVuZ3RoID4gMSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGN1cnJlbnRTY29yZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNjb3JlID0gdGhpcy5jbG96ZS5ibGFua3MucmVkdWNlKChzY29yZSwgYikgPT4ge1xuICAgICAgY29uc3Qgbm90U2hvd2luZ1NvbHV0aW9uID0gIWIuaXNTaG93aW5nU29sdXRpb247XG4gICAgICBjb25zdCBjb3JyZWN0QW5zd2VyR2l2ZW4gPSBiLmNvcnJlY3RBbnN3ZXJzWzBdLmFsdGVybmF0aXZlcy5pbmRleE9mKGIuZW50ZXJlZFRleHQgfHwgJycpICE9PSAtMTtcblxuICAgICAgLy8gRGV0ZWN0IHNtYWxsIG1pc3Rha2VzXG4gICAgICBjb25zdCBjbG9zZUNvcnJlY3RNYXRjaGVzID0gYi5jb3JyZWN0QW5zd2Vyc1xuICAgICAgICAubWFwKGFuc3dlciA9PiBhbnN3ZXIuZXZhbHVhdGVBdHRlbXB0KGIuZW50ZXJlZFRleHQpKVxuICAgICAgICAuZmlsdGVyKGV2YWx1YXRpb24gPT4gZXZhbHVhdGlvbi5jb3JyZWN0bmVzcyA9PT0gQ29ycmVjdG5lc3MuQ2xvc2VNYXRjaCk7XG4gICAgICBjb25zdCBzaW1pbGFyQW5zd2VyR2l2ZW4gPSB0aGlzLnNldHRpbmdzLmFjY2VwdFNwZWxsaW5nRXJyb3JzICYmIGNsb3NlQ29ycmVjdE1hdGNoZXMubGVuZ3RoID4gMDtcblxuICAgICAgcmV0dXJuIHNjb3JlICs9IChub3RTaG93aW5nU29sdXRpb24gJiYgKGNvcnJlY3RBbnN3ZXJHaXZlbiB8fCBzaW1pbGFyQW5zd2VyR2l2ZW4pKSA/IDEgOiAwO1xuICAgIH0sIDApO1xuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIHNjb3JlKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgYWxsQmxhbmtzRW50ZXJlZCgpIHtcbiAgICBpZiAodGhpcy5jbG96ZSlcbiAgICAgIHJldHVybiB0aGlzLmNsb3plLmJsYW5rcy5ldmVyeShibGFuayA9PiBibGFuay5pc0Vycm9yIHx8IGJsYW5rLmlzQ29ycmVjdCB8fCBibGFuay5pc1JldHJ5KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGlzU29sdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNsb3plLmlzU29sdmVkO1xuICB9XG5cbiAgcHVibGljIGdldCBpc0ZpbGxlZE91dCgpIHtcbiAgICBpZiAoIXRoaXMuY2xvemUgfHwgdGhpcy5jbG96ZS5ibGFua3MubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIHRoaXMuY2xvemUuYmxhbmtzLnNvbWUoYiA9PiBiLmVudGVyZWRUZXh0ICE9PSAnJyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGlzRnVsbHlGaWxsZWRPdXQoKSB7XG4gICAgaWYgKCF0aGlzLmNsb3plIHx8IHRoaXMuY2xvemUuYmxhbmtzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiB0aGlzLmNsb3plLmJsYW5rcy5ldmVyeShiID0+IGIuZW50ZXJlZFRleHQgIT09ICcnKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVwb3NpdG9yeTogSURhdGFSZXBvc2l0b3J5LCBwcml2YXRlIHNldHRpbmdzOiBJU2V0dGluZ3MsIHByaXZhdGUgbG9jYWxpemF0aW9uOiBINVBMb2NhbGl6YXRpb24sIHByaXZhdGUgTWVzc2FnZVNlcnZpY2U6IE1lc3NhZ2VTZXJ2aWNlKSB7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCBhbGwgYmxhbmtzLCB0aGUgY2xvemUgaXRzZWxmIGFuZCB0aGUgcmFjdGl2ZSBiaW5kaW5ncy5cbiAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IHJvb3RcbiAgICovXG4gIGluaXRpYWxpemUocm9vdDogSFRNTEVsZW1lbnQsIGpxdWVyeTogSlF1ZXJ5KSB7XG4gICAgdGhpcy5qcXVlcnkgPSBqcXVlcnk7XG4gICAgdGhpcy5pc1NlbGVjdENsb3plID0gdGhpcy5zZXR0aW5ncy5jbG96ZVR5cGUgPT09IENsb3plVHlwZS5TZWxlY3QgPyB0cnVlIDogZmFsc2U7XG5cbiAgICB2YXIgYmxhbmtzID0gdGhpcy5yZXBvc2l0b3J5LmdldEJsYW5rcygpO1xuXG4gICAgaWYgKHRoaXMuaXNTZWxlY3RDbG96ZSAmJiB0aGlzLnNldHRpbmdzLnNlbGVjdEFsdGVybmF0aXZlcyA9PT0gU2VsZWN0QWx0ZXJuYXRpdmVzLkFsbCkge1xuICAgICAgZm9yICh2YXIgYmxhbmsgb2YgYmxhbmtzKSB7XG4gICAgICAgIGxldCBvdGhlckJsYW5rcyA9IGJsYW5rcy5maWx0ZXIodiA9PiB2ICE9PSBibGFuayk7XG4gICAgICAgIGJsYW5rLmxvYWRDaG9pY2VzRnJvbU90aGVyQmxhbmtzKG90aGVyQmxhbmtzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc25pcHBldHMgPSB0aGlzLnJlcG9zaXRvcnkuZ2V0U25pcHBldHMoKTtcbiAgICBibGFua3MuZm9yRWFjaChibGFuayA9PiBCbGFua0xvYWRlci5pbnN0YW5jZS5yZXBsYWNlU25pcHBldHMoYmxhbmssIHNuaXBwZXRzKSk7XG5cbiAgICB0aGlzLmNsb3plID0gQ2xvemVMb2FkZXIuY3JlYXRlQ2xvemUodGhpcy5yZXBvc2l0b3J5LmdldENsb3plVGV4dCgpLCBibGFua3MpO1xuXG4gICAgdmFyIGNvbnRhaW5lcnMgPSB0aGlzLmNyZWF0ZUFuZEFkZENvbnRhaW5lcnMocm9vdCk7XG4gICAgY29udGFpbmVycy5jbG96ZS5pbm5lckhUTUwgPSB0aGlzLmNsb3plLmh0bWw7XG4gICAgdGhpcy5jcmVhdGVSYWN0aXZlQmluZGluZ3MoKTtcbiAgfVxuXG4gIGNoZWNrQWxsID0gKCkgPT4ge1xuICAgIHRoaXMuY2xvemUuaGlkZUFsbEhpZ2hsaWdodHMoKTtcbiAgICBmb3IgKHZhciBibGFuayBvZiB0aGlzLmNsb3plLmJsYW5rcykge1xuICAgICAgaWYgKCghYmxhbmsuaXNDb3JyZWN0KSAmJiBibGFuay5lbnRlcmVkVGV4dCAhPT0gXCJcIilcbiAgICAgICAgYmxhbmsuZXZhbHVhdGVBdHRlbXB0KHRydWUsIHRydWUpO1xuICAgIH1cbiAgICB0aGlzLnJlZnJlc2hDbG96ZSgpO1xuICAgIHRoaXMuY2hlY2tBbmROb3RpZnlDb21wbGV0ZW5lc3MoKTtcbiAgfVxuXG4gIHRleHRUeXBlZCA9IChibGFuazogQmxhbmspID0+IHtcbiAgICBibGFuay5vblR5cGVkKCk7XG4gICAgaWYgKHRoaXMub25UeXBlZClcbiAgICAgIHRoaXMub25UeXBlZCgpO1xuICAgIHRoaXMucmVmcmVzaENsb3plKCk7XG4gIH1cblxuICBmb2N1cyA9IChibGFuazogQmxhbmspID0+IHtcbiAgICBibGFuay5vbkZvY3Vzc2VkKCk7XG4gICAgdGhpcy5yZWZyZXNoQ2xvemUoKTtcbiAgfVxuXG4gIGRpc3BsYXlGZWVkYmFjayA9IChibGFuazogQmxhbmspID0+IHtcbiAgICBibGFuay5vbkRpc3BsYXlGZWVkYmFjaygpO1xuICAgIHRoaXMucmVmcmVzaENsb3plKCk7XG4gIH1cblxuICBzaG93SGludCA9IChibGFuazogQmxhbmspID0+IHtcbiAgICB0aGlzLmNsb3plLmhpZGVBbGxIaWdobGlnaHRzKCk7XG4gICAgYmxhbmsuc2hvd0hpbnQoKTtcbiAgICB0aGlzLnJlZnJlc2hDbG96ZSgpO1xuICB9XG5cbiAgcmVxdWVzdENsb3NlVG9vbHRpcCA9IChibGFuazogQmxhbmspID0+IHtcbiAgICBibGFuay5yZW1vdmVUb29sdGlwKCk7XG4gICAgdGhpcy5yZWZyZXNoQ2xvemUoKTtcbiAgICB0aGlzLmpxdWVyeS5maW5kKFwiI1wiICsgYmxhbmsuaWQpLmZvY3VzKCk7XG4gIH1cblxuICBjaGVja0JsYW5rID0gKGJsYW5rOiBCbGFuaywgY2F1c2U6IHN0cmluZykgPT4ge1xuICAgIGlmICgoY2F1c2UgPT09ICdibHVyJyB8fCBjYXVzZSA9PT0gJ2NoYW5nZScpKSB7XG4gICAgICBibGFuay5sb3N0Rm9jdXMoKTtcbiAgICB9XG5cbiAgICBpZiAoY2F1c2UgPT09ICdjaGFuZ2UnICYmIHRoaXMub25UeXBlZCkge1xuICAgICAgdGhpcy5vblR5cGVkKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuYXV0b0NoZWNrKSB7XG4gICAgICBpZiAoIWJsYW5rLmVudGVyZWRUZXh0IHx8IGJsYW5rLmVudGVyZWRUZXh0ID09PSBcIlwiKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIHRoaXMuY2xvemUuaGlkZUFsbEhpZ2hsaWdodHMoKTtcbiAgICAgIGJsYW5rLmV2YWx1YXRlQXR0ZW1wdChmYWxzZSk7XG4gICAgICB0aGlzLmNoZWNrQW5kTm90aWZ5Q29tcGxldGVuZXNzKCk7XG4gICAgICB0aGlzLnJlZnJlc2hDbG96ZSgpO1xuICAgICAgdGhpcy5vbkF1dG9DaGVja2VkKCk7XG4gICAgfVxuICAgIGlmICgoY2F1c2UgPT09ICdlbnRlcicpXG4gICAgICAmJiAoKHRoaXMuc2V0dGluZ3MuYXV0b0NoZWNrICYmIGJsYW5rLmlzQ29ycmVjdCAmJiAhdGhpcy5pc1NvbHZlZClcbiAgICAgICAgfHwgIXRoaXMuc2V0dGluZ3MuYXV0b0NoZWNrKSkge1xuICAgICAgLy8gbW92ZSB0byBuZXh0IGJsYW5rXG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmNsb3plLmJsYW5rcy5pbmRleE9mKGJsYW5rKTtcbiAgICAgIHZhciBuZXh0SWQ7XG4gICAgICB3aGlsZSAoaW5kZXggPCB0aGlzLmNsb3plLmJsYW5rcy5sZW5ndGggLSAxICYmICFuZXh0SWQpIHtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgaWYgKCF0aGlzLmNsb3plLmJsYW5rc1tpbmRleF0uaXNDb3JyZWN0KVxuICAgICAgICAgIG5leHRJZCA9IHRoaXMuY2xvemUuYmxhbmtzW2luZGV4XS5pZDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRJZClcbiAgICAgICAgdGhpcy5qcXVlcnkuZmluZChcIiNcIiArIG5leHRJZCkuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLmNsb3plLnJlc2V0KCk7XG4gICAgdGhpcy5yZWZyZXNoQ2xvemUoKTtcbiAgfVxuXG4gIHNob3dTb2x1dGlvbnMgPSAoKSA9PiB7XG4gICAgdGhpcy5jbG96ZS5zaG93U29sdXRpb25zKCk7XG4gICAgdGhpcy5yZWZyZXNoQ2xvemUoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQW5kQWRkQ29udGFpbmVycyhhZGRUbzogSFRNTEVsZW1lbnQpOiB7IGNsb3plOiBIVE1MRGl2RWxlbWVudCB9IHtcbiAgICB2YXIgY2xvemVDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2xvemVDb250YWluZXJFbGVtZW50LmlkID0gJ2g1cC1jbG96ZS1jb250YWluZXInO1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmNsb3plVHlwZSA9PT0gQ2xvemVUeXBlLlNlbGVjdCkge1xuICAgICAgY2xvemVDb250YWluZXJFbGVtZW50LmNsYXNzTmFtZSA9ICdoNXAtYWR2YW5jZWQtYmxhbmtzLXNlbGVjdC1tb2RlJztcbiAgICB9IGVsc2Uge1xuICAgICAgY2xvemVDb250YWluZXJFbGVtZW50LmNsYXNzTmFtZSA9ICdoNXAtYWR2YW5jZWQtYmxhbmtzLXR5cGUtbW9kZSc7XG4gICAgfVxuICAgIGFkZFRvLmFwcGVuZENoaWxkKGNsb3plQ29udGFpbmVyRWxlbWVudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2xvemU6IGNsb3plQ29udGFpbmVyRWxlbWVudFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUhpZ2hsaWdodEJpbmRpbmcoaGlnaGxpZ2h0OiBIaWdobGlnaHQpIHtcbiAgICB0aGlzLmhpZ2hsaWdodFJhY3RpdmVzW2hpZ2hsaWdodC5pZF0gPSBuZXcgUmFjdGl2ZSh7XG4gICAgICBlbDogJyNjb250YWluZXJfJyArIGhpZ2hsaWdodC5pZCxcbiAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuLi92aWV3cy9oaWdobGlnaHQucmFjdGl2ZS5odG1sJyksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9iamVjdDogaGlnaGxpZ2h0XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUJsYW5rQmluZGluZyhibGFuazogQmxhbmspIHtcbiAgICB2YXIgcmFjdGl2ZSA9IG5ldyBSYWN0aXZlKHtcbiAgICAgIGVsOiAnI2NvbnRhaW5lcl8nICsgYmxhbmsuaWQsXG4gICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi4vdmlld3MvYmxhbmsucmFjdGl2ZS5odG1sJyksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGlzU2VsZWN0Q2xvemU6IHRoaXMuaXNTZWxlY3RDbG96ZSxcbiAgICAgICAgYmxhbms6IGJsYW5rXG4gICAgICB9LFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIGVudGVyOiBSYWN0aXZlRXZlbnRzS2V5cy5lbnRlcixcbiAgICAgICAgZXNjYXBlOiBSYWN0aXZlRXZlbnRzS2V5cy5lc2NhcGUsXG4gICAgICAgIGFueWtleTogUmFjdGl2ZUV2ZW50c0tleXMuYW55a2V5XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmFjdGl2ZS5vbihcImNoZWNrQmxhbmtcIiwgdGhpcy5jaGVja0JsYW5rKTtcbiAgICByYWN0aXZlLm9uKFwic2hvd0hpbnRcIiwgdGhpcy5zaG93SGludCk7XG4gICAgcmFjdGl2ZS5vbihcInRleHRUeXBlZFwiLCB0aGlzLnRleHRUeXBlZCk7XG4gICAgcmFjdGl2ZS5vbihcImNsb3NlTWVzc2FnZVwiLCB0aGlzLnJlcXVlc3RDbG9zZVRvb2x0aXApO1xuICAgIHJhY3RpdmUub24oXCJmb2N1c1wiLCB0aGlzLmZvY3VzKTtcbiAgICByYWN0aXZlLm9uKFwiZGlzcGxheUZlZWRiYWNrXCIsIHRoaXMuZGlzcGxheUZlZWRiYWNrKTtcblxuICAgIHRoaXMuYmxhbmtSYWN0aXZlc1tibGFuay5pZF0gPSByYWN0aXZlO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVSYWN0aXZlQmluZGluZ3MoKSB7XG4gICAgZm9yICh2YXIgaGlnaGxpZ2h0IG9mIHRoaXMuY2xvemUuaGlnaGxpZ2h0cykge1xuICAgICAgdGhpcy5jcmVhdGVIaWdobGlnaHRCaW5kaW5nKGhpZ2hsaWdodCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYmxhbmsgb2YgdGhpcy5jbG96ZS5ibGFua3MpIHtcbiAgICAgIHRoaXMuY3JlYXRlQmxhbmtCaW5kaW5nKGJsYW5rKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgdmlld3Mgb2YgaGlnaGxpZ2h0cyBhbmQgYmxhbmtzLiBDYW4gYmUgY2FsbGVkIHdoZW4gYSBtb2RlbFxuICAgKiB3YXMgY2hhbmdlZFxuICAgKi9cbiAgcHJpdmF0ZSByZWZyZXNoQ2xvemUoKSB7XG4gICAgZm9yICh2YXIgaGlnaGxpZ2h0IG9mIHRoaXMuY2xvemUuaGlnaGxpZ2h0cykge1xuICAgICAgdmFyIGhpZ2hsaWdodFJhY3RpdmUgPSB0aGlzLmhpZ2hsaWdodFJhY3RpdmVzW2hpZ2hsaWdodC5pZF07XG4gICAgICBoaWdobGlnaHRSYWN0aXZlLnNldChcIm9iamVjdFwiLCBoaWdobGlnaHQpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGJsYW5rIG9mIHRoaXMuY2xvemUuYmxhbmtzKSB7XG4gICAgICB2YXIgYmxhbmtSYWN0aXZlID0gdGhpcy5ibGFua1JhY3RpdmVzW2JsYW5rLmlkXTtcbiAgICAgIGJsYW5rUmFjdGl2ZS5zZXQoXCJibGFua1wiLCBibGFuayk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0FuZE5vdGlmeUNvbXBsZXRlbmVzcyA9ICgpOiBib29sZWFuID0+IHtcbiAgICBpZiAodGhpcy5vblNjb3JlQ2hhbmdlZClcbiAgICAgIHRoaXMub25TY29yZUNoYW5nZWQodGhpcy5jdXJyZW50U2NvcmUsIHRoaXMubWF4U2NvcmUpO1xuXG4gICAgaWYgKHRoaXMuY2xvemUuaXNTb2x2ZWQpIHtcbiAgICAgIGlmICh0aGlzLm9uU29sdmVkKVxuICAgICAgICB0aGlzLm9uU29sdmVkKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgc2VyaWFsaXplQ2xvemUoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLmNsb3plLnNlcmlhbGl6ZSgpO1xuICB9XG5cbiAgcHVibGljIGRlc2VyaWFsaXplQ2xvemUoZGF0YTogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmNsb3plIHx8ICFkYXRhKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRoaXMuY2xvemUuZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgdGhpcy5yZWZyZXNoQ2xvemUoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb3JyZWN0QW5zd2VyTGlzdCgpOiBzdHJpbmdbXVtdIHtcbiAgICBpZiAoIXRoaXMuY2xvemUgfHwgdGhpcy5jbG96ZS5ibGFua3MubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFtbXV07XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGJsYW5rIG9mIHRoaXMuY2xvemUuYmxhbmtzKSB7XG4gICAgICByZXN1bHQucHVzaChibGFuay5nZXRDb3JyZWN0QW5zd2VycygpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG4iLCJpbXBvcnQgeyBCbGFua0xvYWRlciB9IGZyb20gJy4vYmxhbmstbG9hZGVyJztcbmltcG9ydCB7IENsb3plRWxlbWVudCwgQ2xvemVFbGVtZW50VHlwZSB9IGZyb20gJy4uL21vZGVscy9jbG96ZS1lbGVtZW50JztcbmltcG9ydCB7IEJsYW5rIH0gZnJvbSAnLi4vbW9kZWxzL2JsYW5rJztcbmltcG9ydCB7IEhpZ2hsaWdodCB9IGZyb20gJy4uL21vZGVscy9oaWdobGlnaHQnO1xuaW1wb3J0IHsgQ2xvemUgfSBmcm9tIFwiLi4vbW9kZWxzL2Nsb3plXCI7XG5cbi8qKlxuICogTG9hZHMgYSBjbG96ZSBvYmplY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBDbG96ZUxvYWRlciB7XG4gIHByaXZhdGUgc3RhdGljIG5vcm1hbGl6ZWRCbGFua01hcmtlciA9ICdfX18nO1xuICBcbiAgLyoqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaHRtbCAtIFRoZSBodG1sIHN0cmluZyB0aGF0IGNvbnRhaW5zIHRoZSBjbG96ZSB3aXRoIGJsYW5rcyBtYXJraW5nIGFuZCBoaWdobGlnaHQgbWFya2luZ3MuXG4gICAqIEBwYXJhbSAge0JsYW5rW119IGJsYW5rcyAtIEFsbCBibGFua3MgYXMgZW50ZXJlZCBieSB0aGUgY29udGVudCBhdXRob3IuXG4gICAqIEByZXR1cm5zIENsb3plXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGNyZWF0ZUNsb3plKGh0bWw6IHN0cmluZywgYmxhbmtzOiBCbGFua1tdKTogQ2xvemUge1xuICAgIHZhciBvcmRlcmVkQWxsRWxlbWVudHNMaXN0OiBDbG96ZUVsZW1lbnRbXSA9IG5ldyBBcnJheSgpO1xuICAgIHZhciBoaWdobGlnaHRJbnN0YW5jZXM6IEhpZ2hsaWdodFtdID0gbmV3IEFycmF5KCk7XG4gICAgdmFyIGJsYW5rc0luc3RhbmNlczogQmxhbmtbXSA9IG5ldyBBcnJheSgpO1xuXG4gICAgaHRtbCA9IENsb3plTG9hZGVyLm5vcm1hbGl6ZUJsYW5rTWFya2luZ3MoaHRtbCk7XG5cbiAgICB2YXIgY29udmVyc2lvblJlc3VsdCA9IENsb3plTG9hZGVyLmNvbnZlcnRNYXJrdXBUb1NwYW5zKGh0bWwsIGJsYW5rcyk7XG4gICAgaHRtbCA9IGNvbnZlcnNpb25SZXN1bHQuaHRtbDtcbiAgICBvcmRlcmVkQWxsRWxlbWVudHNMaXN0ID0gY29udmVyc2lvblJlc3VsdC5vcmRlcmVkQWxsRWxlbWVudHNMaXN0O1xuICAgIGhpZ2hsaWdodEluc3RhbmNlcyA9IGNvbnZlcnNpb25SZXN1bHQuaGlnaGxpZ2h0SW5zdGFuY2VzO1xuICAgIGJsYW5rc0luc3RhbmNlcyA9IGNvbnZlcnNpb25SZXN1bHQuYmxhbmtzSW5zdGFuY2VzO1xuXG4gICAgQ2xvemVMb2FkZXIubGlua0hpZ2hsaWdodHNPYmplY3RzKG9yZGVyZWRBbGxFbGVtZW50c0xpc3QsIGhpZ2hsaWdodEluc3RhbmNlcywgYmxhbmtzSW5zdGFuY2VzKTtcblxuICAgIHZhciBjbG96ZSA9IG5ldyBDbG96ZSgpO1xuICAgIGNsb3plLmh0bWwgPSBodG1sO1xuICAgIGNsb3plLmJsYW5rcyA9IGJsYW5rc0luc3RhbmNlcztcbiAgICBjbG96ZS5oaWdobGlnaHRzID0gaGlnaGxpZ2h0SW5zdGFuY2VzO1xuXG4gICAgcmV0dXJuIGNsb3plO1xuICB9XG5cbiAgIC8qKlxuICAgKiBDb252ZXJ0cyAhIXNpZ25hbCEhIGhpZ2hsaWdodCBtYXJrdXAgYW5kIF9fXyAgYmxhbmsgbWFya3VwIGludG8gPHNwYW4+Li4uPC9zcGFuPi5cbiAgICogUmV0dXJucyB0aGUgcmVzdWx0aW5nIGh0bWwgc3RyaW5nIGFuZCB0aHJlZSBsaXN0cyBvZiBhbGwgYWN0aXZlIGVsZW1lbnRzIHVzZWQgaW4gdGhlIGNsb3plOlxuICAgKiAgICBvcmRlcmVkQWxsRWxlbWVudHM6IGhpZ2hsaWdodHMgYW5kIGJsYW5rcyBpbiB0aGUgb3JkZXIgb2YgYXBwZWFyYW5jZSBpbiB0aGUgaHRtbC5cbiAgICogICAgaGlnaGxpZ2h0SW5zdGFuY2VzOiBvbmx5IGhpZ2hsaWdodHMgaW4gdGhlIG9yZGVyIG9mIGFwcGVhcmFuY2VcbiAgICogICAgYmxhbmtzSW5zdGFuY2VzOiBvbmx5IGJsYW5rcyBpbiB0aGUgb3JkZXIgb2YgYXBwZWFyYW5jZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGh0bWxcbiAgICogQHBhcmFtICB7QmxhbmtbXX0gYmxhbmtzXG4gICAqIEByZXR1cm5zIExpc3RzIG9mIGFjdGl2ZSBlbGVtZW50cyAoc2VlIGRlc2NyaXB0aW9uKS5cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGNvbnZlcnRNYXJrdXBUb1NwYW5zKGh0bWw6IHN0cmluZywgYmxhbmtzOiBCbGFua1tdKTogeyBodG1sOiBzdHJpbmcsIG9yZGVyZWRBbGxFbGVtZW50c0xpc3Q6IENsb3plRWxlbWVudFtdLCBoaWdobGlnaHRJbnN0YW5jZXM6IEhpZ2hsaWdodFtdLCBibGFua3NJbnN0YW5jZXM6IEJsYW5rW10gfSB7XG4gICAgdmFyIG9yZGVyZWRBbGxFbGVtZW50c0xpc3Q6IENsb3plRWxlbWVudFtdID0gbmV3IEFycmF5KCk7XG4gICAgdmFyIGhpZ2hsaWdodEluc3RhbmNlczogSGlnaGxpZ2h0W10gPSBuZXcgQXJyYXkoKTtcbiAgICB2YXIgYmxhbmtzSW5zdGFuY2VzOiBCbGFua1tdID0gbmV3IEFycmF5KCk7XG5cbiAgICB2YXIgZXhjbGFtYXRpb25NYXJrUmVnRXhwID0gLyEhKC57MSw0MH0/KSEhL2k7XG4gICAgdmFyIGhpZ2hsaWdodENvdW50ZXIgPSAwO1xuICAgIGxldCBibGFua0NvdW50ZXIgPSAwO1xuXG4gICAgLy8gU2VhcmNoZXMgdGhlIGh0bWwgc3RyaW5nIGZvciBoaWdobGlnaHRzIGFuZCBibGFua3MgYW5kIGluc2VydHMgc3BhbnMuIFxuICAgIGRvIHtcbiAgICAgIHZhciBuZXh0SGlnaGxpZ2h0TWF0Y2ggPSBodG1sLm1hdGNoKGV4Y2xhbWF0aW9uTWFya1JlZ0V4cCk7XG4gICAgICB2YXIgbmV4dEJsYW5rSW5kZXggPSBodG1sLmluZGV4T2YoQ2xvemVMb2FkZXIubm9ybWFsaXplZEJsYW5rTWFya2VyKTtcblxuICAgICAgaWYgKG5leHRIaWdobGlnaHRNYXRjaCAmJiAoKG5leHRIaWdobGlnaHRNYXRjaC5pbmRleCA8IG5leHRCbGFua0luZGV4KSB8fCAobmV4dEJsYW5rSW5kZXggPCAwKSkpIHtcbiAgICAgICAgLy8gbmV4dCBhY3RpdmUgZWxlbWVudCBpcyBhIGhpZ2hsaWdodFxuICAgICAgICB2YXIgaGlnaGxpZ2h0ID0gbmV3IEhpZ2hsaWdodChuZXh0SGlnaGxpZ2h0TWF0Y2hbMV0sIGBoaWdobGlnaHRfJHtoaWdobGlnaHRDb3VudGVyfWApO1xuICAgICAgICBoaWdobGlnaHRJbnN0YW5jZXMucHVzaChoaWdobGlnaHQpO1xuICAgICAgICBvcmRlcmVkQWxsRWxlbWVudHNMaXN0LnB1c2goaGlnaGxpZ2h0KTtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZShleGNsYW1hdGlvbk1hcmtSZWdFeHAsIGA8c3BhbiBpZD0nY29udGFpbmVyX2hpZ2hsaWdodF8ke2hpZ2hsaWdodENvdW50ZXJ9Jz48L3NwYW4+YCk7XG4gICAgICAgIGhpZ2hsaWdodENvdW50ZXIrKztcbiAgICAgIH0gZWxzZSBpZiAobmV4dEJsYW5rSW5kZXggPj0gMCkge1xuICAgICAgICAvLyBuZXh0IGFjdGl2ZSBlbGVtZW50IGlzIGEgYmxhbmtcbiAgICAgICAgaWYgKGJsYW5rQ291bnRlciA+PSBibGFua3MubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGJsYW5rIGlzIG5vdCBpbiB0aGUgcmVwb3NpdG9yeSAoVGhlIGNvbnRlbnQgYXV0aG9yIGhhcyBtYXJrZWQgdG9vIG1hbnkgYmxhbmtzIGluIHRoZSB0ZXh0LCBidXQgbm90IGVudGVyZWQgY29ycmVjdCBhbnN3ZXJzLilcbiAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKENsb3plTG9hZGVyLm5vcm1hbGl6ZWRCbGFua01hcmtlciwgXCI8c3Bhbj48L3NwYW4+XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBibGFuayA9IGJsYW5rc1tibGFua0NvdW50ZXJdO1xuICAgICAgICAgIGJsYW5rc0luc3RhbmNlcy5wdXNoKGJsYW5rKTtcbiAgICAgICAgICBvcmRlcmVkQWxsRWxlbWVudHNMaXN0LnB1c2goYmxhbmspO1xuICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoQ2xvemVMb2FkZXIubm9ybWFsaXplZEJsYW5rTWFya2VyLCBgPHNwYW4gaWQ9J2NvbnRhaW5lcl8ke2JsYW5rLmlkfSc+PC9zcGFuPmApO1xuICAgICAgICAgIGJsYW5rQ291bnRlcisrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChuZXh0SGlnaGxpZ2h0TWF0Y2ggfHwgKG5leHRCbGFua0luZGV4ID49IDApKTtcblxuICAgIHJldHVybiB7XG4gICAgICBodG1sOiBodG1sLFxuICAgICAgb3JkZXJlZEFsbEVsZW1lbnRzTGlzdDogb3JkZXJlZEFsbEVsZW1lbnRzTGlzdCxcbiAgICAgIGhpZ2hsaWdodEluc3RhbmNlczogaGlnaGxpZ2h0SW5zdGFuY2VzLFxuICAgICAgYmxhbmtzSW5zdGFuY2VzOiBibGFua3NJbnN0YW5jZXNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIExvb2tzIGZvciBhbGwgaW5zdGFuY2VzIG9mIG1hcmtlZCBibGFua3MgYW5kIHJlcGxhY2VzIHRoZW0gd2l0aCBfX18uIFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGh0bWxcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBub3JtYWxpemVCbGFua01hcmtpbmdzKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdmFyIHVuZGVybGluZUJsYW5rUmVnRXggPSAvX3szLH0vZztcbiAgICBodG1sID0gaHRtbC5yZXBsYWNlKHVuZGVybGluZUJsYW5rUmVnRXgsIENsb3plTG9hZGVyLm5vcm1hbGl6ZWRCbGFua01hcmtlcik7XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICAgLyoqXG4gICAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIGJsYW5rcyBhbmQgY2FsbHMgdGhlaXIgbGlua0hpZ2hsaWdodElkc1RvT2JqZWN0cyguLi4pLlxuICAgKiBAcGFyYW0gb3JkZXJlZEFsbEVsZW1lbnRzTGlzdCBcbiAgICogQHBhcmFtIGhpZ2hsaWdodEluc3RhbmNlcyBcbiAgICogQHBhcmFtIGJsYW5rc0luc3RhbmNlcyBcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGxpbmtIaWdobGlnaHRzT2JqZWN0cyhvcmRlcmVkQWxsRWxlbWVudHNMaXN0OiBDbG96ZUVsZW1lbnRbXSwgaGlnaGxpZ2h0SW5zdGFuY2VzOiBIaWdobGlnaHRbXSwgYmxhbmtzSW5zdGFuY2VzOiBCbGFua1tdKTogdm9pZCB7XG4gICAgZm9yICh2YXIgYmxhbmsgb2YgYmxhbmtzSW5zdGFuY2VzKSB7XG4gICAgICB2YXIgbmV4dEJsYW5rSW5kZXhJbkFycmF5ID0gb3JkZXJlZEFsbEVsZW1lbnRzTGlzdC5pbmRleE9mKGJsYW5rKTtcbiAgICAgIHZhciBoaWdobGlnaHRzQmVmb3JlQmxhbmsgPSBvcmRlcmVkQWxsRWxlbWVudHNMaXN0XG4gICAgICAgIC5zbGljZSgwLCBuZXh0QmxhbmtJbmRleEluQXJyYXkpXG4gICAgICAgIC5maWx0ZXIoZSA9PiBlLnR5cGUgPT09IENsb3plRWxlbWVudFR5cGUuSGlnaGxpZ2h0KVxuICAgICAgICAubWFwKGUgPT4gZSBhcyBIaWdobGlnaHQpXG4gICAgICAgIC5yZXZlcnNlKCk7XG4gICAgICB2YXIgaGlnaGxpZ2h0c0FmdGVyQmxhbmsgPSBvcmRlcmVkQWxsRWxlbWVudHNMaXN0XG4gICAgICAgIC5zbGljZShuZXh0QmxhbmtJbmRleEluQXJyYXkgKyAxKVxuICAgICAgICAuZmlsdGVyKGUgPT4gZS50eXBlID09PSBDbG96ZUVsZW1lbnRUeXBlLkhpZ2hsaWdodClcbiAgICAgICAgLm1hcChlID0+IGUgYXMgSGlnaGxpZ2h0KTtcbiAgICAgIEJsYW5rTG9hZGVyLmluc3RhbmNlLmxpbmtIaWdobGlnaHRJZFRvT2JqZWN0KGJsYW5rLCBoaWdobGlnaHRzQmVmb3JlQmxhbmssIGhpZ2hsaWdodHNBZnRlckJsYW5rKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBDbG96ZUVsZW1lbnQsIENsb3plRWxlbWVudFR5cGUgfSBmcm9tICcuL2Nsb3plLWVsZW1lbnQnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBoaWdobGlnaHQgaW4gdGhlIGNsb3plLlxuICovXG5leHBvcnQgY2xhc3MgSGlnaGxpZ2h0IGV4dGVuZHMgQ2xvemVFbGVtZW50IHtcblx0dGV4dDogc3RyaW5nO1xuXHRpc0hpZ2hsaWdodGVkOiBib29sZWFuO1xuXHRpZDogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZywgaWQ6IHN0cmluZykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy50eXBlID0gQ2xvemVFbGVtZW50VHlwZS5IaWdobGlnaHQ7XG5cdFx0dGhpcy50ZXh0ID0gdGV4dDtcblx0XHR0aGlzLmlkID0gaWQ7XG5cdFx0dGhpcy5pc0hpZ2hsaWdodGVkID0gZmFsc2U7XG5cdH1cbn0iLCJpbXBvcnQgeyBIaWdobGlnaHQgfSBmcm9tIFwiLi9oaWdobGlnaHRcIjtcbmltcG9ydCB7IEJsYW5rIH0gZnJvbSBcIi4vYmxhbmtcIjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBjbG96ZS4gSW5zdGFudGlhdGUgd2l0aCBzdGF0aWMgY3JlYXRlQ2xvemUoKS5cbiAqL1xuZXhwb3J0IGNsYXNzIENsb3plIHtcbiAgcHVibGljIGh0bWw6IHN0cmluZztcbiAgcHVibGljIGhpZ2hsaWdodHM6IEhpZ2hsaWdodFtdO1xuICBwdWJsaWMgYmxhbmtzOiBCbGFua1tdO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYWxsIGJsYW5rcyB3ZXJlIGVudGVyZWQgY29ycmVjdGx5LiBcbiAgICogQHJldHVybnMgYm9vbGVhblxuICAgKi9cbiAgcHVibGljIGdldCBpc1NvbHZlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ibGFua3MuZXZlcnkoYiA9PiBiLmlzQ29ycmVjdCA9PT0gdHJ1ZSk7XG4gIH1cblxuXG4gIHB1YmxpYyBoaWRlQWxsSGlnaGxpZ2h0cygpOiB2b2lkIHtcbiAgICBmb3IgKHZhciBoaWdobGlnaHQgb2YgdGhpcy5oaWdobGlnaHRzKSB7XG4gICAgICBoaWdobGlnaHQuaXNIaWdobGlnaHRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpIHtcbiAgICB0aGlzLmhpZGVBbGxIaWdobGlnaHRzKCk7XG4gICAgZm9yICh2YXIgYmxhbmsgb2YgdGhpcy5ibGFua3MpIHtcbiAgICAgIGJsYW5rLnJlc2V0KCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNob3dTb2x1dGlvbnMoKSB7XG4gICAgZm9yICh2YXIgYmxhbmsgb2YgdGhpcy5ibGFua3MpIHtcbiAgICAgIGJsYW5rLnNob3dTb2x1dGlvbigpO1xuICAgIH1cbiAgICB0aGlzLmhpZGVBbGxIaWdobGlnaHRzKCk7XG4gIH1cblxuICBwdWJsaWMgc2VyaWFsaXplKCkgOiBzdHJpbmdbXSB7XG4gICAgdmFyIGNsb3plID0gW107XG4gICAgZm9yICh2YXIgYmxhbmsgb2YgdGhpcy5ibGFua3MpIHtcbiAgICAgIGNsb3plLnB1c2goYmxhbmsuc2VyaWFsaXplKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBjbG96ZTtcbiAgfVxuXG4gIHB1YmxpYyBkZXNlcmlhbGl6ZShkYXRhOiBhbnkpIHtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZGF0YS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmIChpbmRleCA+PSB0aGlzLmJsYW5rcy5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHZhciBibGFuayA9IHRoaXMuYmxhbmtzW2luZGV4XTtcbiAgICAgIGJsYW5rLmRlc2VyaWFsaXplKGRhdGFbaW5kZXhdKTtcbiAgICB9XG4gIH1cbn0iLCIvLyBUT0RPIGNhbiB3ZSBqdXN0IGRlY2xhcmUgdGhlIGtleWRvd25IYW5kbGVyIG9uY2U/IHVzaW5nIGB0aGlzYD9cbmZ1bmN0aW9uIG1ha2VLZXlEZWZpbml0aW9uKGNvZGU/OiBudW1iZXIpIHtcbiAgcmV0dXJuIChub2RlLCBmaXJlKSA9PiB7XG4gICAgZnVuY3Rpb24ga2V5ZG93bkhhbmRsZXIoZXZlbnQpIHtcbiAgICAgIHZhciB3aGljaCA9IGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGU7XG5cbiAgICAgIGlmIChjb2RlICYmIHdoaWNoID09PSBjb2RlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgZmlyZSh7XG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgICBvcmlnaW5hbDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICghY29kZSAmJiBbMTYsIDE3LCAxOCwgMzUsIDM2LCAxMywgOSwgMjcsIDMyLCAzNywgMzksIDQwLCAzOF0uZmlsdGVyKGMgPT4gYyA9PT0gd2hpY2gpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmaXJlKHtcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIG9yaWdpbmFsOiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlciwgZmFsc2UpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRlYXJkb3duKCkge1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBlbnRlciA9IG1ha2VLZXlEZWZpbml0aW9uKDEzKTtcbmV4cG9ydCBjb25zdCB0YWIgPSBtYWtlS2V5RGVmaW5pdGlvbig5KTtcbmV4cG9ydCBjb25zdCBlc2NhcGUgPSBtYWtlS2V5RGVmaW5pdGlvbigyNyk7XG5leHBvcnQgY29uc3Qgc3BhY2UgPSBtYWtlS2V5RGVmaW5pdGlvbigzMik7XG5cbmV4cG9ydCBjb25zdCBsZWZ0YXJyb3cgPSBtYWtlS2V5RGVmaW5pdGlvbigzNyk7XG5leHBvcnQgY29uc3QgcmlnaHRhcnJvdyA9IG1ha2VLZXlEZWZpbml0aW9uKDM5KTtcbmV4cG9ydCBjb25zdCBkb3duYXJyb3cgPSBtYWtlS2V5RGVmaW5pdGlvbig0MCk7XG5leHBvcnQgY29uc3QgdXBhcnJvdyA9IG1ha2VLZXlEZWZpbml0aW9uKDM4KTtcblxuZXhwb3J0IGNvbnN0IGFueWtleSA9IG1ha2VLZXlEZWZpbml0aW9uKCk7IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzcGFuIHt7I29iamVjdC5pc0hpZ2hsaWdodGVkfX1jbGFzcz1cXFwiaGlnaGxpZ2h0ZWRcXFwie3svaWZ9fSBpZD1cXFwie3tvYmplY3QuaWR9fVxcXCI+e3t7b2JqZWN0LnRleHR9fX08L3NwYW4+XCI7IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzcGFuIGlkPVxcXCJjb250YWluZXJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJibGFuayB7eyNibGFuay5oYXNQZW5kaW5nRmVlZGJhY2t9fWhhcy1wZW5kaW5nLWZlZWRiYWNre3svaWZ9fSB7eyNibGFuay5oYXNIaW50fX1oYXMtdGlwe3svaWZ9fSB7eyNibGFuay5pc0NvcnJlY3R9fWNvcnJlY3R7ey9pZn19IHt7I2JsYW5rLmlzRXJyb3J9fWVycm9ye3svaWZ9fSB7eyNibGFuay5pc1JldHJ5fX1yZXRyeXt7L2lmfX0ge3sjYmxhbmsuaXNTaG93aW5nU29sdXRpb259fXNob3dpbmctc29sdXRpb257ey9pZn19XFxcIj5cXG4gIHt7I3VubGVzcyBpc1NlbGVjdENsb3plfX1cXG4gICAgPHNwYW4gY2xhc3M9XFxcImg1cC1pbnB1dC13cmFwcGVyXFxcIj5cXG4gICAgICA8aW5wdXQgaWQ9XFxcInt7YmxhbmsuaWR9fVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgdmFsdWU9XFxcInt7YmxhbmsuZW50ZXJlZFRleHR9fVxcXCIgXFxuICAgICAgICAgICAgIHNpemU9XFxcInt7YmxhbmsubWluVGV4dExlbmd0aH19XFxcIiBvbi1lc2NhcGU9XFxcIkB0aGlzLmZpcmUoJ2Nsb3NlTWVzc2FnZScsIGJsYW5rKVxcXCIgXFxuICAgICAgICAgICAgIG9uLWVudGVyPVxcXCJAdGhpcy5maXJlKCdjaGVja0JsYW5rJywgYmxhbmssICdlbnRlcicpXFxcIiBcXG4gICAgICAgICAgICAgb24tYmx1cj1cXFwiQHRoaXMuZmlyZSgnY2hlY2tCbGFuaycsIGJsYW5rLCAnYmx1cicpXFxcIiBcXG4gICAgICAgICAgICAgb24tZm9jdXM9XFxcIkB0aGlzLmZpcmUoJ2ZvY3VzJywgYmxhbmspXFxcIlxcbiAgICAgICAgICAgICBvbi1hbnlrZXk9XFxcIkB0aGlzLmZpcmUoJ3RleHRUeXBlZCcsIGJsYW5rKVxcXCJcXG4gICAgICAgICAgICAge3sjKGJsYW5rLmlzQ29ycmVjdCB8fCBibGFuay5pc1Nob3dpbmdTb2x1dGlvbil9fWRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCJ7ey9pZn19XFxuICAgICAgICAgICAgIGNsYXNzPVxcXCJoNXAtdGV4dC1pbnB1dFxcXCJcXG4gICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiXFxuICAgICAgICAgICAgIGF1dG9jYXBpdGFsaXplPVxcXCJvZmZcXFwiLz5cXG4gICAgICB7eyNibGFuay5oYXNIaW50fX1cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJoNXAtdGlwLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxidXR0b24gb24tY2xpY2s9XFxcIkB0aGlzLmZpcmUoJ3Nob3dIaW50JywgYmxhbmspXFxcIiB7eyMoYmxhbmsuaXNDb3JyZWN0IHx8IGJsYW5rLmlzU2hvd2luZ1NvbHV0aW9uKX19ZGlzYWJsZWQ9XFxcImRpc2FibGVkXFxcIiB7ey9pZn19PlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJqb3ViZWwtdGlwLWNvbnRhaW5lclxcXCIgdGl0bGU9XFxcIlRpcFxcXCIgYXJpYS1sYWJlbD1cXFwiVGlwXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJ0cnVlXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRhYmluZGV4PVxcXCIwXFxcIj48c3BhbiBjbGFzcz1cXFwiam91YmVsLWljb24tdGlwLW5vcm1hbCBcXFwiPjxzcGFuIGNsYXNzPVxcXCJoNXAtaWNvbi1zaGFkb3dcXFwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwiaDVwLWljb24tc3BlZWNoLWJ1YmJsZVxcXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJoNXAtaWNvbi1pbmZvXFxcIj48L3NwYW4+PC9zcGFuPjwvc3Bhbj5cXG4gICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8L3NwYW4+XFxuICAgICAgICB7ey9pZn19XFxuICAgIDwvc3Bhbj4gICAgXFxuICB7ey91bmxlc3N9fVxcbiAge3sjaWYgaXNTZWxlY3RDbG96ZX19XFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiaDVwLW5vdGlmaWNhdGlvblxcXCIgb24tY2xpY2s9XFxcIkB0aGlzLmZpcmUoJ2Rpc3BsYXlGZWVkYmFjaycsIGJsYW5rKVxcXCI+XFxuICAgICAgICAmI3hmMDVhO1xcbiAgICAgIDwvYnV0dG9uPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJoNXAtaW5wdXQtd3JhcHBlclxcXCI+ICAgICAgXFxuICAgICAgPHNlbGVjdCBpZD1cXFwie3tibGFuay5pZH19XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiB2YWx1ZT1cXFwie3tibGFuay5lbnRlcmVkVGV4dH19XFxcIlxcbiAgICAgICAgICAgICAgb24tZW50ZXI9XFxcIkB0aGlzLmZpcmUoJ2NoZWNrQmxhbmsnLCBibGFuaywgJ2VudGVyJylcXFwiIFxcbiAgICAgICAgICAgICAgb24tY2hhbmdlPVxcXCJAdGhpcy5maXJlKCdjaGVja0JsYW5rJywgYmxhbmssICdjaGFuZ2UnKVxcXCJcXG4gICAgICAgICAgICAgIG9uLWZvY3VzPVxcXCJAdGhpcy5maXJlKCdmb2N1cycsIGJsYW5rKVxcXCIgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAge3sjKGJsYW5rLmlzQ29ycmVjdCB8fCBibGFuay5pc1Nob3dpbmdTb2x1dGlvbil9fWRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCJ7ey9pZn19IFxcbiAgICAgICAgICAgICAgc2l6ZT1cXFwiMVxcXCJcXG4gICAgICAgICAgICAgIGNsYXNzPVxcXCJoNXAtdGV4dC1pbnB1dFxcXCI+XFxuICAgICAgICB7eyNlYWNoIGJsYW5rLmNob2ljZXN9fVxcbiAgICAgICAgICA8b3B0aW9uPnt7dGhpc319PC9vcHRpb24+XFxuICAgICAgICB7ey9lYWNofX1cXG4gICAgICA8L3NlbGVjdD4gICAgICAgICAgICAgICAgICAgICBcXG4gICAgICB7eyNibGFuay5oYXNIaW50fX1cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJoNXAtdGlwLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxidXR0b24gb24tY2xpY2s9XFxcIkB0aGlzLmZpcmUoJ3Nob3dIaW50JywgYmxhbmspXFxcIiB7eyMoYmxhbmsuaXNDb3JyZWN0IHx8IGJsYW5rLmlzU2hvd2luZ1NvbHV0aW9uKX19ZGlzYWJsZWQ9XFxcImRpc2FibGVkXFxcInt7L2lmfX0+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImpvdWJlbC10aXAtY29udGFpbmVyXFxcIiB0aXRsZT1cXFwiVGlwXFxcIiBhcmlhLWxhYmVsPVxcXCJUaXBcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcInRydWVcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjxzcGFuIGNsYXNzPVxcXCJqb3ViZWwtaWNvbi10aXAtbm9ybWFsIFxcXCI+PHNwYW4gY2xhc3M9XFxcImg1cC1pY29uLXNoYWRvd1xcXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJoNXAtaWNvbi1zcGVlY2gtYnViYmxlXFxcIj48L3NwYW4+PHNwYW4gY2xhc3M9XFxcImg1cC1pY29uLWluZm9cXFwiPjwvc3Bhbj48L3NwYW4+PC9zcGFuPlxcbiAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDwvc3Bhbj5cXG4gICAgICB7ey9pZn19ICAgICBcXG4gICAgPC9zcGFuPlxcbiAge3svaWZ9fVxcbjwvc3Bhbj5cIjsiLCJpbXBvcnQgeyBDbG96ZVR5cGUsIFNlbGVjdEFsdGVybmF0aXZlcyB9IGZyb20gXCIuLi9tb2RlbHMvZW51bXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJU2V0dGluZ3Mge1xuICBjbG96ZVR5cGU6IENsb3plVHlwZTtcbiAgc2VsZWN0QWx0ZXJuYXRpdmVzOiBTZWxlY3RBbHRlcm5hdGl2ZXM7XG4gIHNlbGVjdEFsdGVybmF0aXZlUmVzdHJpY3Rpb246IG51bWJlcjtcbiAgZW5hYmxlUmV0cnk6IGJvb2xlYW47XG4gIGVuYWJsZVNvbHV0aW9uc0J1dHRvbjogYm9vbGVhbjtcbiAgZW5hYmxlQ2hlY2tCdXR0b246IGJvb2xlYW47XG4gIGF1dG9DaGVjazogYm9vbGVhbjtcbiAgY2FzZVNlbnNpdGl2ZTogYm9vbGVhbjtcbiAgd2FyblNwZWxsaW5nRXJyb3JzOiBib29sZWFuO1xuICBhY2NlcHRTcGVsbGluZ0Vycm9yczogYm9vbGVhbjtcbiAgc2hvd1NvbHV0aW9uc1JlcXVpcmVzSW5wdXQ6IGJvb2xlYW47XG4gIGNvbmZpcm1DaGVja0RpYWxvZzogYm9vbGVhbjtcbiAgY29uZmlybVJldHJ5RGlhbG9nOiBib29sZWFuO1xuICBkaXNhYmxlSW1hZ2Vab29taW5nOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgSDVQU2V0dGluZ3MgaW1wbGVtZW50cyBJU2V0dGluZ3Mge1xuICBwdWJsaWMgY2xvemVUeXBlOiBDbG96ZVR5cGUgPSBDbG96ZVR5cGUuVHlwZTtcbiAgcHVibGljIHNlbGVjdEFsdGVybmF0aXZlczogU2VsZWN0QWx0ZXJuYXRpdmVzID0gU2VsZWN0QWx0ZXJuYXRpdmVzLkFsdGVybmF0aXZlcztcbiAgcHVibGljIHNlbGVjdEFsdGVybmF0aXZlUmVzdHJpY3Rpb246IG51bWJlciA9IDU7XG4gIHB1YmxpYyBlbmFibGVSZXRyeTogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBlbmFibGVTb2x1dGlvbnNCdXR0b246IGJvb2xlYW4gPSB0cnVlO1xuICBwdWJsaWMgZW5hYmxlQ2hlY2tCdXR0b246IGJvb2xlYW4gPSB0cnVlO1xuICBwdWJsaWMgYXV0b0NoZWNrOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBjYXNlU2Vuc2l0aXZlOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyB3YXJuU3BlbGxpbmdFcnJvcnM6IGJvb2xlYW4gPSB0cnVlO1xuICBwdWJsaWMgYWNjZXB0U3BlbGxpbmdFcnJvcnM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHVibGljIHNob3dTb2x1dGlvbnNSZXF1aXJlc0lucHV0OiBib29sZWFuID0gdHJ1ZTtcbiAgcHVibGljIGNvbmZpcm1DaGVja0RpYWxvZzogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgY29uZmlybVJldHJ5RGlhbG9nOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBkaXNhYmxlSW1hZ2Vab29taW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoaDVwQ29uZmlnRGF0YTogYW55KSB7XG4gICAgaWYgKGg1cENvbmZpZ0RhdGEuYmVoYXZpb3VyLm1vZGUgPT09ICdzZWxlY3Rpb24nKSB7XG4gICAgICB0aGlzLmNsb3plVHlwZSA9IENsb3plVHlwZS5TZWxlY3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jbG96ZVR5cGUgPSBDbG96ZVR5cGUuVHlwZTtcbiAgICB9XG5cbiAgICBpZiAoaDVwQ29uZmlnRGF0YS5iZWhhdmlvdXIuc2VsZWN0QWx0ZXJuYXRpdmVzID09PSAnYWxsJykge1xuICAgICAgdGhpcy5zZWxlY3RBbHRlcm5hdGl2ZXMgPSBTZWxlY3RBbHRlcm5hdGl2ZXMuQWxsO1xuICAgIH0gZWxzZSBpZiAoaDVwQ29uZmlnRGF0YS5iZWhhdmlvdXIuc2VsZWN0QWx0ZXJuYXRpdmVzID09PSAnYWx0ZXJuYXRpdmVzJykge1xuICAgICAgdGhpcy5zZWxlY3RBbHRlcm5hdGl2ZXMgPSBTZWxlY3RBbHRlcm5hdGl2ZXMuQWx0ZXJuYXRpdmVzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0QWx0ZXJuYXRpdmVzID0gU2VsZWN0QWx0ZXJuYXRpdmVzLkFsbDtcbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjdEFsdGVybmF0aXZlUmVzdHJpY3Rpb24gPSBoNXBDb25maWdEYXRhLmJlaGF2aW91ci5zZWxlY3RBbHRlcm5hdGl2ZVJlc3RyaWN0aW9uO1xuICAgIHRoaXMuZW5hYmxlUmV0cnkgPSBoNXBDb25maWdEYXRhLmJlaGF2aW91ci5lbmFibGVSZXRyeTtcbiAgICB0aGlzLmVuYWJsZVNvbHV0aW9uc0J1dHRvbiA9IGg1cENvbmZpZ0RhdGEuYmVoYXZpb3VyLmVuYWJsZVNvbHV0aW9uc0J1dHRvbjtcbiAgICB0aGlzLmVuYWJsZUNoZWNrQnV0dG9uID0gaDVwQ29uZmlnRGF0YS5iZWhhdmlvdXIuZW5hYmxlQ2hlY2tCdXR0b247XG4gICAgdGhpcy5hdXRvQ2hlY2sgPSBoNXBDb25maWdEYXRhLmJlaGF2aW91ci5hdXRvQ2hlY2s7XG4gICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gaDVwQ29uZmlnRGF0YS5iZWhhdmlvdXIuY2FzZVNlbnNpdGl2ZTtcbiAgICB0aGlzLndhcm5TcGVsbGluZ0Vycm9ycyA9IGg1cENvbmZpZ0RhdGEuYmVoYXZpb3VyLnNwZWxsaW5nRXJyb3JCZWhhdmlvdXIgPT09IFwid2FyblwiO1xuICAgIHRoaXMuYWNjZXB0U3BlbGxpbmdFcnJvcnMgPSBoNXBDb25maWdEYXRhLmJlaGF2aW91ci5zcGVsbGluZ0Vycm9yQmVoYXZpb3VyID09PSBcImFjY2VwdFwiO1xuICAgIHRoaXMuc2hvd1NvbHV0aW9uc1JlcXVpcmVzSW5wdXQgPSBoNXBDb25maWdEYXRhLmJlaGF2aW91ci5zaG93U29sdXRpb25zUmVxdWlyZXNJbnB1dDtcbiAgICB0aGlzLmNvbmZpcm1DaGVja0RpYWxvZyA9IGg1cENvbmZpZ0RhdGEuYmVoYXZpb3VyLmNvbmZpcm1DaGVja0RpYWxvZztcbiAgICB0aGlzLmNvbmZpcm1SZXRyeURpYWxvZyA9IGg1cENvbmZpZ0RhdGEuYmVoYXZpb3VyLmNvbmZpcm1SZXRyeURpYWxvZztcbiAgICB0aGlzLmRpc2FibGVJbWFnZVpvb21pbmcgPSBoNXBDb25maWdEYXRhLm1lZGlhLmRpc2FibGVJbWFnZVpvb21pbmc7XG5cbiAgICB0aGlzLmVuZm9yY2VMb2dpYygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHNldHMgc2Vuc2libGUgZGVmYXVsdCB2YWx1ZXMgZm9yIHNldHRpbmdzIGhpZGRlbiB3aXRoIHNob3dXaGVuXG4gICAqL1xuICBwcml2YXRlIGVuZm9yY2VMb2dpYygpIHtcbiAgICBpZiAodGhpcy5jbG96ZVR5cGUgPT09IENsb3plVHlwZS5UeXBlKSB7XG4gICAgICB0aGlzLnNlbGVjdEFsdGVybmF0aXZlcyA9IFNlbGVjdEFsdGVybmF0aXZlcy5BbGw7XG4gICAgICB0aGlzLnNlbGVjdEFsdGVybmF0aXZlUmVzdHJpY3Rpb24gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3RBbHRlcm5hdGl2ZVJlc3RyaWN0aW9uID09PSBTZWxlY3RBbHRlcm5hdGl2ZXMuQWx0ZXJuYXRpdmVzKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0QWx0ZXJuYXRpdmVSZXN0cmljdGlvbiA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLndhcm5TcGVsbGluZ0Vycm9ycyA9IGZhbHNlO1xuICAgICAgdGhpcy5hY2NlcHRTcGVsbGluZ0Vycm9ycyA9IGZhbHNlO1xuICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgQmxhbmsgfSBmcm9tICcuLi9tb2RlbHMvYmxhbmsnO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICcuLi9tb2RlbHMvZW51bXMnO1xuXG5leHBvcnQgY2xhc3MgTWVzc2FnZVNlcnZpY2Uge1xuICBwcml2YXRlIHNwZWVjaEJ1YmJsZTogYW55O1xuICBwcml2YXRlIGFzc29jaWF0ZWRCbGFuazogQmxhbms7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBqUXVlcnk6IEpRdWVyeVN0YXRpYykge1xuXG4gIH1cblxuICBwdWJsaWMgc2hvdyhlbGVtZW50SWQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBibGFuazogQmxhbmssIHR5cGU/OiBNZXNzYWdlVHlwZSkge1xuICAgIGlmICghdHlwZSlcbiAgICAgIHR5cGUgPSBNZXNzYWdlVHlwZS5Ob25lO1xuXG4gICAgdmFyIGVsZW1lbnRzID0gdGhpcy5qUXVlcnkoXCIjXCIgKyBlbGVtZW50SWQpO1xuXG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc3BlZWNoQnViYmxlID0gbmV3IEg1UC5Kb3ViZWxTcGVlY2hCdWJibGUoZWxlbWVudHMsIG1lc3NhZ2UpO1xuICAgICAgdGhpcy5hc3NvY2lhdGVkQmxhbmsgPSBibGFuaztcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGlkZSgpIHtcbiAgICBpZiAodGhpcy5zcGVlY2hCdWJibGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc3BlZWNoQnViYmxlLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNwZWVjaEJ1YmJsZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFzc29jaWF0ZWRCbGFuayA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHB1YmxpYyBpc0FjdGl2ZShibGFuazogQmxhbmspIHtcbiAgICByZXR1cm4gdGhpcy5hc3NvY2lhdGVkQmxhbmsgPT09IGJsYW5rO1xuICB9XG59IiwiLyoqXG4gKiBUaGlzIGNsYXNzIGNsZWFucyBodG1sIHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBVbnJ3YXBwZXIge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBqcXVlcnk6IEpRdWVyeVN0YXRpYykge1xuXG4gIH1cblxuICBcbiAgLyoqXG4gICAqIENsZWFucyBodG1sIHN0cmluZ3MgYnkgcmVtb3ZpbmcgdGhlIG91dG1vc3QgaHRtbCB0YWcgb2YgdGhlIHN0cmluZyBpZiB0aGVyZSBpcyBvbmx5IG9uZSB0YWcuXG4gICAqIEV4YW1wbGVzOiAgXCI8cD5teSB0ZXh0PC9wPlwiXCIgYmVjb21lcyBcIm15IHRleHRcIlxuICAgKiAgICAgICAgICAgIFwiPHA+dGV4dCAxPC9wPjxwPnRleHQgMjwvcDI+XCIgc3RheXNcbiAgICogQHBhcmFtIGh0bWwgVGhlIGh0bWwgc3RyaW5nXG4gICAqIEByZXR1cm5zIHRoZSBjbGVhbmVkIGh0bWwgc3RyaW5nXG4gICAqL1xuICBwdWJsaWMgdW53cmFwKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdmFyIHBhcnNlZCA9IHRoaXMuanF1ZXJ5KGh0bWwpO1xuICAgIGlmIChwYXJzZWQubGVuZ3RoICE9PSAxKSB7XG4gICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgbGV0IHVud3JhcHBlZCA9IHBhcnNlZC51bndyYXAoKS5odG1sKCk7XG4gICAgcmV0dXJuIHVud3JhcHBlZDtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBYQVBJQWN0aXZpdHlEZWZpbml0aW9uIHtcbiAgbmFtZTogYW55O1xuICBkZXNjcmlwdGlvbjogYW55O1xuICB0eXBlOiBzdHJpbmc7XG4gIGludGVyYWN0aW9uVHlwZTogXCJ0cnVlLWZhbHNlXCIgfCBcImNob2ljZVwiIHwgXCJmaWxsLWluXCIgfCBcImxvbmctZmlsbC1pblwiIHwgXCJtYXRjaGluZ1wiIHwgXCJwZXJmb3JtYW5jZVwiIHwgXCJzZXF1ZW5jaW5nXCIgfCBcImxpa2VydFwiIHwgXCJudW1lcmljXCIgfCBcIm90aGVyXCI7XG4gIGNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuPzogc3RyaW5nW107XG4gIGV4dGVuc2lvbnM6IGFueTtcbn1cbiIsIi8qKlxuICogRXh0ZW5kIGFuIGFycmF5IGp1c3QgbGlrZSBKUXVlcnkncyBleHRlbmQuXG4gKiBAcGFyYW0ge29iamVjdH0gYXJndW1lbnRzIE9iamVjdHMgdG8gYmUgbWVyZ2VkLlxuICogQHJldHVybiB7b2JqZWN0fSBNZXJnZWQgb2JqZWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZCguLi5hcmdzOiBhbnlbXSkge1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gYXJnc1tpXSkge1xuICAgICAgaWYgKGFyZ3NbaV0uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF1ba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZ3NbaV1ba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB0aGlzLmV4dGVuZChhcmdzWzBdW2tleV0sIGFyZ3NbaV1ba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYXJnc1swXVtrZXldID0gYXJnc1tpXVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhcmdzWzBdO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==