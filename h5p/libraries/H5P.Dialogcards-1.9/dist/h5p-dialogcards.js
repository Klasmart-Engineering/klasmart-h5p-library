!function(){"use strict";var e=H5P.jQuery,t=function(){function t(t,r,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.card=t,this.params=r||{},this.id=a,this.contentId=i,this.callbacks=n,this.card.back.useImageFromFront&&(this.card.back.image=this.card.front.image,this.card.back.imageAltText=this.card.front.imageAltText),this.card.back.useAudioFromFront&&(this.card.back.audio=this.card.front.audio),this.audios={},this.$audioWrappers={},this.$cardWrapper=e("<div>",{class:"h5p-dialogcards-cardwrap",role:"group",tabindex:"-1"}),"repetition"!==this.params.mode&&this.$cardWrapper.attr("aria-labelledby","h5p-dialogcards-progress-"+H5P.Dialogcards.idCounter),this.$cardHolder=e("<div>",{class:"h5p-dialogcards-cardholder"}).appendTo(this.$cardWrapper),this.createCardContent(t).appendTo(this.$cardHolder),this}var r=t.prototype;return r.createCardContent=function(t){var r=e("<div>",{class:"h5p-dialogcards-card-content"});this.$imageWrapper=e("<div>",{class:"h5p-dialogcards-image-wrapper"}),this.createCardImage(t,"front").appendTo(this.$imageWrapper),this.createCardImage(t,"back").appendTo(this.$imageWrapper),this.$imageWrapper.appendTo(r);var a=e("<div>",{class:"h5p-dialogcards-card-text-wrapper"}).appendTo(r),i=e("<div>",{class:"h5p-dialogcards-card-text-inner"}).appendTo(a),n=e("<div>",{class:"h5p-dialogcards-card-text-inner-content"}).appendTo(i);this.$audioWrappers.front=this.createCardAudio(t,"front").appendTo(n),this.$audioWrappers.back=this.createCardAudio(t,"back").appendTo(n);var s=e("<div>",{class:"h5p-dialogcards-card-text"}).appendTo(n);return this.$cardTextArea=e("<div>",{class:"h5p-dialogcards-card-text-area",tabindex:"-1",html:t.front.text}).appendTo(s),this.createCardFooter().appendTo(a),r},r.createCardImage=function(t,r){var a;return void 0!==t[r].image?((a=e('<img class="h5p-dialogcards-image" src="'+H5P.getPath(t[r].image.path,this.contentId)+'"/>')).addClass("h5p-dialogcards-image-".concat(r)),a.get(0).addEventListener("dragstart",(function(e){e.preventDefault()})),a.get(0).addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),a.css({"user-select":"none","-webkit-user-select":"none","-webkit-touch-callout":"none"}),t[r].imageAltText&&a.attr("alt",t[r].imageAltText)):a=e('<div class="h5p-dialogcards-image"></div>'),a},r.createCardAudio=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"front",a=e("<div>").addClass("h5p-dialogcards-audio-wrapper").addClass("h5p-dialogcards-audio-wrapper-".concat(r));if(t[r].text&&""!==t[r].text||a.addClass("h5p-no-text"),void 0!==t[r].audio){var i={files:t[r].audio,audioNotSupported:this.params.audioNotSupported},n=new H5P.Audio(i,this.contentId);this.audios[r]=n,n.attach(a),n.audio&&n.audio.preload&&(n.audio.preload="none")}else a.addClass("hide");return a},r.createCardFooter=function(){var t=e("<div>",{class:"h5p-dialogcards-card-footer"}),r="h5p-dialogcards-button-hidden",a="-1";return"repetition"===this.params.mode&&(r="",this.params.behaviour.quickProgression&&(r="h5p-dialogcards-quick-progression",a="0"),t.addClass("h5p-repetition")),this.$buttonTurn=H5P.JoubelUI.createButton({class:"h5p-dialogcards-turn",html:this.params.answer}).appendTo(t),this.$buttonShowSummary=H5P.JoubelUI.createButton({class:"h5p-dialogcards-show-summary h5p-dialogcards-button-gone",html:this.params.showSummary}).appendTo(t),this.$buttonIncorrect=H5P.JoubelUI.createButton({class:"h5p-dialogcards-answer-button",html:this.params.incorrectAnswer}).addClass("incorrect").addClass(r).attr("tabindex",a).appendTo(t),this.$buttonCorrect=H5P.JoubelUI.createButton({class:"h5p-dialogcards-answer-button",html:this.params.correctAnswer}).addClass("correct").addClass(r).attr("tabindex",a).appendTo(t),t},r.createButtonListeners=function(){var e=this;this.$buttonIncorrect.unbind("click").click((function(t){t.target.classList.contains("h5p-dialogcards-quick-progression")&&e.callbacks.onNextCard({cardId:e.id,result:!1})})),this.$buttonTurn.unbind("click").click((function(){e.turnCard()})),this.$buttonCorrect.unbind("click").click((function(t){t.target.classList.contains("h5p-dialogcards-quick-progression")&&e.callbacks.onNextCard({cardId:e.id,result:!0})}))},r.showSummaryButton=function(e){this.getDOM().find(".h5p-dialogcards-answer-button").addClass("h5p-dialogcards-button-hidden").attr("tabindex","-1"),this.$buttonTurn.addClass("h5p-dialogcards-button-gone"),this.$buttonShowSummary.click((function(){return e()})).removeClass("h5p-dialogcards-button-gone").focus()},r.hideSummaryButton=function(){"normal"!==this.params.mode&&(this.getDOM().find(".h5p-dialogcards-answer-button").removeClass("h5p-dialogcards-button-hidden").attr("tabindex","0"),this.$buttonTurn.removeClass("h5p-dialogcards-button-gone"),this.$buttonShowSummary.addClass("h5p-dialogcards-button-gone"))},r.turnCard=function(){var e=this,t=this.getDOM(),r=t.find(".h5p-dialogcards-card-content"),a=t.find(".h5p-dialogcards-cardholder").addClass("h5p-dialogcards-collapse");r.find(".joubel-tip-container").remove(),setTimeout((function(){var i=e.isTurned();if(r.toggleClass("h5p-dialogcards-turned",!i),a.removeClass("h5p-dialogcards-collapse"),e.changeText(i?e.getText():e.getAnswer()),e.stopAudio(),"repetition"===e.params.mode&&!e.params.behaviour.quickProgression){var n=t.find(".h5p-dialogcards-answer-button");!1===n.hasClass("h5p-dialogcards-quick-progression")&&n.addClass("h5p-dialogcards-quick-progression").attr("tabindex",0)}setTimeout((function(){e.addTipToCard(r,i?"front":"back"),"function"==typeof e.callbacks.onCardTurned&&e.callbacks.onCardTurned(i)}),200),e.resizeOverflowingText(),e.$cardTextArea.focus()}),200)},r.changeText=function(e){this.$cardTextArea.html(e),this.$cardTextArea.toggleClass("hide",!e||!e.length)},r.setProgressText=function(e,t){if("repetition"===this.params.mode){var r=this.params.progressText.replace("@card",e.toString()).replace("@total",t.toString());this.$cardWrapper.attr("aria-label",r)}},r.resizeOverflowingText=function(){if(this.params.behaviour.scaleTextNotCard){var e=this.getDOM().find(".h5p-dialogcards-card-text"),t=e.children();this.resizeTextToFitContainer(e,t)}},r.resizeTextToFitContainer=function(e,r){if(r.css("font-size",""),90===window.orientation){var a=this.getDOM().find(".h5p-dialogcards-card-text-inner").get(0);if(a.clientHeight<a.scrollHeight)for(var i=parseFloat(r.css("font-size"));i>t.MINSCALE&&a.clientHeight<a.scrollHeight;)i-=t.SCALEINTERVAL,r.css("font-size","".concat(i,"px"))}else{var n=e.get(0).getBoundingClientRect().height,s=r.get(0).getBoundingClientRect().height,o=parseFloat(e.css("font-size")),d=parseFloat(r.css("font-size")),c=this.getDOM().closest(".h5p-container"),l=parseFloat(c.css("font-size"));if(s>n)for(var u=!0;u;){if((d-=t.SCALEINTERVAL)<t.MINSCALE){u=!1;break}r.css("font-size",d/o+"em"),(s=r.get(0).getBoundingClientRect().height)<=n&&(u=!1)}else for(var h=!0;h;){if((d+=t.SCALEINTERVAL)>l){h=!1;break}r.css("font-size",d/o+"em"),(s=r.get(0).getBoundingClientRect().height)>=n&&(h=!1,d-=t.SCALEINTERVAL,r.css("font-size",d/o+"em"))}}},r.addTipToCard=function(e,t,r){"back"!==t&&(t="front"),void 0===r&&(r=this.id),e.find(".joubel-tip-container").remove();var a=(this.card[t].tip||"").trim();a.length&&e.find(".h5p-dialogcards-card-text-wrapper .h5p-dialogcards-card-text-inner").after(H5P.JoubelUI.createTip(a,{tipLabel:this.params.tipButtonLabel}))},r.setCardFocus=function(e){if(!0===e)this.$cardTextArea.focus();else{var t=this.getDOM();t.one("transitionend",(function(){t.focus()}))}},r.stopAudio=function(){var e=this;["front","back"].forEach((function(t){e.audios[t]&&e.audios[t].audio&&(e.audios[t].audio.duration>0&&(e.audios[t].audio.pause(),e.audios[t].audio.currentTime=Math.floor(e.audios[t].audio.duration)),e.audios[t].audio.load&&setTimeout((function(){e.audios[t].audio.load()}),100))}))},r.getDOM=function(){return this.$cardWrapper},r.setNoText=function(){this.getDOM().addClass("h5p-no-text")},r.getText=function(){return this.card.front.text},r.getAnswer=function(){return this.card.back.text},r.getImageWrapper=function(){return this.$imageWrapper},r.setImageHeight=function(e){this.$imageWrapper.css("height",e)},r.getAudio=function(){return this.isTurned()?this.$audioWrappers.back:this.$audioWrappers.front},r.isTurned=function(){return this.getDOM().find(".h5p-dialogcards-card-content").hasClass("h5p-dialogcards-turned")},r.reset=function(){var e=this.getDOM();e.removeClass("h5p-dialogcards-previous"),e.removeClass("h5p-dialogcards-current"),this.changeText(this.getText());var t=e.find(".h5p-dialogcards-card-content");t.removeClass("h5p-dialogcards-turned"),this.addTipToCard(t,"front",this.id),this.params.behaviour.quickProgression||e.find(".h5p-dialogcards-answer-button").removeClass("h5p-dialogcards-quick-progression"),this.hideSummaryButton()},t}();t.SCALEINTERVAL=.2,t.MAXSCALE=16,t.MINSCALE=4;var r=t,a=function(){function e(e,t,r){var a=this;return this.params=e,this.contentId=t,this.callbacks=r,this.cards=[],this.params.dialogs.forEach((function(e,t){e.id=t,a.cards.push(t)})),this}var t=e.prototype;return t.getCard=function(e){if(!(e<0||e>this.cards.length))return"number"==typeof this.cards[e]&&this.loadCard(e),this.cards[e]},t.getCardIds=function(){return this.cards.map((function(e,t){return t}))},t.loadCard=function(e){e<0||e>this.cards.length||"number"==typeof this.cards[e]&&(this.cards[e]=new r(this.params.dialogs[e],this.params,e,this.contentId,this.callbacks))},e}();function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var s=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.cards=e.filter((function(t,r){return e.indexOf(t)>=r})),this}var t=e.prototype;return t.getCards=function(){return this.cards},t.peek=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t=Math.max(0,t),"top"===e&&(e=0),"bottom"===e&&(e=this.cards.length-t),e<0||e>this.cards.length-1?[]:this.cards.slice(e,e+t)},t.add=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";"number"==typeof e&&(e=[e]),e.forEach((function(a){var n;-1===t.cards.indexOf(a)&&("top"===r?r=0:"bottom"===r?r=t.cards.length:"random"===r&&(r=Math.floor(Math.random()*t.cards.length)),(n=t.cards).splice.apply(n,[r,0].concat(i(e))))}))},t.push=function(e){this.add(e,"top")},t.pull=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return e=Math.max(1,Math.min(e,this.cards.length)),"top"===t&&(t=0),"bottom"===t&&(t=-e),t=Math.max(0,Math.min(t,this.cards.length-1)),this.cards.splice(t,e)},t.remove=function(e){var t=this;"number"==typeof e&&(e=[e]),e.forEach((function(e){var r=t.cards.indexOf(e);r>-1&&t.cards.splice(r,1)}))},t.shuffle=function(){for(var e=this.cards.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),r=[this.cards[t],this.cards[e]];this.cards[e]=r[0],this.cards[t]=r[1]}return this.cards},t.contains=function(e){return-1!==this.cards.indexOf(e)},t.length=function(){return this.cards.length},e}(),o=s;function d(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var l=function(){function e(e,t,r){return this.params=e,this.cardPool=new a(e,t,r),this.reset(e.cardPiles),this}var t=e.prototype;return t.createSelection=function(){var e=[];if("repetition"===this.params.mode)e=this.createSelectionRepetition();else e=this.cardPool.getCardIds();return e},t.createPiles=function(e){if(e)this.cardPiles=e.map((function(e){return new o(e.cards)}));else{this.cardPiles=[];var t=this.cardPool.getCardIds();switch(this.params.mode){case"repetition":for(var r=0;r<this.params.behaviour.maxProficiency;r++)0===r?this.cardPiles.push(new o(t)):this.cardPiles.push(new o);break;case"normal":this.cardPiles.push(new o(t))}}},t.updatePiles=function(e){var t=this;return e.forEach((function(e){var r=t.find(e.cardId);if(-1!==r){var a=!0===e.result?r+1:0;a=Math.max(0,Math.min(a,t.cardPiles.length-1)),t.cardPiles[r].remove(e.cardId),t.cardPiles[a].add(e.cardId,"bottom")}})),this.getPileSizes()},t.createSelectionRepetition=function(){for(var e=[],t=null,r=0;r<this.cardPiles.length-1;r++){var a,i=this.cardPiles[r].length();if(null!==t||0!==i){null===t&&(t=r);var n=Math.ceil(1*i/(1+r-t)),s=this.cardPiles[r].peek(0,n);e=(a=e).concat.apply(a,d(s))}}return e=this.shuffle(e)},t.shuffle=function(e){for(var t=e.slice(),r=t.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),i=[t[a],t[r]];t[r]=i[0],t[a]=i[1]}return t},t.find=function(e){var t=-1;return this.cardPiles.forEach((function(r,a){if(-1!==t)return t;r.contains(e)&&(t=a)})),t},t.reset=function(e){this.createPiles(e)},t.getCard=function(e){return this.cardPool.getCard(e)},t.getSize=function(){return this.cardPool.getCardIds().length},t.getPiles=function(){return this.cardPiles},t.getPileSizes=function(){return this.cardPiles.map((function(e){return e.length()}))},e}(),u=function(){function e(e,t){var r=this;this.params=e,this.callbacks=t,this.currentCallback=t.nextRound,this.fields=[],this.container=document.createElement("div"),this.container.classList.add("h5p-dialogcards-summary-screen");var a=this.createContainerDOM(e.summary);this.fields.round=a.getElementsByClassName("h5p-dialogcards-summary-subheader")[0],this.fields["h5p-dialogcards-round-cards-right"]=this.addTableRow(a,{category:this.params.summaryCardsRight,symbol:"h5p-dialogcards-check"}),this.fields["h5p-dialogcards-round-cards-wrong"]=this.addTableRow(a,{category:this.params.summaryCardsWrong,symbol:"h5p-dialogcards-times"}),this.fields["h5p-dialogcards-round-cards-not-shown"]=this.addTableRow(a,{category:this.params.summaryCardsNotShown});var i=this.createContainerDOM(e.summaryOverallScore);this.fields["h5p-dialogcards-overall-cards-completed"]=this.addTableRow(i,{category:this.params.summaryCardsCompleted,symbol:"h5p-dialogcards-check"}),this.fields["h5p-dialogcards-overall-completed-rounds"]=this.addTableRow(i,{category:this.params.summaryCompletedRounds,symbol:""});var n=document.createElement("div");n.classList.add("h5p-dialogcards-summary-message"),this.fields.message=n;var s=H5P.JoubelUI.createButton({class:"h5p-dialogcards-buttonNextRound",title:this.params.nextRound.replace("@round",2),html:this.params.nextRound.replace("@round",2)}).click(this.currentCallback).get(0);this.fields.button=s;var o=H5P.JoubelUI.createButton({class:"h5p-dialogcards-button-restart",title:this.params.startOver,html:this.params.startOver}).get(0),d=this.createConfirmationDialog({l10n:this.params.confirmStartingOver,instance:this},(function(){setTimeout((function(){r.callbacks.retry()}),100)}));o.addEventListener("click",(function(e){d.show(e.target.offsetTop)})),this.fields.buttonStartOver=o;var c=document.createElement("div");return c.classList.add("h5p-dialogcards-summary-footer"),c.appendChild(o),c.appendChild(s),this.container.appendChild(a),this.container.appendChild(i),this.container.appendChild(n),this.container.appendChild(c),this.hide(),this}var t=e.prototype;return t.getDOM=function(){return this.container},t.createContainerDOM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement("div");r.classList.add("h5p-dialogcards-summary-container");var a=document.createElement("div");a.classList.add("h5p-dialogcards-summary-header"),a.innerHTML=e,r.appendChild(a);var i=document.createElement("div");i.classList.add("h5p-dialogcards-summary-subheader"),i.innerHTML=t,r.appendChild(i);var n=document.createElement("table");return n.classList.add("h5p-dialogcards-summary-table"),r.appendChild(n),r},t.addTableRow=function(e,t){var r=e.getElementsByClassName("h5p-dialogcards-summary-table")[0],a=document.createElement("tr"),i=document.createElement("td");i.classList.add("h5p-dialogcards-summary-table-row-category"),i.innerHTML=t.category,a.appendChild(i);var n=document.createElement("td");n.classList.add("h5p-dialogcards-summary-table-row-symbol"),void 0!==t.symbol&&""!==t.symbol&&n.classList.add(t.symbol),a.appendChild(n);var s=document.createElement("td");return s.classList.add("h5p-dialogcards-summary-table-row-score"),a.appendChild(s),r.appendChild(a),s},t.update=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.done,a=void 0!==r&&r,i=t.round,n=void 0===i?void 0:i,s=t.message,o=void 0===s?void 0:s,d=t.results,c=void 0===d?[]:d;!0===a?(this.fields.buttonStartOver.classList.add("h5p-dialogcards-button-gone"),this.params.behaviour.enableRetry?(this.fields.button.classList.remove("h5p-dialogcards-button-next-round"),this.fields.button.classList.add("h5p-dialogcards-button-restart"),this.fields.button.innerHTML=this.params.retry,this.fields.button.title=this.params.retry,this.currentCallback=this.callbacks.retry):this.fields.button.classList.add("h5p-dialogcards-button-gone")):(this.fields.buttonStartOver.classList.remove("h5p-dialogcards-button-gone"),this.fields.button.classList.add("h5p-dialogcards-button-next-round"),this.fields.button.classList.remove("h5p-dialogcards-button-restart"),this.fields.button.innerHTML=this.params.nextRound,this.fields.button.title=this.params.nextRound,this.currentCallback=this.callbacks.nextRound),H5P.jQuery(this.fields.button).unbind("click").click(this.currentCallback),this.fields.round.innerHTML=this.params.round.replace("@round",n),a||void 0===n||(this.fields.button.innerHTML=this.params.nextRound.replace("@round",n+1),this.fields.button.title=this.params.nextRound.replace("@round",n+1)),a&&void 0!==o&&""!==o?(this.fields.message.classList.remove("h5p-dialogcards-gone"),this.fields.message.innerHTML=o):this.fields.message.classList.add("h5p-dialogcards-gone"),c.forEach((function(t){var r=void 0!==t.score.value?t.score.value:"";void 0!==t.score.max&&(r="".concat(r,'&nbsp;<span class="h5p-dialogcards-summary-table-row-score-divider">/</span>&nbsp;').concat(t.score.max)),e.fields[t.field].innerHTML=r}))},t.show=function(){this.container.classList.remove("h5p-dialogcards-gone"),this.fields.button.focus()},t.hide=function(){this.container.classList.add("h5p-dialogcards-gone")},t.createConfirmationDialog=function(e,t){e=e||{};var r=new H5P.ConfirmationDialog({instance:e.instance,headerText:e.l10n.header,dialogText:e.l10n.body,cancelText:e.l10n.cancelLabel,confirmText:e.l10n.confirmLabel});return r.on("confirmed",(function(){t()})),r.appendTo(this.getContainer()),r},t.getContainer=function(){var e=H5P.jQuery('[data-content-id="'+self.contentId+'"].h5p-content'),t=e.parents(".h5p-container");return(0!==t.length?t.last():0!==e.length?e:H5P.jQuery(document.body)).get(0)},e}(),h=u;function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var g=H5P.jQuery,m=H5P.JoubelUI,f=function(e){var t,r;function a(t,r,i){var n;return a.idCounter++,(n=e.call(this)||this).contentId=n.id=r,n.previousState=i.previousState||{},n.contentData=i||{},t.dialogs=t.dialogs||[],t.dialogs=t.dialogs.filter((function(e){if(!e.front||!e.back)return!1;if(!e.front.text&&!e.front.image&&!e.front.audio)return!1;var t=!e.back.text,r=e.back.useImageFromFront&&!e.front.image||!e.back.useImageFromFront&&!e.back.image,a=e.back.useAudioFromFront&&!e.front.audio||!e.back.useAudioFromFront&&!e.back.audio;return!(t&&r&&a)})),n.params=g.extend(!0,{title:"",mode:"normal",description:"Sit in pairs and make up sentences where you include the expressions below.<br/>Example: I should have said yes, HOWEVER I kept my mouth shut.",next:"Next",prev:"Previous",retry:"Retry",answer:"Turn",correctAnswer:"I got it right!",incorrectAnswer:"I got it wrong",round:"Round @round",cardsLeft:"Cards left: @number",nextRound:"Proceed to round @round",startOver:"Start over",showSummary:"Next",summary:"Summary",summaryCardsRight:"Cards you got right:",summaryCardsWrong:"Cards you got wrong:",summaryCardsNotShown:"Cards in pool not shown:",summaryOverallScore:"Overall Score",summaryCardsCompleted:"Cards you have completed learning:",summaryCompletedRounds:"Completed rounds:",summaryAllDone:"Well done! You got all @cards cards correct @max times in a row each!",progressText:"Card @card of @total",cardFrontLabel:"Card front",cardBackLabel:"Card back",tipButtonLabel:"Show tip",audioNotSupported:"Your browser does not support this audio",confirmStartingOver:{header:"Start over?",body:"All progress will be lost. Are you sure you want to start over?",cancelLabel:"Cancel",confirmLabel:"Start over"},dialogs:[{front:{text:"Horse"},back:{text:"Hest",useImageFromFront:!0,useAudioFromFront:!1}}],behaviour:{enableRetry:!0,disableBackwardsNavigation:!1,scaleTextNotCard:!1,randomCards:!1,maxProficiency:5,quickProgression:!1}},t),n.hasNoTexts=n.params.dialogs.every((function(e){return""===e.front.text&&""===e.back.text})),n.hasNoAudios=!n.params.dialogs.some((function(e){return e.front.audio||e.back.audio&&!e.back.useAudioFromFront})),n.cards=[],n.currentCardId=0,n.round=0,n.results=n.previousState.results||[],screen.orientation?screen.orientation.addEventListener("change",(function(){n.handleOrientationChange()})):window.addEventListener("orientationchange",(function(){n.handleOrientationChange()})),window.addEventListener("resize",(function(){n.resize()})),n.attach=function(e){n.$inner=e.addClass("h5p-dialogcards"),n.params.behaviour.scaleTextNotCard&&e.addClass("h5p-text-scaling"),n.$inner.get(0).addEventListener("dragstart",(function(e){e.preventDefault()}));var t={mode:n.params.mode,dialogs:n.params.dialogs,audioNotSupported:n.params.audioNotSupported,answer:n.params.answer,showSummary:n.params.showSummary,incorrectAnswer:n.params.incorrectAnswer,correctAnswer:n.params.correctAnswer,progressText:n.params.progressText,tipButtonLabel:n.params.tipButtonLabel,behaviour:{scaleTextNotCard:n.params.behaviour.scaleTextNotCard,maxProficiency:n.params.behaviour.maxProficiency,quickProgression:n.params.behaviour.quickProgression},cardPiles:n.previousState.cardPiles};n.cardManager=new l(t,n.id,{onCardTurned:n.handleCardTurned,onNextCard:n.nextCard}),n.createDOM(0===n.round),void 0!==n.previousState.currentCardId&&(n.gotoCard(n.previousState.currentCardId),"repetition"===n.params.mode&&n.results.length===n.cardIds.length&&n.showSummary(!0)),n.updateNavigation(),n.trigger("resize")},n.createDOM=function(e){if(n.cardIds=e&&n.previousState.cardIds?n.previousState.cardIds:n.cardManager.createSelection(),n.cardPoolSize=n.cardPoolSize||n.cardManager.getSize(),!0===e){var t=g("<div>"+n.params.title+"</div>").text().trim();n.$header=g((t?'<div class="h5p-dialogcards-title"><div class="h5p-dialogcards-title-inner">'+n.params.title+"</div></div>":"")+'<div class="h5p-dialogcards-description">'+n.params.description+"</div>"),n.summaryScreen=new h(n.params,{nextRound:n.nextRound,retry:n.restartRepetition})}!0===e?n.$cardwrapperSet=n.initCards(n.cardIds):(n.$cardwrapperSet.detach(),n.$cardwrapperSet=n.initCards(n.cardIds),n.$cardSideAnnouncer.before(n.$cardwrapperSet)),n.$cardwrapperSet.prepend(n.summaryScreen.getDOM()),!0===e&&(n.$cardSideAnnouncer=g("<div>",{html:n.params.cardFrontLabel,class:"h5p-dialogcards-card-side-announcer","aria-live":"polite","aria-hidden":"true"}),n.$footer=n.createFooter(),n.$mainContent=g("<div>").append(n.$header).append(n.$cardwrapperSet).append(n.$cardSideAnnouncer).append(n.$footer).appendTo(n.$inner),n.hasNoTexts&&n.cards.forEach((function(e){e.setNoText()})),n.on("reset",(function(){this.reset()})),n.on("resize",n.resize),n.round=void 0!==n.previousState.round?n.previousState.round:1)},n.createFooter=function(){var e=g("<nav>",{class:"h5p-dialogcards-footer",role:"navigation"});return"normal"===n.params.mode?(n.$prev=m.createButton({class:"h5p-dialogcards-footer-button h5p-dialogcards-prev truncated","aria-label":n.params.prev,title:n.params.prev}).click((function(){n.prevCard()})).appendTo(e),n.$next=m.createButton({class:"h5p-dialogcards-footer-button h5p-dialogcards-next truncated","aria-label":n.params.next,title:n.params.next}).click((function(){n.nextCard()})).appendTo(e),n.$retry=m.createButton({class:"h5p-dialogcards-footer-button h5p-dialogcards-retry h5p-dialogcards-disabled",title:n.params.retry,html:n.params.retry}).click((function(){n.trigger("reset")})).appendTo(e),n.$progress=g("<div>",{id:"h5p-dialogcards-progress-"+a.idCounter,class:"h5p-dialogcards-progress","aria-live":"assertive"}).appendTo(e)):(n.$round=g("<div>",{class:"h5p-dialogcards-round"}).appendTo(e),n.$progress=g("<div>",{class:"h5p-dialogcards-cards-left","aria-live":"assertive"}).appendTo(e)),e},n.updateImageSize=function(){var e=0,t=n.cards[n.currentCardId].getDOM().find(".h5p-dialogcards-card-content");if(n.params.dialogs.forEach((function(r){var a;r.front.image&&(a=r.front.image.height/r.front.image.width*t.get(0).getBoundingClientRect().width)>e&&(e=a),r.back.image&&(a=r.back.image.height/r.back.image.width*t.get(0).getBoundingClientRect().width)>e&&(e=a)})),e>0){var r=e/parseFloat(n.$inner.css("font-size"));r>15&&(r=15),n.cards.forEach((function(e){e.setImageHeight("".concat(r,"em"))}))}},n.initCards=function(e){n.cards=[],n.currentCardId=0,n.params.behaviour.randomCards&&(e=H5P.shuffleArray(e));for(var t=g("<div>",{class:"h5p-dialogcards-cardwrap-set"}),r=0;r<e.length&&!(r>=2);r++){var a=n.getCard(e[r]);a.setProgressText(r+1,e.length),n.cards.push(a);var i=a.getDOM();r===n.currentCardId&&(i.addClass("h5p-dialogcards-current"),n.$current=i),a.addTipToCard(i.find(".h5p-dialogcards-card-content"),"front",r),t.append(i)}return t},n.handleCardTurned=function(e){n.$cardSideAnnouncer.html(e?n.params.cardFrontLabel:n.params.cardBackLabel),n.params.behaviour.enableRetry&&n.currentCardId+1===n.cardIds.length&&n.$retry&&(n.$retry.removeClass("h5p-dialogcards-disabled"),n.truncateRetryButton())},n.updateNavigation=function(){if("normal"===n.params.mode)n.getCurrentSelectionIndex()<n.cardIds.length-1?(n.$next.removeClass("h5p-dialogcards-disabled"),n.$retry.addClass("h5p-dialogcards-disabled")):n.$next.addClass("h5p-dialogcards-disabled"),n.currentCardId>0&&!n.params.behaviour.disableBackwardsNavigation?n.$prev.removeClass("h5p-dialogcards-disabled"):n.$prev.addClass("h5p-dialogcards-disabled"),n.$progress.text(n.params.progressText.replace("@card",n.getCurrentSelectionIndex()+1).replace("@total",n.cardIds.length)),n.cards[n.findCardPosition(n.cards[n.currentCardId].id)].resizeOverflowingText();else{n.$round.text(n.params.round.replace("@round",n.round));var e=n.getCurrentSelectionIndex();n.$progress.text(n.params.cardsLeft.replace("@number",n.cardIds.length-e))}n.trigger("resize")},n.showSummary=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?n.cardManager.getPileSizes():n.cardManager.updatePiles(n.results),r=n.results.filter((function(e){return!0===e.result})).length,a=n.results.length-r,i=n.cardPoolSize-r-a,s=t.slice(-1)[0],o=s===n.cardPoolSize,d={round:n.round,results:[{field:"h5p-dialogcards-round-cards-right",score:{value:r,max:a+r}},{field:"h5p-dialogcards-round-cards-wrong",score:{value:a,max:a+r}},{field:"h5p-dialogcards-round-cards-not-shown",score:{value:i}},{field:"h5p-dialogcards-overall-cards-completed",score:{value:s,max:n.cardPoolSize}},{field:"h5p-dialogcards-overall-completed-rounds",score:{value:n.round}}]};o&&(d.done=!0,d.message=n.params.summaryAllDone.replace("@cards",n.cardPoolSize).replace("@max",n.params.behaviour.maxProficiency-1)),n.summaryScreen.update(d),n.summaryScreen.show(),n.hideCards(),n.trigger("resize")},n.showCards=function(){n.$cardwrapperSet.find(".h5p-dialogcards-cardwrap").removeClass("h5p-dialogcards-gone"),n.$footer.removeClass("h5p-dialogcards-gone"),n.cardsShown=!0},n.hideCards=function(){n.$cardwrapperSet.find(".h5p-dialogcards-cardwrap").addClass("h5p-dialogcards-gone"),n.$footer.addClass("h5p-dialogcards-gone"),n.cardsShown=!1},n.nextCard=function(e){void 0!==e&&n.results.push(e),n.cards[n.currentCardId].stopAudio(),n.cardIds.length-n.getCurrentSelectionIndex()!=1?n.gotoCard(n.getCurrentSelectionIndex()+1):"repetition"===n.params.mode&&(n.$progress.text(n.params.cardsLeft.replace("@number",0)),n.cards[n.currentCardId].showSummaryButton(n.showSummary))},n.getCard=function(e){var t=n.cardManager.getCard(e);return t.createButtonListeners(),t},n.findCardPosition=function(e){var t;return n.cards.forEach((function(r,a){t||r.id!==e||(t=a)})),t},n.insertCardToDOM=function(e,t){var r=e.getDOM();void 0===t?r.appendTo(n.$cardwrapperSet):0===t?n.$cardwrapperSet.prepend(r):n.$cardwrapperSet.children().eq(t).after(r),e.addTipToCard(r.find(".h5p-dialogcards-card-content"),"front",t)},n.gotoCard=function(e){if(!(e<0||e>=n.cardIds.length)){var t=n.cards[n.currentCardId];t.stopAudio(),t.getDOM().removeClass("h5p-dialogcards-current");var r=[];e>0&&r.push(e-1),r.push(e),e+1<n.cardIds.length&&r.push(e+1),r.forEach((function(e){if(void 0===n.findCardPosition(n.cardIds[e])){var t=n.getCard(n.cardIds[e]);t.setProgressText(e+1,n.cardIds.length);var r=Math.min(e+1,n.cardIds.length-1),a=n.findCardPosition(n.cardIds[r])||n.cards.length;n.cards.splice(a,0,t),n.insertCardToDOM(t,a)}})),n.resize(),e=n.findCardPosition(n.cardIds[e]),n.cards.forEach((function(t,r){r<e?t.getDOM().addClass("h5p-dialogcards-previous"):(t.getDOM().removeClass("h5p-dialogcards-previous"),r===e&&t.getDOM().addClass("h5p-dialogcards-current"))})),n.currentCardId=e,n.updateNavigation(),n.cards[n.currentCardId].setCardFocus()}},n.prevCard=function(){n.gotoCard(n.getCurrentSelectionIndex()-1)},n.showAllAudio=function(){n.$cardwrapperSet.find(".h5p-audio-inner").removeClass("hide")},n.restartRepetition=function(){n.cardManager.reset(),n.round=0,n.nextRound()},n.nextRound=function(){n.round++,n.summaryScreen.hide(),n.showCards(),n.reset(),n.createDOM(),n.updateNavigation(),n.cards[n.currentCardId].setCardFocus(!0),n.trigger("resize")},n.reset=function(){n.results=[],n.cards[n.currentCardId].stopAudio(n.$current.index()),n.cards.forEach((function(e){e.reset()})),n.currentCardId=0,"normal"===n.params.mode&&n.cards[n.currentCardId].getDOM().addClass("h5p-dialogcards-current"),n.updateNavigation(),n.$retry&&n.$retry.addClass("h5p-dialogcards-disabled"),n.showAllAudio(),n.cards[n.currentCardId].resizeOverflowingText(),n.cards[n.currentCardId].setCardFocus()},n.resize=function(){var e;n.handleOrientationChange();var t=null,r=(n.$inner.find(".h5p-dialogcards-title").outerHeight()||0)+(n.$inner.find(".h5p-dialogcards-description").outerHeight(!0)||0)+(n.$footer.outerHeight()||0),a=n.isMobileLandscape();if("number"==typeof window.orientation&&n.$cardwrapperSet.find(".h5p-dialogcards-summary-screen").hasClass("h5p-dialogcards-gone")&&n.params.behaviour.scaleTextNotCard){if(n.$inner.toggleClass("h5p-landscape",a),a){var i,s,o;t=n.isRoot()?n.computeDisplayLimitsKLL():null;var d=n.isIOS()&&a?screen.width:screen.height;1===(null===(i=t)||void 0===i?void 0:i.height)&&(t.height=d),(null===(s=t)||void 0===s?void 0:s.height)<360&&n.$inner.css("font-size","0.5em"),null!==(o=t)&&void 0!==o&&o.height?n.$cardwrapperSet.css("max-height","".concat(t.height-r,"px")):n.$cardwrapperSet.css("max-height","")}}else n.$cardwrapperSet.css("max-height","");var c=0;if(t&&a&&n.params.behaviour.scaleTextNotCard?n.cards.forEach((function(e){e.setImageHeight("")})):n.updateImageSize(),n.params.behaviour.scaleTextNotCard||!1===n.cardsShown||n.determineCardSizes(),n.params.behaviour.scaleTextNotCard&&a&&null!==(e=t)&&void 0!==e&&e.height&&n.$cardwrapperSet.find(".h5p-dialogcards-summary-screen").hasClass("h5p-dialogcards-gone")){var l,u;if((null===(l=t)||void 0===l?void 0:l.height)-r>1)n.$cardwrapperSet.css("height","".concat((null===(u=t)||void 0===u?void 0:u.height)-r,"px"))}else{n.$cardwrapperSet.css("height","auto"),n.$cardwrapperSet.children(":not(.h5p-dialogcards-gone)").each((function(){var e=g(this).css("height","initial").outerHeight();if(g(this).css("height","inherit"),c=Math.max(e,c),!g(this).next(".h5p-dialogcards-cardwrap").length){var t=g(this).find(".h5p-dialogcards-cardholder").css("height","initial").outerHeight();c=Math.max(t,c),g(this).find(".h5p-dialogcards-cardholder").css("height","inherit")}}));var h=c/parseFloat(n.$cardwrapperSet.css("font-size"));n.$cardwrapperSet.css("height",h+"em")}n.scaleToFitHeight(),n.truncateRetryButton(),n.cards[n.currentCardId].resizeOverflowingText()},n.determineCardSizes=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n);void 0===n.cardSizeDetermined&&(n.cardSizeDetermined=[]),n.$cardwrapperSet.children(":visible").each((function(t){var r=e.cards[t].id;if(-1===e.cardSizeDetermined.indexOf(r)){e.cardSizeDetermined.push(r);var a=g(".h5p-dialogcards-card-content",this),i=g(".h5p-dialogcards-card-text-inner-content",a),n=i[0].getBoundingClientRect().height,s=e.cards[t];s.changeText(s.getAnswer());var o=i[0].getBoundingClientRect().height,d=n>o?n:o,c=parseFloat(i.parent().parent().css("minHeight"));if(d<c&&(d=c),e.hasNoTexts){var l=i.find(".h5p-dialogcards-card-text");d=e.hasNoAudios?0:d-parseFloat(l.css("height")),l.css("height",0)}d/=parseFloat(a.css("fontSize")),i.parent().css("height",d+"em"),s.changeText(s.getText())}}))},n.scaleToFitHeight=function(){if(n.$cardwrapperSet&&n.$cardwrapperSet.is(":visible")&&n.params.behaviour.scaleTextNotCard)if(n.$inner.parents(".h5p-course-presentation").length){var e=n.$inner.parent();n.$inner.parents(".h5p-popup-container").length&&(e=n.$inner.parents(".h5p-popup-container"));var t=e.get(0).getBoundingClientRect().height,r=function(){var e=0;return n.$inner.children().each((function(){var t=g(this);e+=this.getBoundingClientRect().height+parseFloat(t.css("margin-top"))+parseFloat(t.css("margin-bottom"))})),e},i=r(),s=parseFloat(n.$inner.parent().css("font-size")),o=parseFloat(n.$inner.css("font-size"));if(t<i)for(;t<i&&!((o-=a.SCALEINTERVAL)<a.MINSCALE);)n.$inner.css("font-size",o/s+"em"),i=r();else for(var d=!0;d;){if((o+=a.SCALEINTERVAL)>a.MAXSCALE){d=!1;break}var c=o/s;n.$inner.css("font-size",c+"em"),t<=(i=r())&&(d=!1,c=(o-a.SCALEINTERVAL)/s,n.$inner.css("font-size",c+"em"))}}else n.cards[n.currentCardId].resizeOverflowingText()},n.truncateRetryButton=function(){if(n.$retry){n.$retry.removeClass("truncated"),n.$retry.html(n.params.retry);(n.$retry.get(0).getBoundingClientRect().width+parseFloat(n.$retry.css("margin-left"))+parseFloat(n.$retry.css("margin-right")))/n.$retry.parent().get(0).getBoundingClientRect().width>.3&&(n.$retry.addClass("truncated"),n.$retry.html(""))}},n.getCurrentSelectionIndex=function(){return n.cardIds.indexOf(n.cards[n.currentCardId].id)},n.getTitle=function(){return H5P.createTitle(n.contentData&&n.contentData.metadata&&n.contentData.metadata.title?n.contentData.metadata.title:"Dialog Cards")},n.getCurrentState=function(){return{cardPiles:n.cardManager.getPiles(),cardIds:n.cardIds,round:n.round,currentCardId:n.getCurrentSelectionIndex(),results:n.results}},n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,p(t,r);var i=a.prototype;return i.computeDisplayLimits=function(){var e=this.getTopWindow(),t=this.isIOS()&&"landscape"===this.getOrientation()?{height:screen.width,width:screen.height}:{height:screen.height,width:screen.width};return e=e||{innerHeight:t.height,innerWidth:t.width},{height:Math.min(e.innerHeight,t.height),width:Math.min(e.innerWidth,this.$inner.get(0).offsetWidth)}},i.computeDisplayLimitsKLL=function(){var e=this.computeDisplayLimits();return e.height=Math.min(e.height,document.body.offsetHeight),e},i.isIOS=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},i.isMobileLandscape=function(){return this.isMobileDevice()&&"landscape"===this.getOrientation()},i.isMobileDevice=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t},i.getOrientation=function(){if(screen.orientation&&screen.orientation.type){if(screen.orientation.type.includes("portrait"))return"portrait";if(screen.orientation.type.includes("landscape"))return"landscape"}if("number"==typeof window.orientation){if(0===window.orientation||180===window.orientation)return"portrait";if(90===window.orientation||-90===window.orientation||270===window.orientation)return"landscape"}return"landscape"},i.getTopWindow=function(e){var t;e=e||window;try{t=e.parent.location.host===window.location.host}catch(e){t=null}return t?e.parent!==e&&e.parent?this.getTopWindow(e.parent):e:null},i.handleOrientationChange=function(){var e=this;if(this.params.behaviour.scaleTextNotCard){var t=this.isMobileLandscape();this.cards.forEach((function(r){"repetition"===e.params.mode&&(r.$buttonTurn.text(t?"":e.params.answer),r.$buttonCorrect.text(t?"":e.params.correctAnswer),r.$buttonIncorrect.text(t?"":e.params.incorrectAnswer)),t||e.$cardwrapperSet.css("max-height","")}))}},a}(H5P.EventDispatcher);f.idCounter=0,f.SCALEINTERVAL=.2,f.MAXSCALE=16,f.MINSCALE=4;var v=f;H5P.Dialogcards=v}();